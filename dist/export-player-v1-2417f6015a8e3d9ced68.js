webpackJsonp([17],{0:function(module,exports,__webpack_require__){(function(global){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;window;!function(factory){var root="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(3),__webpack_require__(1),exports],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(_,$,exports){root.Backbone=factory(root,exports,_,$)}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(function(root,Backbone,_,$){var previousBackbone=root.Backbone,slice=Array.prototype.slice;Backbone.VERSION="1.3.3",Backbone.$=$,Backbone.noConflict=function(){return root.Backbone=previousBackbone,this},Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1;var addMethod=function(length,method,attribute){switch(length){case 1:return function(){return _[method](this[attribute])};case 2:return function(value){return _[method](this[attribute],value)};case 3:return function(iteratee,context){return _[method](this[attribute],cb(iteratee,this),context)};case 4:return function(iteratee,defaultVal,context){return _[method](this[attribute],cb(iteratee,this),defaultVal,context)};default:return function(){var args=slice.call(arguments);return args.unshift(this[attribute]),_[method].apply(_,args)}}},addUnderscoreMethods=function(Class,methods,attribute){_.each(methods,function(length,method){_[method]&&(Class.prototype[method]=addMethod(length,method,attribute))})},cb=function(iteratee,instance){return _.isFunction(iteratee)?iteratee:_.isObject(iteratee)&&!instance._isModel(iteratee)?modelMatcher(iteratee):_.isString(iteratee)?function(model){return model.get(iteratee)}:iteratee},modelMatcher=function(attrs){var matcher=_.matches(attrs);return function(model){return matcher(model.attributes)}},Events=Backbone.Events={},eventSplitter=/\s+/,eventsApi=function(iteratee,events,name,callback,opts){var names,i=0;if(name&&"object"==typeof name){void 0!==callback&&"context"in opts&&void 0===opts.context&&(opts.context=callback);for(names=_.keys(name);i<names.length;i++)events=eventsApi(iteratee,events,names[i],name[names[i]],opts)}else if(name&&eventSplitter.test(name))for(names=name.split(eventSplitter);i<names.length;i++)events=iteratee(events,names[i],callback,opts);else events=iteratee(events,name,callback,opts);return events};Events.on=function(name,callback,context){return internalOn(this,name,callback,context)};var internalOn=function(obj,name,callback,context,listening){if(obj._events=eventsApi(onApi,obj._events||{},name,callback,{context:context,ctx:obj,listening:listening}),listening){(obj._listeners||(obj._listeners={}))[listening.id]=listening}return obj};Events.listenTo=function(obj,name,callback){if(!obj)return this;var id=obj._listenId||(obj._listenId=_.uniqueId("l")),listeningTo=this._listeningTo||(this._listeningTo={}),listening=listeningTo[id];if(!listening){var thisId=this._listenId||(this._listenId=_.uniqueId("l"));listening=listeningTo[id]={obj:obj,objId:id,id:thisId,listeningTo:listeningTo,count:0}}return internalOn(obj,name,callback,this,listening),this};var onApi=function(events,name,callback,options){if(callback){var handlers=events[name]||(events[name]=[]),context=options.context,ctx=options.ctx,listening=options.listening;listening&&listening.count++,handlers.push({callback:callback,context:context,ctx:context||ctx,listening:listening})}return events};Events.off=function(name,callback,context){return this._events?(this._events=eventsApi(offApi,this._events,name,callback,{context:context,listeners:this._listeners}),this):this},Events.stopListening=function(obj,name,callback){var listeningTo=this._listeningTo;if(!listeningTo)return this;for(var ids=obj?[obj._listenId]:_.keys(listeningTo),i=0;i<ids.length;i++){var listening=listeningTo[ids[i]];if(!listening)break;listening.obj.off(name,callback,this)}return this};var offApi=function(events,name,callback,options){if(events){var listening,i=0,context=options.context,listeners=options.listeners;if(name||callback||context){for(var names=name?[name]:_.keys(events);i<names.length;i++){name=names[i];var handlers=events[name];if(!handlers)break;for(var remaining=[],j=0;j<handlers.length;j++){var handler=handlers[j];callback&&callback!==handler.callback&&callback!==handler.callback._callback||context&&context!==handler.context?remaining.push(handler):(listening=handler.listening)&&0==--listening.count&&(delete listeners[listening.id],delete listening.listeningTo[listening.objId])}remaining.length?events[name]=remaining:delete events[name]}return events}for(var ids=_.keys(listeners);i<ids.length;i++)listening=listeners[ids[i]],delete listeners[listening.id],delete listening.listeningTo[listening.objId]}};Events.once=function(name,callback,context){var events=eventsApi(onceMap,{},name,callback,_.bind(this.off,this));return"string"==typeof name&&null==context&&(callback=void 0),this.on(events,callback,context)},Events.listenToOnce=function(obj,name,callback){var events=eventsApi(onceMap,{},name,callback,_.bind(this.stopListening,this,obj));return this.listenTo(obj,events)};var onceMap=function(map,name,callback,offer){if(callback){var once=map[name]=_.once(function(){offer(name,once),callback.apply(this,arguments)});once._callback=callback}return map};Events.trigger=function(name){if(!this._events)return this;for(var length=Math.max(0,arguments.length-1),args=Array(length),i=0;i<length;i++)args[i]=arguments[i+1];return eventsApi(triggerApi,this._events,name,void 0,args),this};var triggerApi=function(objEvents,name,callback,args){if(objEvents){var events=objEvents[name],allEvents=objEvents.all;events&&allEvents&&(allEvents=allEvents.slice()),events&&triggerEvents(events,args),allEvents&&triggerEvents(allEvents,[name].concat(args))}return objEvents},triggerEvents=function(events,args){var ev,i=-1,l=events.length,a1=args[0],a2=args[1],a3=args[2];switch(args.length){case 0:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx);return;case 1:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx,a1);return;case 2:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx,a1,a2);return;case 3:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx,a1,a2,a3);return;default:for(;++i<l;)(ev=events[i]).callback.apply(ev.ctx,args);return}};Events.bind=Events.on,Events.unbind=Events.off,_.extend(Backbone,Events);var Model=Backbone.Model=function(attributes,options){var attrs=attributes||{};options||(options={}),this.cid=_.uniqueId(this.cidPrefix),this.attributes={},options.collection&&(this.collection=options.collection),options.parse&&(attrs=this.parse(attrs,options)||{});var defaults=_.result(this,"defaults");attrs=_.defaults(_.extend({},defaults,attrs),defaults),this.set(attrs,options),this.changed={},this.initialize.apply(this,arguments)};_.extend(Model.prototype,Events,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(options){return _.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(attr){return this.attributes[attr]},escape:function(attr){return _.escape(this.get(attr))},has:function(attr){return null!=this.get(attr)},matches:function(attrs){return!!_.iteratee(attrs,this)(this.attributes)},set:function(key,val,options){if(null==key)return this;var attrs;if("object"==typeof key?(attrs=key,options=val):(attrs={})[key]=val,options||(options={}),!this._validate(attrs,options))return!1;var unset=options.unset,silent=options.silent,changes=[],changing=this._changing;this._changing=!0,changing||(this._previousAttributes=_.clone(this.attributes),this.changed={});var current=this.attributes,changed=this.changed,prev=this._previousAttributes;for(var attr in attrs)val=attrs[attr],_.isEqual(current[attr],val)||changes.push(attr),_.isEqual(prev[attr],val)?delete changed[attr]:changed[attr]=val,unset?delete current[attr]:current[attr]=val;if(this.idAttribute in attrs&&(this.id=this.get(this.idAttribute)),!silent){changes.length&&(this._pending=options);for(var i=0;i<changes.length;i++)this.trigger("change:"+changes[i],this,current[changes[i]],options)}if(changing)return this;if(!silent)for(;this._pending;)options=this._pending,this._pending=!1,this.trigger("change",this,options);return this._pending=!1,this._changing=!1,this},unset:function(attr,options){return this.set(attr,void 0,_.extend({},options,{unset:!0}))},clear:function(options){var attrs={};for(var key in this.attributes)attrs[key]=void 0;return this.set(attrs,_.extend({},options,{unset:!0}))},hasChanged:function(attr){return null==attr?!_.isEmpty(this.changed):_.has(this.changed,attr)},changedAttributes:function(diff){if(!diff)return!!this.hasChanged()&&_.clone(this.changed);var old=this._changing?this._previousAttributes:this.attributes,changed={};for(var attr in diff){var val=diff[attr];_.isEqual(old[attr],val)||(changed[attr]=val)}return!!_.size(changed)&&changed},previous:function(attr){return null!=attr&&this._previousAttributes?this._previousAttributes[attr]:null},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(options){options=_.extend({parse:!0},options);var model=this,success=options.success;return options.success=function(resp){var serverAttrs=options.parse?model.parse(resp,options):resp;if(!model.set(serverAttrs,options))return!1;success&&success.call(options.context,model,resp,options),model.trigger("sync",model,resp,options)},wrapError(this,options),this.sync("read",this,options)},save:function(key,val,options){var attrs;null==key||"object"==typeof key?(attrs=key,options=val):(attrs={})[key]=val,options=_.extend({validate:!0,parse:!0},options);var wait=options.wait;if(attrs&&!wait){if(!this.set(attrs,options))return!1}else if(!this._validate(attrs,options))return!1;var model=this,success=options.success,attributes=this.attributes;options.success=function(resp){model.attributes=attributes;var serverAttrs=options.parse?model.parse(resp,options):resp;if(wait&&(serverAttrs=_.extend({},attrs,serverAttrs)),serverAttrs&&!model.set(serverAttrs,options))return!1;success&&success.call(options.context,model,resp,options),model.trigger("sync",model,resp,options)},wrapError(this,options),attrs&&wait&&(this.attributes=_.extend({},attributes,attrs));var method=this.isNew()?"create":options.patch?"patch":"update";"patch"!==method||options.attrs||(options.attrs=attrs);var xhr=this.sync(method,this,options);return this.attributes=attributes,xhr},destroy:function(options){options=options?_.clone(options):{};var model=this,success=options.success,wait=options.wait,destroy=function(){model.stopListening(),model.trigger("destroy",model,model.collection,options)};options.success=function(resp){wait&&destroy(),success&&success.call(options.context,model,resp,options),model.isNew()||model.trigger("sync",model,resp,options)};var xhr=!1;return this.isNew()?_.defer(options.success):(wrapError(this,options),xhr=this.sync("delete",this,options)),wait||destroy(),xhr},url:function(){var base=_.result(this,"urlRoot")||_.result(this.collection,"url")||urlError();if(this.isNew())return base;var id=this.get(this.idAttribute);return base.replace(/[^\/]$/,"$&/")+encodeURIComponent(id)},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(options){return this._validate({},_.extend({},options,{validate:!0}))},_validate:function(attrs,options){if(!options.validate||!this.validate)return!0;attrs=_.extend({},this.attributes,attrs);var error=this.validationError=this.validate(attrs,options)||null;return!error||(this.trigger("invalid",this,error,_.extend(options,{validationError:error})),!1)}}),addUnderscoreMethods(Model,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var Collection=Backbone.Collection=function(models,options){options||(options={}),options.model&&(this.model=options.model),void 0!==options.comparator&&(this.comparator=options.comparator),this._reset(),this.initialize.apply(this,arguments),models&&this.reset(models,_.extend({silent:!0},options))},setOptions={add:!0,remove:!0,merge:!0},addOptions={add:!0,remove:!1},splice=function(array,insert,at){at=Math.min(Math.max(at,0),array.length);var i,tail=Array(array.length-at),length=insert.length;for(i=0;i<tail.length;i++)tail[i]=array[i+at];for(i=0;i<length;i++)array[i+at]=insert[i];for(i=0;i<tail.length;i++)array[i+length+at]=tail[i]};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(models,options){return this.set(models,_.extend({merge:!1},options,addOptions))},remove:function(models,options){options=_.extend({},options);var singular=!_.isArray(models);models=singular?[models]:models.slice();var removed=this._removeModels(models,options);return!options.silent&&removed.length&&(options.changes={added:[],merged:[],removed:removed},this.trigger("update",this,options)),singular?removed[0]:removed},set:function(models,options){if(null!=models){options=_.extend({},setOptions,options),options.parse&&!this._isModel(models)&&(models=this.parse(models,options)||[]);var singular=!_.isArray(models);models=singular?[models]:models.slice();var at=options.at;null!=at&&(at=+at),at>this.length&&(at=this.length),at<0&&(at+=this.length+1);var model,i,set=[],toAdd=[],toMerge=[],toRemove=[],modelMap={},add=options.add,merge=options.merge,remove=options.remove,sort=!1,sortable=this.comparator&&null==at&&!1!==options.sort,sortAttr=_.isString(this.comparator)?this.comparator:null;for(i=0;i<models.length;i++){model=models[i];var existing=this.get(model);if(existing){if(merge&&model!==existing){var attrs=this._isModel(model)?model.attributes:model;options.parse&&(attrs=existing.parse(attrs,options)),existing.set(attrs,options),toMerge.push(existing),sortable&&!sort&&(sort=existing.hasChanged(sortAttr))}modelMap[existing.cid]||(modelMap[existing.cid]=!0,set.push(existing)),models[i]=existing}else add&&(model=models[i]=this._prepareModel(model,options))&&(toAdd.push(model),this._addReference(model,options),modelMap[model.cid]=!0,set.push(model))}if(remove){for(i=0;i<this.length;i++)model=this.models[i],modelMap[model.cid]||toRemove.push(model);toRemove.length&&this._removeModels(toRemove,options)}var orderChanged=!1,replace=!sortable&&add&&remove;if(set.length&&replace?(orderChanged=this.length!==set.length||_.some(this.models,function(m,index){return m!==set[index]}),this.models.length=0,splice(this.models,set,0),this.length=this.models.length):toAdd.length&&(sortable&&(sort=!0),splice(this.models,toAdd,null==at?this.length:at),this.length=this.models.length),sort&&this.sort({silent:!0}),!options.silent){for(i=0;i<toAdd.length;i++)null!=at&&(options.index=at+i),model=toAdd[i],model.trigger("add",model,this,options);(sort||orderChanged)&&this.trigger("sort",this,options),(toAdd.length||toRemove.length||toMerge.length)&&(options.changes={added:toAdd,removed:toRemove,merged:toMerge},this.trigger("update",this,options))}return singular?models[0]:models}},reset:function(models,options){options=options?_.clone(options):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],options);return options.previousModels=this.models,this._reset(),models=this.add(models,_.extend({silent:!0},options)),options.silent||this.trigger("reset",this,options),models},push:function(model,options){return this.add(model,_.extend({at:this.length},options))},pop:function(options){var model=this.at(this.length-1);return this.remove(model,options)},unshift:function(model,options){return this.add(model,_.extend({at:0},options))},shift:function(options){var model=this.at(0);return this.remove(model,options)},slice:function(){return slice.apply(this.models,arguments)},get:function(obj){if(null!=obj)return this._byId[obj]||this._byId[this.modelId(obj.attributes||obj)]||obj.cid&&this._byId[obj.cid]},has:function(obj){return null!=this.get(obj)},at:function(index){return index<0&&(index+=this.length),this.models[index]},where:function(attrs,first){return this[first?"find":"filter"](attrs)},findWhere:function(attrs){return this.where(attrs,!0)},sort:function(options){var comparator=this.comparator;if(!comparator)throw new Error("Cannot sort a set without a comparator");options||(options={});var length=comparator.length;return _.isFunction(comparator)&&(comparator=_.bind(comparator,this)),1===length||_.isString(comparator)?this.models=this.sortBy(comparator):this.models.sort(comparator),options.silent||this.trigger("sort",this,options),this},pluck:function(attr){return this.map(attr+"")},fetch:function(options){options=_.extend({parse:!0},options);var success=options.success,collection=this;return options.success=function(resp){var method=options.reset?"reset":"set";collection[method](resp,options),success&&success.call(options.context,collection,resp,options),collection.trigger("sync",collection,resp,options)},wrapError(this,options),this.sync("read",this,options)},create:function(model,options){options=options?_.clone(options):{};var wait=options.wait;if(!(model=this._prepareModel(model,options)))return!1;wait||this.add(model,options);var collection=this,success=options.success;return options.success=function(m,resp,callbackOpts){wait&&collection.add(m,callbackOpts),success&&success.call(callbackOpts.context,m,resp,callbackOpts)},model.save(null,options),model},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(attrs){return attrs[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(attrs,options){if(this._isModel(attrs))return attrs.collection||(attrs.collection=this),attrs;options=options?_.clone(options):{},options.collection=this;var model=new this.model(attrs,options);return model.validationError?(this.trigger("invalid",this,model.validationError,options),!1):model},_removeModels:function(models,options){for(var removed=[],i=0;i<models.length;i++){var model=this.get(models[i]);if(model){var index=this.indexOf(model);this.models.splice(index,1),this.length--,delete this._byId[model.cid];var id=this.modelId(model.attributes);null!=id&&delete this._byId[id],options.silent||(options.index=index,model.trigger("remove",model,this,options)),removed.push(model),this._removeReference(model,options)}}return removed},_isModel:function(model){return model instanceof Model},_addReference:function(model,options){this._byId[model.cid]=model;var id=this.modelId(model.attributes);null!=id&&(this._byId[id]=model),model.on("all",this._onModelEvent,this)},_removeReference:function(model,options){delete this._byId[model.cid];var id=this.modelId(model.attributes);null!=id&&delete this._byId[id],this===model.collection&&delete model.collection,model.off("all",this._onModelEvent,this)},_onModelEvent:function(event,model,collection,options){if(model){if(("add"===event||"remove"===event)&&collection!==this)return;if("destroy"===event&&this.remove(model,options),"change"===event){var prevId=this.modelId(model.previousAttributes()),id=this.modelId(model.attributes);prevId!==id&&(null!=prevId&&delete this._byId[prevId],null!=id&&(this._byId[id]=model))}}this.trigger.apply(this,arguments)}}),addUnderscoreMethods(Collection,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var View=Backbone.View=function(options){this.cid=_.uniqueId("view"),_.extend(this,_.pick(options,viewOptions)),this._ensureElement(),this.initialize.apply(this,arguments)},delegateEventSplitter=/^(\S+)\s*(.*)$/,viewOptions=["model","collection","el","id","attributes","className","tagName","events"];_.extend(View.prototype,Events,{tagName:"div",$:function(selector){return this.$el.find(selector)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(element){return this.undelegateEvents(),this._setElement(element),this.delegateEvents(),this},_setElement:function(el){this.$el=el instanceof Backbone.$?el:Backbone.$(el),this.el=this.$el[0]},delegateEvents:function(events){if(events||(events=_.result(this,"events")),!events)return this;this.undelegateEvents();for(var key in events){var method=events[key];if(_.isFunction(method)||(method=this[method]),method){var match=key.match(delegateEventSplitter);this.delegate(match[1],match[2],_.bind(method,this))}}return this},delegate:function(eventName,selector,listener){return this.$el.on(eventName+".delegateEvents"+this.cid,selector,listener),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(eventName,selector,listener){return this.$el.off(eventName+".delegateEvents"+this.cid,selector,listener),this},_createElement:function(tagName){return document.createElement(tagName)},_ensureElement:function(){if(this.el)this.setElement(_.result(this,"el"));else{var attrs=_.extend({},_.result(this,"attributes"));this.id&&(attrs.id=_.result(this,"id")),this.className&&(attrs.class=_.result(this,"className")),this.setElement(this._createElement(_.result(this,"tagName"))),this._setAttributes(attrs)}},_setAttributes:function(attributes){this.$el.attr(attributes)}}),Backbone.sync=function(method,model,options){var type=methodMap[method];_.defaults(options||(options={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var params={type:type,dataType:"json"};if(options.url||(params.url=_.result(model,"url")||urlError()),null!=options.data||!model||"create"!==method&&"update"!==method&&"patch"!==method||(params.contentType="application/json",params.data=JSON.stringify(options.attrs||model.toJSON(options))),options.emulateJSON&&(params.contentType="application/x-www-form-urlencoded",params.data=params.data?{model:params.data}:{}),options.emulateHTTP&&("PUT"===type||"DELETE"===type||"PATCH"===type)){params.type="POST",options.emulateJSON&&(params.data._method=type);var beforeSend=options.beforeSend;options.beforeSend=function(xhr){if(xhr.setRequestHeader("X-HTTP-Method-Override",type),beforeSend)return beforeSend.apply(this,arguments)}}"GET"===params.type||options.emulateJSON||(params.processData=!1);var error=options.error;options.error=function(xhr,textStatus,errorThrown){options.textStatus=textStatus,options.errorThrown=errorThrown,error&&error.call(options.context,xhr,textStatus,errorThrown)};var xhr=options.xhr=Backbone.ajax(_.extend(params,options));return model.trigger("request",model,xhr,options),xhr};var methodMap={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var Router=Backbone.Router=function(options){options||(options={}),options.routes&&(this.routes=options.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},optionalParam=/\((.*?)\)/g,namedParam=/(\(\?)?:\w+/g,splatParam=/\*\w+/g,escapeRegExp=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(Router.prototype,Events,{initialize:function(){},route:function(route,name,callback){_.isRegExp(route)||(route=this._routeToRegExp(route)),_.isFunction(name)&&(callback=name,name=""),callback||(callback=this[name]);var router=this;return Backbone.history.route(route,function(fragment){var args=router._extractParameters(route,fragment);!1!==router.execute(callback,args,name)&&(router.trigger.apply(router,["route:"+name].concat(args)),router.trigger("route",name,args),Backbone.history.trigger("route",router,name,args))}),this},execute:function(callback,args,name){callback&&callback.apply(this,args)},navigate:function(fragment,options){return Backbone.history.navigate(fragment,options),this},_bindRoutes:function(){if(this.routes){this.routes=_.result(this,"routes");for(var route,routes=_.keys(this.routes);null!=(route=routes.pop());)this.route(route,this.routes[route])}},_routeToRegExp:function(route){return route=route.replace(escapeRegExp,"\\$&").replace(optionalParam,"(?:$1)?").replace(namedParam,function(match,optional){return optional?match:"([^/?]+)"}).replace(splatParam,"([^?]*?)"),new RegExp("^"+route+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(route,fragment){var params=route.exec(fragment).slice(1);return _.map(params,function(param,i){return i===params.length-1?param||null:param?decodeURIComponent(param):null})}});var History=Backbone.History=function(){this.handlers=[],this.checkUrl=_.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},routeStripper=/^[#\/]|\s+$/g,rootStripper=/^\/+|\/+$/g,pathStripper=/#.*$/;History.started=!1,_.extend(History.prototype,Events,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(fragment){return decodeURI(fragment.replace(/%25/g,"%2525"))},getSearch:function(){var match=this.location.href.replace(/#.*/,"").match(/\?.+/);return match?match[0]:""},getHash:function(window){var match=(window||this).location.href.match(/#(.*)$/);return match?match[1]:""},getPath:function(){var path=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===path.charAt(0)?path.slice(1):path},getFragment:function(fragment){return null==fragment&&(fragment=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),fragment.replace(routeStripper,"")},start:function(options){if(History.started)throw new Error("Backbone.history has already been started");if(History.started=!0,this.options=_.extend({root:"/"},this.options,options),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(rootStripper,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var rootPath=this.root.slice(0,-1)||"/";return this.location.replace(rootPath+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var body=document.body,iWindow=body.insertBefore(this.iframe,body.firstChild).contentWindow;iWindow.document.open(),iWindow.document.close(),iWindow.location.hash="#"+this.fragment}var addEventListener=window.addEventListener||function(eventName,listener){return attachEvent("on"+eventName,listener)};if(this._usePushState?addEventListener("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?addEventListener("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var removeEventListener=window.removeEventListener||function(eventName,listener){return detachEvent("on"+eventName,listener)};this._usePushState?removeEventListener("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&removeEventListener("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),History.started=!1},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(e){var current=this.getFragment();if(current===this.fragment&&this.iframe&&(current=this.getHash(this.iframe.contentWindow)),current===this.fragment)return!1;this.iframe&&this.navigate(current),this.loadUrl()},loadUrl:function(fragment){return!!this.matchRoot()&&(fragment=this.fragment=this.getFragment(fragment),_.some(this.handlers,function(handler){if(handler.route.test(fragment))return handler.callback(fragment),!0}))},navigate:function(fragment,options){if(!History.started)return!1;options&&!0!==options||(options={trigger:!!options}),fragment=this.getFragment(fragment||"");var rootPath=this.root;""!==fragment&&"?"!==fragment.charAt(0)||(rootPath=rootPath.slice(0,-1)||"/");var url=rootPath+fragment;if(fragment=this.decodeFragment(fragment.replace(pathStripper,"")),this.fragment!==fragment){if(this.fragment=fragment,this._usePushState)this.history[options.replace?"replaceState":"pushState"]({},document.title,url);else{if(!this._wantsHashChange)return this.location.assign(url);if(this._updateHash(this.location,fragment,options.replace),this.iframe&&fragment!==this.getHash(this.iframe.contentWindow)){var iWindow=this.iframe.contentWindow;options.replace||(iWindow.document.open(),iWindow.document.close()),this._updateHash(iWindow.location,fragment,options.replace)}}return options.trigger?this.loadUrl(fragment):void 0}},_updateHash:function(location,fragment,replace){if(replace){var href=location.href.replace(/(javascript:|#).*$/,"");location.replace(href+"#"+fragment)}else location.hash="#"+fragment}}),Backbone.history=new History;var extend=function(protoProps,staticProps){var child,parent=this;return child=protoProps&&_.has(protoProps,"constructor")?protoProps.constructor:function(){return parent.apply(this,arguments)},_.extend(child,parent,staticProps),child.prototype=_.create(parent.prototype,protoProps),child.prototype.constructor=child,child.__super__=parent.prototype,child};Model.extend=Collection.extend=Router.extend=View.extend=History.extend=extend;var urlError=function(){throw new Error('A "url" property or function must be specified')},wrapError=function(model,options){var error=options.error;options.error=function(resp){error&&error.call(options.context,model,resp,options),model.trigger("error",model,resp,options)}};return Backbone})}).call(exports,__webpack_require__(16))},10:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default={views:{},get:function(model,klass){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},view=void 0,ns=options.ns||"default";null==this.views[ns]&&(this.views[ns]={});var views=this.views[ns],className=this.className(klass);return model?(null==views[model.cid]&&(views[model.cid]={}),null==views[model.cid][className]&&(null==options.model&&(options.model=model),views[model.cid][className]=new klass(options)),view=views[model.cid][className]):(null==views[className]&&(views[className]=new klass(options)),view=views[className]),view},remove:function(model,klass){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ns=options.ns||"default",views=this.views[ns],className=this.className(klass);if(model){if(!views[model.cid])return!1;null!=views[model.cid][className]&&(views[model.cid][className].remove(),delete views[model.cid][className])}else null!=views[className]&&(views[className].remove(),delete views[className])},className:function(klass){return klass.name||klass.toString().match(/^\s*function\s+([^(\s]*)\s*/)[1]}},module.exports=exports.default},108:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(root,factory){__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return root.Chartist=factory()}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(this,function(){var Chartist={version:"0.11.0"};return function(window,document,Chartist){"use strict";Chartist.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},Chartist.noop=function(n){return n},Chartist.alphaNumerate=function(n){return String.fromCharCode(97+n%26)},Chartist.extend=function(target){var i,source,sourceProp;for(target=target||{},i=1;i<arguments.length;i++){source=arguments[i];for(var prop in source)sourceProp=source[prop],"object"!=typeof sourceProp||null===sourceProp||sourceProp instanceof Array?target[prop]=sourceProp:target[prop]=Chartist.extend(target[prop],sourceProp)}return target},Chartist.replaceAll=function(str,subStr,newSubStr){return str.replace(new RegExp(subStr,"g"),newSubStr)},Chartist.ensureUnit=function(value,unit){return"number"==typeof value&&(value+=unit),value},Chartist.quantity=function(input){if("string"==typeof input){var match=/^(\d+)\s*(.*)$/g.exec(input);return{value:+match[1],unit:match[2]||void 0}}return{value:input}},Chartist.querySelector=function(query){return query instanceof Node?query:document.querySelector(query)},Chartist.times=function(length){return Array.apply(null,new Array(length))},Chartist.sum=function(previous,current){return previous+(current||0)},Chartist.mapMultiply=function(factor){return function(num){return num*factor}},Chartist.mapAdd=function(addend){return function(num){return num+addend}},Chartist.serialMap=function(arr,cb){var result=[],length=Math.max.apply(null,arr.map(function(e){return e.length}));return Chartist.times(length).forEach(function(e,index){var args=arr.map(function(e){return e[index]});result[index]=cb.apply(null,args)}),result},Chartist.roundWithPrecision=function(value,digits){var precision=Math.pow(10,digits||Chartist.precision);return Math.round(value*precision)/precision},Chartist.precision=8,Chartist.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},Chartist.serialize=function(data){return null===data||void 0===data?data:("number"==typeof data?data=""+data:"object"==typeof data&&(data=JSON.stringify({data:data})),Object.keys(Chartist.escapingMap).reduce(function(result,key){return Chartist.replaceAll(result,key,Chartist.escapingMap[key])},data))},Chartist.deserialize=function(data){if("string"!=typeof data)return data;data=Object.keys(Chartist.escapingMap).reduce(function(result,key){return Chartist.replaceAll(result,Chartist.escapingMap[key],key)},data);try{data=JSON.parse(data),data=void 0!==data.data?data.data:data}catch(e){}return data},Chartist.createSvg=function(container,width,height,className){var svg;return width=width||"100%",height=height||"100%",Array.prototype.slice.call(container.querySelectorAll("svg")).filter(function(svg){return svg.getAttributeNS(Chartist.namespaces.xmlns,"ct")}).forEach(function(svg){container.removeChild(svg)}),svg=new Chartist.Svg("svg").attr({width:width,height:height}).addClass(className),svg._node.style.width=width,svg._node.style.height=height,container.appendChild(svg._node),svg},Chartist.normalizeData=function(data,reverse,multi){var labelCount,output={raw:data,normalized:{}};return output.normalized.series=Chartist.getDataArray({series:data.series||[]},reverse,multi),labelCount=output.normalized.series.every(function(value){return value instanceof Array})?Math.max.apply(null,output.normalized.series.map(function(series){return series.length})):output.normalized.series.length,output.normalized.labels=(data.labels||[]).slice(),Array.prototype.push.apply(output.normalized.labels,Chartist.times(Math.max(0,labelCount-output.normalized.labels.length)).map(function(){return""})),reverse&&Chartist.reverseData(output.normalized),output},Chartist.safeHasProperty=function(object,property){return null!==object&&"object"==typeof object&&object.hasOwnProperty(property)},Chartist.isDataHoleValue=function(value){return null===value||void 0===value||"number"==typeof value&&isNaN(value)},Chartist.reverseData=function(data){data.labels.reverse(),data.series.reverse();for(var i=0;i<data.series.length;i++)"object"==typeof data.series[i]&&void 0!==data.series[i].data?data.series[i].data.reverse():data.series[i]instanceof Array&&data.series[i].reverse()},Chartist.getDataArray=function(data,reverse,multi){function recursiveConvert(value){if(Chartist.safeHasProperty(value,"value"))return recursiveConvert(value.value);if(Chartist.safeHasProperty(value,"data"))return recursiveConvert(value.data);if(value instanceof Array)return value.map(recursiveConvert);if(!Chartist.isDataHoleValue(value)){if(multi){var multiValue={};return"string"==typeof multi?multiValue[multi]=Chartist.getNumberOrUndefined(value):multiValue.y=Chartist.getNumberOrUndefined(value),multiValue.x=value.hasOwnProperty("x")?Chartist.getNumberOrUndefined(value.x):multiValue.x,multiValue.y=value.hasOwnProperty("y")?Chartist.getNumberOrUndefined(value.y):multiValue.y,multiValue}return Chartist.getNumberOrUndefined(value)}}return data.series.map(recursiveConvert)},Chartist.normalizePadding=function(padding,fallback){return fallback=fallback||0,"number"==typeof padding?{top:padding,right:padding,bottom:padding,left:padding}:{top:"number"==typeof padding.top?padding.top:fallback,right:"number"==typeof padding.right?padding.right:fallback,bottom:"number"==typeof padding.bottom?padding.bottom:fallback,left:"number"==typeof padding.left?padding.left:fallback}},Chartist.getMetaData=function(series,index){var value=series.data?series.data[index]:series[index];return value?value.meta:void 0},Chartist.orderOfMagnitude=function(value){return Math.floor(Math.log(Math.abs(value))/Math.LN10)},Chartist.projectLength=function(axisLength,length,bounds){return length/bounds.range*axisLength},Chartist.getAvailableHeight=function(svg,options){return Math.max((Chartist.quantity(options.height).value||svg.height())-(options.chartPadding.top+options.chartPadding.bottom)-options.axisX.offset,0)},Chartist.getHighLow=function(data,options,dimension){function recursiveHighLow(data){if(void 0!==data)if(data instanceof Array)for(var i=0;i<data.length;i++)recursiveHighLow(data[i]);else{var value=dimension?+data[dimension]:+data;findHigh&&value>highLow.high&&(highLow.high=value),findLow&&value<highLow.low&&(highLow.low=value)}}options=Chartist.extend({},options,dimension?options["axis"+dimension.toUpperCase()]:{});var highLow={high:void 0===options.high?-Number.MAX_VALUE:+options.high,low:void 0===options.low?Number.MAX_VALUE:+options.low},findHigh=void 0===options.high,findLow=void 0===options.low;return(findHigh||findLow)&&recursiveHighLow(data),(options.referenceValue||0===options.referenceValue)&&(highLow.high=Math.max(options.referenceValue,highLow.high),highLow.low=Math.min(options.referenceValue,highLow.low)),highLow.high<=highLow.low&&(0===highLow.low?highLow.high=1:highLow.low<0?highLow.high=0:highLow.high>0?highLow.low=0:(highLow.high=1,highLow.low=0)),highLow},Chartist.isNumeric=function(value){return null!==value&&isFinite(value)},Chartist.isFalseyButZero=function(value){return!value&&0!==value},Chartist.getNumberOrUndefined=function(value){return Chartist.isNumeric(value)?+value:void 0},Chartist.isMultiValue=function(value){return"object"==typeof value&&("x"in value||"y"in value)},Chartist.getMultiValue=function(value,dimension){return Chartist.isMultiValue(value)?Chartist.getNumberOrUndefined(value[dimension||"y"]):Chartist.getNumberOrUndefined(value)},Chartist.rho=function(num){function gcd(p,q){return p%q==0?q:gcd(q,p%q)}function f(x){return x*x+1}if(1===num)return num;var divisor,x1=2,x2=2;if(num%2==0)return 2;do{x1=f(x1)%num,x2=f(f(x2))%num,divisor=gcd(Math.abs(x1-x2),num)}while(1===divisor);return divisor},Chartist.getBounds=function(axisLength,highLow,scaleMinSpace,onlyInteger){function safeIncrement(value,increment){return value===(value+=increment)&&(value*=1+(increment>0?EPSILON:-EPSILON)),value}var i,newMin,newMax,optimizationCounter=0,bounds={high:highLow.high,low:highLow.low};bounds.valueRange=bounds.high-bounds.low,bounds.oom=Chartist.orderOfMagnitude(bounds.valueRange),bounds.step=Math.pow(10,bounds.oom),bounds.min=Math.floor(bounds.low/bounds.step)*bounds.step,bounds.max=Math.ceil(bounds.high/bounds.step)*bounds.step,bounds.range=bounds.max-bounds.min,bounds.numberOfSteps=Math.round(bounds.range/bounds.step);var length=Chartist.projectLength(axisLength,bounds.step,bounds),scaleUp=length<scaleMinSpace,smallestFactor=onlyInteger?Chartist.rho(bounds.range):0;if(onlyInteger&&Chartist.projectLength(axisLength,1,bounds)>=scaleMinSpace)bounds.step=1;else if(onlyInteger&&smallestFactor<bounds.step&&Chartist.projectLength(axisLength,smallestFactor,bounds)>=scaleMinSpace)bounds.step=smallestFactor;else for(;;){if(scaleUp&&Chartist.projectLength(axisLength,bounds.step,bounds)<=scaleMinSpace)bounds.step*=2;else{if(scaleUp||!(Chartist.projectLength(axisLength,bounds.step/2,bounds)>=scaleMinSpace))break;if(bounds.step/=2,onlyInteger&&bounds.step%1!=0){bounds.step*=2;break}}if(optimizationCounter++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var EPSILON=2.221e-16;for(bounds.step=Math.max(bounds.step,EPSILON),newMin=bounds.min,newMax=bounds.max;newMin+bounds.step<=bounds.low;)newMin=safeIncrement(newMin,bounds.step);for(;newMax-bounds.step>=bounds.high;)newMax=safeIncrement(newMax,-bounds.step);bounds.min=newMin,bounds.max=newMax,bounds.range=bounds.max-bounds.min;var values=[];for(i=bounds.min;i<=bounds.max;i=safeIncrement(i,bounds.step)){var value=Chartist.roundWithPrecision(i);value!==values[values.length-1]&&values.push(value)}return bounds.values=values,bounds},Chartist.polarToCartesian=function(centerX,centerY,radius,angleInDegrees){var angleInRadians=(angleInDegrees-90)*Math.PI/180;return{x:centerX+radius*Math.cos(angleInRadians),y:centerY+radius*Math.sin(angleInRadians)}},Chartist.createChartRect=function(svg,options,fallbackPadding){var hasAxis=!(!options.axisX&&!options.axisY),yAxisOffset=hasAxis?options.axisY.offset:0,xAxisOffset=hasAxis?options.axisX.offset:0,width=svg.width()||Chartist.quantity(options.width).value||0,height=svg.height()||Chartist.quantity(options.height).value||0,normalizedPadding=Chartist.normalizePadding(options.chartPadding,fallbackPadding);width=Math.max(width,yAxisOffset+normalizedPadding.left+normalizedPadding.right),height=Math.max(height,xAxisOffset+normalizedPadding.top+normalizedPadding.bottom);var chartRect={padding:normalizedPadding,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return hasAxis?("start"===options.axisX.position?(chartRect.y2=normalizedPadding.top+xAxisOffset,chartRect.y1=Math.max(height-normalizedPadding.bottom,chartRect.y2+1)):(chartRect.y2=normalizedPadding.top,chartRect.y1=Math.max(height-normalizedPadding.bottom-xAxisOffset,chartRect.y2+1)),"start"===options.axisY.position?(chartRect.x1=normalizedPadding.left+yAxisOffset,chartRect.x2=Math.max(width-normalizedPadding.right,chartRect.x1+1)):(chartRect.x1=normalizedPadding.left,chartRect.x2=Math.max(width-normalizedPadding.right-yAxisOffset,chartRect.x1+1))):(chartRect.x1=normalizedPadding.left,chartRect.x2=Math.max(width-normalizedPadding.right,chartRect.x1+1),chartRect.y2=normalizedPadding.top,chartRect.y1=Math.max(height-normalizedPadding.bottom,chartRect.y2+1)),chartRect},Chartist.createGrid=function(position,index,axis,offset,length,group,classes,eventEmitter){var positionalData={};positionalData[axis.units.pos+"1"]=position,positionalData[axis.units.pos+"2"]=position,positionalData[axis.counterUnits.pos+"1"]=offset,positionalData[axis.counterUnits.pos+"2"]=offset+length;var gridElement=group.elem("line",positionalData,classes.join(" "));eventEmitter.emit("draw",Chartist.extend({type:"grid",axis:axis,index:index,group:group,element:gridElement},positionalData))},Chartist.createGridBackground=function(gridGroup,chartRect,className,eventEmitter){var gridBackground=gridGroup.elem("rect",{x:chartRect.x1,y:chartRect.y2,width:chartRect.width(),height:chartRect.height()},className,!0);eventEmitter.emit("draw",{type:"gridBackground",group:gridGroup,element:gridBackground})},Chartist.createLabel=function(position,length,index,labels,axis,axisOffset,labelOffset,group,classes,useForeignObject,eventEmitter){var labelElement,positionalData={};if(positionalData[axis.units.pos]=position+labelOffset[axis.units.pos],positionalData[axis.counterUnits.pos]=labelOffset[axis.counterUnits.pos],positionalData[axis.units.len]=length,positionalData[axis.counterUnits.len]=Math.max(0,axisOffset-10),useForeignObject){var content=document.createElement("span");content.className=classes.join(" "),content.setAttribute("xmlns",Chartist.namespaces.xhtml),content.innerText=labels[index],content.style[axis.units.len]=Math.round(positionalData[axis.units.len])+"px",content.style[axis.counterUnits.len]=Math.round(positionalData[axis.counterUnits.len])+"px",labelElement=group.foreignObject(content,Chartist.extend({style:"overflow: visible;"},positionalData))}else labelElement=group.elem("text",positionalData,classes.join(" ")).text(labels[index]);eventEmitter.emit("draw",Chartist.extend({type:"label",axis:axis,index:index,group:group,element:labelElement,text:labels[index]},positionalData))},Chartist.getSeriesOption=function(series,options,key){if(series.name&&options.series&&options.series[series.name]){var seriesOptions=options.series[series.name];return seriesOptions.hasOwnProperty(key)?seriesOptions[key]:options[key]}return options[key]},Chartist.optionsProvider=function(options,responsiveOptions,eventEmitter){function updateCurrentOptions(mediaEvent){var previousOptions=currentOptions;if(currentOptions=Chartist.extend({},baseOptions),responsiveOptions)for(i=0;i<responsiveOptions.length;i++){var mql=window.matchMedia(responsiveOptions[i][0]);mql.matches&&(currentOptions=Chartist.extend(currentOptions,responsiveOptions[i][1]))}eventEmitter&&mediaEvent&&eventEmitter.emit("optionsChanged",{previousOptions:previousOptions,currentOptions:currentOptions})}function removeMediaQueryListeners(){mediaQueryListeners.forEach(function(mql){mql.removeListener(updateCurrentOptions)})}var currentOptions,i,baseOptions=Chartist.extend({},options),mediaQueryListeners=[];if(!window.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(responsiveOptions)for(i=0;i<responsiveOptions.length;i++){var mql=window.matchMedia(responsiveOptions[i][0]);mql.addListener(updateCurrentOptions),mediaQueryListeners.push(mql)}return updateCurrentOptions(),{removeMediaQueryListeners:removeMediaQueryListeners,getCurrentOptions:function(){return Chartist.extend({},currentOptions)}}},Chartist.splitIntoSegments=function(pathCoordinates,valueData,options){var defaultOptions={increasingX:!1,fillHoles:!1};options=Chartist.extend({},defaultOptions,options);for(var segments=[],hole=!0,i=0;i<pathCoordinates.length;i+=2)void 0===Chartist.getMultiValue(valueData[i/2].value)?options.fillHoles||(hole=!0):(options.increasingX&&i>=2&&pathCoordinates[i]<=pathCoordinates[i-2]&&(hole=!0),hole&&(segments.push({pathCoordinates:[],valueData:[]}),hole=!1),segments[segments.length-1].pathCoordinates.push(pathCoordinates[i],pathCoordinates[i+1]),segments[segments.length-1].valueData.push(valueData[i/2]));return segments}}(window,document,Chartist),function(window,document,Chartist){"use strict";Chartist.Interpolation={},Chartist.Interpolation.none=function(options){var defaultOptions={fillHoles:!1};return options=Chartist.extend({},defaultOptions,options),function(pathCoordinates,valueData){for(var path=new Chartist.Svg.Path,hole=!0,i=0;i<pathCoordinates.length;i+=2){var currX=pathCoordinates[i],currY=pathCoordinates[i+1],currData=valueData[i/2];void 0!==Chartist.getMultiValue(currData.value)?(hole?path.move(currX,currY,!1,currData):path.line(currX,currY,!1,currData),hole=!1):options.fillHoles||(hole=!0)}return path}},Chartist.Interpolation.simple=function(options){var defaultOptions={divisor:2,fillHoles:!1};options=Chartist.extend({},defaultOptions,options);var d=1/Math.max(1,options.divisor);return function(pathCoordinates,valueData){for(var prevX,prevY,prevData,path=new Chartist.Svg.Path,i=0;i<pathCoordinates.length;i+=2){var currX=pathCoordinates[i],currY=pathCoordinates[i+1],length=(currX-prevX)*d,currData=valueData[i/2];void 0!==currData.value?(void 0===prevData?path.move(currX,currY,!1,currData):path.curve(prevX+length,prevY,currX-length,currY,currX,currY,!1,currData),prevX=currX,prevY=currY,prevData=currData):options.fillHoles||(prevX=currX=prevData=void 0)}return path}},Chartist.Interpolation.cardinal=function(options){var defaultOptions={tension:1,fillHoles:!1};options=Chartist.extend({},defaultOptions,options);var t=Math.min(1,Math.max(0,options.tension)),c=1-t;return function cardinal(pathCoordinates,valueData){var segments=Chartist.splitIntoSegments(pathCoordinates,valueData,{fillHoles:options.fillHoles});if(segments.length){if(segments.length>1){var paths=[];return segments.forEach(function(segment){paths.push(cardinal(segment.pathCoordinates,segment.valueData))}),Chartist.Svg.Path.join(paths)}if(pathCoordinates=segments[0].pathCoordinates,valueData=segments[0].valueData,pathCoordinates.length<=4)return Chartist.Interpolation.none()(pathCoordinates,valueData);for(var path=(new Chartist.Svg.Path).move(pathCoordinates[0],pathCoordinates[1],!1,valueData[0]),i=0,iLen=pathCoordinates.length;iLen-2>i;i+=2){var p=[{x:+pathCoordinates[i-2],y:+pathCoordinates[i-1]},{x:+pathCoordinates[i],y:+pathCoordinates[i+1]},{x:+pathCoordinates[i+2],y:+pathCoordinates[i+3]},{x:+pathCoordinates[i+4],y:+pathCoordinates[i+5]}];iLen-4===i?p[3]=p[2]:i||(p[0]={x:+pathCoordinates[i],y:+pathCoordinates[i+1]}),path.curve(t*(-p[0].x+6*p[1].x+p[2].x)/6+c*p[2].x,t*(-p[0].y+6*p[1].y+p[2].y)/6+c*p[2].y,t*(p[1].x+6*p[2].x-p[3].x)/6+c*p[2].x,t*(p[1].y+6*p[2].y-p[3].y)/6+c*p[2].y,p[2].x,p[2].y,!1,valueData[(i+2)/2])}return path}return Chartist.Interpolation.none()([])}},Chartist.Interpolation.monotoneCubic=function(options){var defaultOptions={fillHoles:!1};return options=Chartist.extend({},defaultOptions,options),function monotoneCubic(pathCoordinates,valueData){var segments=Chartist.splitIntoSegments(pathCoordinates,valueData,{fillHoles:options.fillHoles,increasingX:!0});if(segments.length){if(segments.length>1){var paths=[];return segments.forEach(function(segment){paths.push(monotoneCubic(segment.pathCoordinates,segment.valueData))}),Chartist.Svg.Path.join(paths)}if(pathCoordinates=segments[0].pathCoordinates,valueData=segments[0].valueData,pathCoordinates.length<=4)return Chartist.Interpolation.none()(pathCoordinates,valueData);var i,path,xs=[],ys=[],n=pathCoordinates.length/2,ms=[],ds=[],dys=[],dxs=[];for(i=0;i<n;i++)xs[i]=pathCoordinates[2*i],ys[i]=pathCoordinates[2*i+1];for(i=0;i<n-1;i++)dys[i]=ys[i+1]-ys[i],dxs[i]=xs[i+1]-xs[i],ds[i]=dys[i]/dxs[i];for(ms[0]=ds[0],ms[n-1]=ds[n-2],i=1;i<n-1;i++)0===ds[i]||0===ds[i-1]||ds[i-1]>0!=ds[i]>0?ms[i]=0:(ms[i]=3*(dxs[i-1]+dxs[i])/((2*dxs[i]+dxs[i-1])/ds[i-1]+(dxs[i]+2*dxs[i-1])/ds[i]),isFinite(ms[i])||(ms[i]=0));for(path=(new Chartist.Svg.Path).move(xs[0],ys[0],!1,valueData[0]),i=0;i<n-1;i++)path.curve(xs[i]+dxs[i]/3,ys[i]+ms[i]*dxs[i]/3,xs[i+1]-dxs[i]/3,ys[i+1]-ms[i+1]*dxs[i]/3,xs[i+1],ys[i+1],!1,valueData[i+1]);return path}return Chartist.Interpolation.none()([])}},Chartist.Interpolation.step=function(options){var defaultOptions={postpone:!0,fillHoles:!1};return options=Chartist.extend({},defaultOptions,options),function(pathCoordinates,valueData){for(var prevX,prevY,prevData,path=new Chartist.Svg.Path,i=0;i<pathCoordinates.length;i+=2){var currX=pathCoordinates[i],currY=pathCoordinates[i+1],currData=valueData[i/2];void 0!==currData.value?(void 0===prevData?path.move(currX,currY,!1,currData):(options.postpone?path.line(currX,prevY,!1,prevData):path.line(prevX,currY,!1,currData),path.line(currX,currY,!1,currData)),prevX=currX,prevY=currY,prevData=currData):options.fillHoles||(prevX=prevY=prevData=void 0)}return path}}}(window,document,Chartist),function(window,document,Chartist){"use strict";Chartist.EventEmitter=function(){function addEventHandler(event,handler){handlers[event]=handlers[event]||[],handlers[event].push(handler)}function removeEventHandler(event,handler){handlers[event]&&(handler?(handlers[event].splice(handlers[event].indexOf(handler),1),0===handlers[event].length&&delete handlers[event]):delete handlers[event])}function emit(event,data){handlers[event]&&handlers[event].forEach(function(handler){handler(data)}),handlers["*"]&&handlers["*"].forEach(function(starHandler){starHandler(event,data)})}var handlers=[];return{addEventHandler:addEventHandler,removeEventHandler:removeEventHandler,emit:emit}}}(window,document,Chartist),function(window,document,Chartist){"use strict";function listToArray(list){var arr=[];if(list.length)for(var i=0;i<list.length;i++)arr.push(list[i]);return arr}function extend(properties,superProtoOverride){var superProto=superProtoOverride||this.prototype||Chartist.Class,proto=Object.create(superProto);Chartist.Class.cloneDefinitions(proto,properties);var constr=function(){var instance,fn=proto.constructor||function(){};return instance=this===Chartist?Object.create(proto):this,fn.apply(instance,Array.prototype.slice.call(arguments,0)),instance};return constr.prototype=proto,constr.super=superProto,constr.extend=this.extend,constr}function cloneDefinitions(){var args=listToArray(arguments),target=args[0];return args.splice(1,args.length-1).forEach(function(source){Object.getOwnPropertyNames(source).forEach(function(propName){delete target[propName],Object.defineProperty(target,propName,Object.getOwnPropertyDescriptor(source,propName))})}),target}Chartist.Class={extend:extend,cloneDefinitions:cloneDefinitions}}(window,document,Chartist),function(window,document,Chartist){"use strict";function update(data,options,override){return data&&(this.data=data||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),options&&(this.options=Chartist.extend({},override?this.options:this.defaultOptions,options),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=Chartist.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this}function detach(){return this.initializeTimeoutId?window.clearTimeout(this.initializeTimeoutId):(window.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this}function on(event,handler){return this.eventEmitter.addEventHandler(event,handler),this}function off(event,handler){return this.eventEmitter.removeEventHandler(event,handler),this}function initialize(){window.addEventListener("resize",this.resizeListener),this.optionsProvider=Chartist.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(plugin){plugin instanceof Array?plugin[0](this,plugin[1]):plugin(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}function Base(query,data,defaultOptions,options,responsiveOptions){this.container=Chartist.querySelector(query),this.data=data||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=defaultOptions,this.options=options,this.responsiveOptions=responsiveOptions,this.eventEmitter=Chartist.EventEmitter(),this.supportsForeignObject=Chartist.Svg.isSupported("Extensibility"),this.supportsAnimations=Chartist.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(initialize.bind(this),0)}Chartist.Base=Chartist.Class.extend({constructor:Base,optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:update,detach:detach,on:on,off:off,version:Chartist.version,supportsForeignObject:!1})}(window,document,Chartist),function(window,document,Chartist){"use strict";function Svg(name,attributes,className,parent,insertFirst){name instanceof Element?this._node=name:(this._node=document.createElementNS(Chartist.namespaces.svg,name),"svg"===name&&this.attr({"xmlns:ct":Chartist.namespaces.ct})),attributes&&this.attr(attributes),className&&this.addClass(className),parent&&(insertFirst&&parent._node.firstChild?parent._node.insertBefore(this._node,parent._node.firstChild):parent._node.appendChild(this._node))}function attr(attributes,ns){return"string"==typeof attributes?ns?this._node.getAttributeNS(ns,attributes):this._node.getAttribute(attributes):(Object.keys(attributes).forEach(function(key){if(void 0!==attributes[key])if(-1!==key.indexOf(":")){var namespacedAttribute=key.split(":");this._node.setAttributeNS(Chartist.namespaces[namespacedAttribute[0]],key,attributes[key])}else this._node.setAttribute(key,attributes[key])}.bind(this)),this)}function elem(name,attributes,className,insertFirst){return new Chartist.Svg(name,attributes,className,this,insertFirst)}function parent(){return this._node.parentNode instanceof SVGElement?new Chartist.Svg(this._node.parentNode):null}function root(){for(var node=this._node;"svg"!==node.nodeName;)node=node.parentNode;return new Chartist.Svg(node)}function querySelector(selector){var foundNode=this._node.querySelector(selector);return foundNode?new Chartist.Svg(foundNode):null}function querySelectorAll(selector){var foundNodes=this._node.querySelectorAll(selector);return foundNodes.length?new Chartist.Svg.List(foundNodes):null}function getNode(){return this._node}function foreignObject(content,attributes,className,insertFirst){if("string"==typeof content){var container=document.createElement("div");container.innerHTML=content,content=container.firstChild}content.setAttribute("xmlns",Chartist.namespaces.xmlns);var fnObj=this.elem("foreignObject",attributes,className,insertFirst);return fnObj._node.appendChild(content),fnObj}function text(t){return this._node.appendChild(document.createTextNode(t)),this}function empty(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this}function remove(){return this._node.parentNode.removeChild(this._node),this.parent()}function replace(newElement){return this._node.parentNode.replaceChild(newElement._node,this._node),newElement}function append(element,insertFirst){return insertFirst&&this._node.firstChild?this._node.insertBefore(element._node,this._node.firstChild):this._node.appendChild(element._node),this}function classes(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]}function addClass(names){return this._node.setAttribute("class",this.classes(this._node).concat(names.trim().split(/\s+/)).filter(function(elem,pos,self){return self.indexOf(elem)===pos}).join(" ")),this}function removeClass(names){var removedClasses=names.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(name){return-1===removedClasses.indexOf(name)}).join(" ")),this}function removeAllClasses(){return this._node.setAttribute("class",""),this}function height(){return this._node.getBoundingClientRect().height}function width(){return this._node.getBoundingClientRect().width}function animate(animations,guided,eventEmitter){return void 0===guided&&(guided=!0),Object.keys(animations).forEach(function(attribute){function createAnimate(animationDefinition,guided){var animate,timeout,easing,attributeProperties={};animationDefinition.easing&&(easing=animationDefinition.easing instanceof Array?animationDefinition.easing:Chartist.Svg.Easing[animationDefinition.easing],delete animationDefinition.easing),animationDefinition.begin=Chartist.ensureUnit(animationDefinition.begin,"ms"),animationDefinition.dur=Chartist.ensureUnit(animationDefinition.dur,"ms"),easing&&(animationDefinition.calcMode="spline",animationDefinition.keySplines=easing.join(" "),animationDefinition.keyTimes="0;1"),guided&&(animationDefinition.fill="freeze",attributeProperties[attribute]=animationDefinition.from,this.attr(attributeProperties),timeout=Chartist.quantity(animationDefinition.begin||0).value,animationDefinition.begin="indefinite"),animate=this.elem("animate",Chartist.extend({attributeName:attribute},animationDefinition)),guided&&setTimeout(function(){try{animate._node.beginElement()}catch(err){attributeProperties[attribute]=animationDefinition.to,this.attr(attributeProperties),animate.remove()}}.bind(this),timeout),eventEmitter&&animate._node.addEventListener("beginEvent",function(){eventEmitter.emit("animationBegin",{element:this,animate:animate._node,params:animationDefinition})}.bind(this)),animate._node.addEventListener("endEvent",function(){eventEmitter&&eventEmitter.emit("animationEnd",{element:this,animate:animate._node,params:animationDefinition}),guided&&(attributeProperties[attribute]=animationDefinition.to,this.attr(attributeProperties),animate.remove())}.bind(this))}animations[attribute]instanceof Array?animations[attribute].forEach(function(animationDefinition){createAnimate.bind(this)(animationDefinition,!1)}.bind(this)):createAnimate.bind(this)(animations[attribute],guided)}.bind(this)),this}function SvgList(nodeList){var list=this;this.svgElements=[];for(var i=0;i<nodeList.length;i++)this.svgElements.push(new Chartist.Svg(nodeList[i]));Object.keys(Chartist.Svg.prototype).filter(function(prototypeProperty){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(prototypeProperty)}).forEach(function(prototypeProperty){list[prototypeProperty]=function(){var args=Array.prototype.slice.call(arguments,0);return list.svgElements.forEach(function(element){Chartist.Svg.prototype[prototypeProperty].apply(element,args)}),list}})}Chartist.Svg=Chartist.Class.extend({constructor:Svg,attr:attr,elem:elem,parent:parent,root:root,querySelector:querySelector,querySelectorAll:querySelectorAll,getNode:getNode,foreignObject:foreignObject,text:text,empty:empty,remove:remove,replace:replace,append:append,classes:classes,addClass:addClass,removeClass:removeClass,removeAllClasses:removeAllClasses,height:height,width:width,animate:animate}),Chartist.Svg.isSupported=function(feature){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+feature,"1.1")};var easingCubicBeziers={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]};Chartist.Svg.Easing=easingCubicBeziers,Chartist.Svg.List=Chartist.Class.extend({constructor:SvgList})}(window,document,Chartist),function(window,document,Chartist){"use strict";function element(command,params,pathElements,pos,relative,data){var pathElement=Chartist.extend({command:relative?command.toLowerCase():command.toUpperCase()},params,data?{data:data}:{});pathElements.splice(pos,0,pathElement)}function forEachParam(pathElements,cb){pathElements.forEach(function(pathElement,pathElementIndex){elementDescriptions[pathElement.command.toLowerCase()].forEach(function(paramName,paramIndex){cb(pathElement,paramName,pathElementIndex,paramIndex,pathElements)})})}function SvgPath(close,options){this.pathElements=[],this.pos=0,this.close=close,this.options=Chartist.extend({},defaultOptions,options)}function position(pos){return void 0!==pos?(this.pos=Math.max(0,Math.min(this.pathElements.length,pos)),this):this.pos}function remove(count){return this.pathElements.splice(this.pos,count),this}function move(x,y,relative,data){return element("M",{x:+x,y:+y},this.pathElements,this.pos++,relative,data),this}function line(x,y,relative,data){return element("L",{x:+x,y:+y},this.pathElements,this.pos++,relative,data),this}function curve(x1,y1,x2,y2,x,y,relative,data){return element("C",{x1:+x1,y1:+y1,x2:+x2,y2:+y2,x:+x,y:+y},this.pathElements,this.pos++,relative,data),this}function arc(rx,ry,xAr,lAf,sf,x,y,relative,data){return element("A",{rx:+rx,ry:+ry,xAr:+xAr,lAf:+lAf,sf:+sf,x:+x,y:+y},this.pathElements,this.pos++,relative,data),this}function parse(path){var chunks=path.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(result,element){return element.match(/[A-Za-z]/)&&result.push([]),result[result.length-1].push(element),result},[]);"Z"===chunks[chunks.length-1][0].toUpperCase()&&chunks.pop();var elements=chunks.map(function(chunk){var command=chunk.shift(),description=elementDescriptions[command.toLowerCase()];return Chartist.extend({command:command},description.reduce(function(result,paramName,index){return result[paramName]=+chunk[index],result},{}))}),spliceArgs=[this.pos,0];return Array.prototype.push.apply(spliceArgs,elements),Array.prototype.splice.apply(this.pathElements,spliceArgs),this.pos+=elements.length,this}function stringify(){var accuracyMultiplier=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(path,pathElement){var params=elementDescriptions[pathElement.command.toLowerCase()].map(function(paramName){return this.options.accuracy?Math.round(pathElement[paramName]*accuracyMultiplier)/accuracyMultiplier:pathElement[paramName]}.bind(this));return path+pathElement.command+params.join(",")}.bind(this),"")+(this.close?"Z":"")}function scale(x,y){return forEachParam(this.pathElements,function(pathElement,paramName){pathElement[paramName]*="x"===paramName[0]?x:y}),this}function translate(x,y){return forEachParam(this.pathElements,function(pathElement,paramName){pathElement[paramName]+="x"===paramName[0]?x:y}),this}function transform(transformFnc){return forEachParam(this.pathElements,function(pathElement,paramName,pathElementIndex,paramIndex,pathElements){var transformed=transformFnc(pathElement,paramName,pathElementIndex,paramIndex,pathElements);(transformed||0===transformed)&&(pathElement[paramName]=transformed)}),this}function clone(close){var c=new Chartist.Svg.Path(close||this.close);return c.pos=this.pos,c.pathElements=this.pathElements.slice().map(function(pathElement){return Chartist.extend({},pathElement)}),c.options=Chartist.extend({},this.options),c}function splitByCommand(command){var split=[new Chartist.Svg.Path];return this.pathElements.forEach(function(pathElement){pathElement.command===command.toUpperCase()&&0!==split[split.length-1].pathElements.length&&split.push(new Chartist.Svg.Path),split[split.length-1].pathElements.push(pathElement)}),split}function join(paths,close,options){for(var joinedPath=new Chartist.Svg.Path(close,options),i=0;i<paths.length;i++)for(var path=paths[i],j=0;j<path.pathElements.length;j++)joinedPath.pathElements.push(path.pathElements[j]);return joinedPath}var elementDescriptions={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},defaultOptions={accuracy:3};Chartist.Svg.Path=Chartist.Class.extend({constructor:SvgPath,position:position,remove:remove,move:move,line:line,curve:curve,arc:arc,scale:scale,translate:translate,transform:transform,parse:parse,stringify:stringify,clone:clone,splitByCommand:splitByCommand}),Chartist.Svg.Path.elementDescriptions=elementDescriptions,Chartist.Svg.Path.join=join}(window,document,Chartist),function(window,document,Chartist){"use strict";function Axis(units,chartRect,ticks,options){this.units=units,this.counterUnits=units===axisUnits.x?axisUnits.y:axisUnits.x,this.chartRect=chartRect,this.axisLength=chartRect[units.rectEnd]-chartRect[units.rectStart],this.gridOffset=chartRect[units.rectOffset],this.ticks=ticks,this.options=options}function createGridAndLabels(gridGroup,labelGroup,useForeignObject,chartOptions,eventEmitter){var axisOptions=chartOptions["axis"+this.units.pos.toUpperCase()],projectedValues=this.ticks.map(this.projectValue.bind(this)),labelValues=this.ticks.map(axisOptions.labelInterpolationFnc);projectedValues.forEach(function(projectedValue,index){var labelLength,labelOffset={x:0,y:0};labelLength=projectedValues[index+1]?projectedValues[index+1]-projectedValue:Math.max(this.axisLength-projectedValue,30),Chartist.isFalseyButZero(labelValues[index])&&""!==labelValues[index]||("x"===this.units.pos?(projectedValue=this.chartRect.x1+projectedValue,labelOffset.x=chartOptions.axisX.labelOffset.x,"start"===chartOptions.axisX.position?labelOffset.y=this.chartRect.padding.top+chartOptions.axisX.labelOffset.y+(useForeignObject?5:20):labelOffset.y=this.chartRect.y1+chartOptions.axisX.labelOffset.y+(useForeignObject?5:20)):(projectedValue=this.chartRect.y1-projectedValue,labelOffset.y=chartOptions.axisY.labelOffset.y-(useForeignObject?labelLength:0),"start"===chartOptions.axisY.position?labelOffset.x=useForeignObject?this.chartRect.padding.left+chartOptions.axisY.labelOffset.x:this.chartRect.x1-10:labelOffset.x=this.chartRect.x2+chartOptions.axisY.labelOffset.x+10),axisOptions.showGrid&&Chartist.createGrid(projectedValue,index,this,this.gridOffset,this.chartRect[this.counterUnits.len](),gridGroup,[chartOptions.classNames.grid,chartOptions.classNames[this.units.dir]],eventEmitter),axisOptions.showLabel&&Chartist.createLabel(projectedValue,labelLength,index,labelValues,this,axisOptions.offset,labelOffset,labelGroup,[chartOptions.classNames.label,chartOptions.classNames[this.units.dir],"start"===axisOptions.position?chartOptions.classNames[axisOptions.position]:chartOptions.classNames.end],useForeignObject,eventEmitter))}.bind(this))}var axisUnits={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};Chartist.Axis=Chartist.Class.extend({constructor:Axis,createGridAndLabels:createGridAndLabels,projectValue:function(value,index,data){throw new Error("Base axis can't be instantiated!")}}),Chartist.Axis.units=axisUnits}(window,document,Chartist),function(window,document,Chartist){"use strict";function AutoScaleAxis(axisUnit,data,chartRect,options){var highLow=options.highLow||Chartist.getHighLow(data,options,axisUnit.pos);this.bounds=Chartist.getBounds(chartRect[axisUnit.rectEnd]-chartRect[axisUnit.rectStart],highLow,options.scaleMinSpace||20,options.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},Chartist.AutoScaleAxis.super.constructor.call(this,axisUnit,chartRect,this.bounds.values,options)}function projectValue(value){return this.axisLength*(+Chartist.getMultiValue(value,this.units.pos)-this.bounds.min)/this.bounds.range}Chartist.AutoScaleAxis=Chartist.Axis.extend({constructor:AutoScaleAxis,projectValue:projectValue})}(window,document,Chartist),function(window,document,Chartist){"use strict";function FixedScaleAxis(axisUnit,data,chartRect,options){var highLow=options.highLow||Chartist.getHighLow(data,options,axisUnit.pos);this.divisor=options.divisor||1,this.ticks=options.ticks||Chartist.times(this.divisor).map(function(value,index){return highLow.low+(highLow.high-highLow.low)/this.divisor*index}.bind(this)),this.ticks.sort(function(a,b){return a-b}),this.range={min:highLow.low,max:highLow.high},Chartist.FixedScaleAxis.super.constructor.call(this,axisUnit,chartRect,this.ticks,options),this.stepLength=this.axisLength/this.divisor}function projectValue(value){return this.axisLength*(+Chartist.getMultiValue(value,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}Chartist.FixedScaleAxis=Chartist.Axis.extend({constructor:FixedScaleAxis,projectValue:projectValue})}(window,document,Chartist),function(window,document,Chartist){"use strict";function StepAxis(axisUnit,data,chartRect,options){Chartist.StepAxis.super.constructor.call(this,axisUnit,chartRect,options.ticks,options);var calc=Math.max(1,options.ticks.length-(options.stretch?1:0));this.stepLength=this.axisLength/calc}function projectValue(value,index){return this.stepLength*index}Chartist.StepAxis=Chartist.Axis.extend({constructor:StepAxis,projectValue:projectValue})}(window,document,Chartist),function(window,document,Chartist){"use strict";function createChart(options){var data=Chartist.normalizeData(this.data,options.reverseData,!0);this.svg=Chartist.createSvg(this.container,options.width,options.height,options.classNames.chart);var axisX,axisY,gridGroup=this.svg.elem("g").addClass(options.classNames.gridGroup),seriesGroup=this.svg.elem("g"),labelGroup=this.svg.elem("g").addClass(options.classNames.labelGroup),chartRect=Chartist.createChartRect(this.svg,options,defaultOptions.padding);axisX=void 0===options.axisX.type?new Chartist.StepAxis(Chartist.Axis.units.x,data.normalized.series,chartRect,Chartist.extend({},options.axisX,{ticks:data.normalized.labels,stretch:options.fullWidth})):options.axisX.type.call(Chartist,Chartist.Axis.units.x,data.normalized.series,chartRect,options.axisX),axisY=void 0===options.axisY.type?new Chartist.AutoScaleAxis(Chartist.Axis.units.y,data.normalized.series,chartRect,Chartist.extend({},options.axisY,{high:Chartist.isNumeric(options.high)?options.high:options.axisY.high,low:Chartist.isNumeric(options.low)?options.low:options.axisY.low})):options.axisY.type.call(Chartist,Chartist.Axis.units.y,data.normalized.series,chartRect,options.axisY),axisX.createGridAndLabels(gridGroup,labelGroup,this.supportsForeignObject,options,this.eventEmitter),axisY.createGridAndLabels(gridGroup,labelGroup,this.supportsForeignObject,options,this.eventEmitter),options.showGridBackground&&Chartist.createGridBackground(gridGroup,chartRect,options.classNames.gridBackground,this.eventEmitter),data.raw.series.forEach(function(series,seriesIndex){var seriesElement=seriesGroup.elem("g");seriesElement.attr({"ct:series-name":series.name,"ct:meta":Chartist.serialize(series.meta)}),seriesElement.addClass([options.classNames.series,series.className||options.classNames.series+"-"+Chartist.alphaNumerate(seriesIndex)].join(" "));var pathCoordinates=[],pathData=[];data.normalized.series[seriesIndex].forEach(function(value,valueIndex){var p={x:chartRect.x1+axisX.projectValue(value,valueIndex,data.normalized.series[seriesIndex]),y:chartRect.y1-axisY.projectValue(value,valueIndex,data.normalized.series[seriesIndex])};pathCoordinates.push(p.x,p.y),pathData.push({value:value,valueIndex:valueIndex,meta:Chartist.getMetaData(series,valueIndex)})}.bind(this));var seriesOptions={lineSmooth:Chartist.getSeriesOption(series,options,"lineSmooth"),showPoint:Chartist.getSeriesOption(series,options,"showPoint"),showLine:Chartist.getSeriesOption(series,options,"showLine"),showArea:Chartist.getSeriesOption(series,options,"showArea"),areaBase:Chartist.getSeriesOption(series,options,"areaBase")},smoothing="function"==typeof seriesOptions.lineSmooth?seriesOptions.lineSmooth:seriesOptions.lineSmooth?Chartist.Interpolation.monotoneCubic():Chartist.Interpolation.none(),path=smoothing(pathCoordinates,pathData);if(seriesOptions.showPoint&&path.pathElements.forEach(function(pathElement){var point=seriesElement.elem("line",{x1:pathElement.x,y1:pathElement.y,x2:pathElement.x+.01,y2:pathElement.y},options.classNames.point).attr({"ct:value":[pathElement.data.value.x,pathElement.data.value.y].filter(Chartist.isNumeric).join(","),"ct:meta":Chartist.serialize(pathElement.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:pathElement.data.value,index:pathElement.data.valueIndex,meta:pathElement.data.meta,series:series,seriesIndex:seriesIndex,axisX:axisX,axisY:axisY,group:seriesElement,element:point,x:pathElement.x,y:pathElement.y})}.bind(this)),seriesOptions.showLine){var line=seriesElement.elem("path",{d:path.stringify()},options.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:data.normalized.series[seriesIndex],path:path.clone(),chartRect:chartRect,index:seriesIndex,series:series,seriesIndex:seriesIndex,seriesMeta:series.meta,axisX:axisX,axisY:axisY,group:seriesElement,element:line})}if(seriesOptions.showArea&&axisY.range){var areaBase=Math.max(Math.min(seriesOptions.areaBase,axisY.range.max),axisY.range.min),areaBaseProjected=chartRect.y1-axisY.projectValue(areaBase);path.splitByCommand("M").filter(function(pathSegment){return pathSegment.pathElements.length>1}).map(function(solidPathSegments){var firstElement=solidPathSegments.pathElements[0],lastElement=solidPathSegments.pathElements[solidPathSegments.pathElements.length-1];return solidPathSegments.clone(!0).position(0).remove(1).move(firstElement.x,areaBaseProjected).line(firstElement.x,firstElement.y).position(solidPathSegments.pathElements.length+1).line(lastElement.x,areaBaseProjected)}).forEach(function(areaPath){var area=seriesElement.elem("path",{d:areaPath.stringify()},options.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:data.normalized.series[seriesIndex],path:areaPath.clone(),series:series,seriesIndex:seriesIndex,axisX:axisX,axisY:axisY,chartRect:chartRect,index:seriesIndex,group:seriesElement,element:area})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:axisY.bounds,chartRect:chartRect,axisX:axisX,axisY:axisY,svg:this.svg,options:options})}function Line(query,data,options,responsiveOptions){Chartist.Line.super.constructor.call(this,query,data,defaultOptions,Chartist.extend({},defaultOptions,options),responsiveOptions)}var defaultOptions={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Chartist.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Chartist.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};Chartist.Line=Chartist.Base.extend({constructor:Line,createChart:createChart})}(window,document,Chartist),function(window,document,Chartist){"use strict";function createChart(options){var data,highLow;options.distributeSeries?(data=Chartist.normalizeData(this.data,options.reverseData,options.horizontalBars?"x":"y"),data.normalized.series=data.normalized.series.map(function(value){return[value]})):data=Chartist.normalizeData(this.data,options.reverseData,options.horizontalBars?"x":"y"),this.svg=Chartist.createSvg(this.container,options.width,options.height,options.classNames.chart+(options.horizontalBars?" "+options.classNames.horizontalBars:""));var gridGroup=this.svg.elem("g").addClass(options.classNames.gridGroup),seriesGroup=this.svg.elem("g"),labelGroup=this.svg.elem("g").addClass(options.classNames.labelGroup);if(options.stackBars&&0!==data.normalized.series.length){var serialSums=Chartist.serialMap(data.normalized.series,function(){return Array.prototype.slice.call(arguments).map(function(value){return value}).reduce(function(prev,curr){return{x:prev.x+(curr&&curr.x)||0,y:prev.y+(curr&&curr.y)||0}},{x:0,y:0})});highLow=Chartist.getHighLow([serialSums],options,options.horizontalBars?"x":"y")}else highLow=Chartist.getHighLow(data.normalized.series,options,options.horizontalBars?"x":"y");highLow.high=+options.high||(0===options.high?0:highLow.high),highLow.low=+options.low||(0===options.low?0:highLow.low);var valueAxis,labelAxisTicks,labelAxis,axisX,axisY,chartRect=Chartist.createChartRect(this.svg,options,defaultOptions.padding);labelAxisTicks=options.distributeSeries&&options.stackBars?data.normalized.labels.slice(0,1):data.normalized.labels,options.horizontalBars?(valueAxis=axisX=void 0===options.axisX.type?new Chartist.AutoScaleAxis(Chartist.Axis.units.x,data.normalized.series,chartRect,Chartist.extend({},options.axisX,{highLow:highLow,referenceValue:0})):options.axisX.type.call(Chartist,Chartist.Axis.units.x,data.normalized.series,chartRect,Chartist.extend({},options.axisX,{highLow:highLow,referenceValue:0})),labelAxis=axisY=void 0===options.axisY.type?new Chartist.StepAxis(Chartist.Axis.units.y,data.normalized.series,chartRect,{ticks:labelAxisTicks}):options.axisY.type.call(Chartist,Chartist.Axis.units.y,data.normalized.series,chartRect,options.axisY)):(labelAxis=axisX=void 0===options.axisX.type?new Chartist.StepAxis(Chartist.Axis.units.x,data.normalized.series,chartRect,{ticks:labelAxisTicks}):options.axisX.type.call(Chartist,Chartist.Axis.units.x,data.normalized.series,chartRect,options.axisX),valueAxis=axisY=void 0===options.axisY.type?new Chartist.AutoScaleAxis(Chartist.Axis.units.y,data.normalized.series,chartRect,Chartist.extend({},options.axisY,{highLow:highLow,referenceValue:0})):options.axisY.type.call(Chartist,Chartist.Axis.units.y,data.normalized.series,chartRect,Chartist.extend({},options.axisY,{highLow:highLow,referenceValue:0})));var zeroPoint=options.horizontalBars?chartRect.x1+valueAxis.projectValue(0):chartRect.y1-valueAxis.projectValue(0),stackedBarValues=[];labelAxis.createGridAndLabels(gridGroup,labelGroup,this.supportsForeignObject,options,this.eventEmitter),valueAxis.createGridAndLabels(gridGroup,labelGroup,this.supportsForeignObject,options,this.eventEmitter),options.showGridBackground&&Chartist.createGridBackground(gridGroup,chartRect,options.classNames.gridBackground,this.eventEmitter),data.raw.series.forEach(function(series,seriesIndex){var periodHalfLength,seriesElement,biPol=seriesIndex-(data.raw.series.length-1)/2;periodHalfLength=options.distributeSeries&&!options.stackBars?labelAxis.axisLength/data.normalized.series.length/2:options.distributeSeries&&options.stackBars?labelAxis.axisLength/2:labelAxis.axisLength/data.normalized.series[seriesIndex].length/2,seriesElement=seriesGroup.elem("g"),seriesElement.attr({"ct:series-name":series.name,"ct:meta":Chartist.serialize(series.meta)}),seriesElement.addClass([options.classNames.series,series.className||options.classNames.series+"-"+Chartist.alphaNumerate(seriesIndex)].join(" ")),data.normalized.series[seriesIndex].forEach(function(value,valueIndex){var projected,bar,previousStack,labelAxisValueIndex;if(labelAxisValueIndex=options.distributeSeries&&!options.stackBars?seriesIndex:options.distributeSeries&&options.stackBars?0:valueIndex,projected=options.horizontalBars?{x:chartRect.x1+valueAxis.projectValue(value&&value.x?value.x:0,valueIndex,data.normalized.series[seriesIndex]),y:chartRect.y1-labelAxis.projectValue(value&&value.y?value.y:0,labelAxisValueIndex,data.normalized.series[seriesIndex])}:{x:chartRect.x1+labelAxis.projectValue(value&&value.x?value.x:0,labelAxisValueIndex,data.normalized.series[seriesIndex]),y:chartRect.y1-valueAxis.projectValue(value&&value.y?value.y:0,valueIndex,data.normalized.series[seriesIndex])},labelAxis instanceof Chartist.StepAxis&&(labelAxis.options.stretch||(projected[labelAxis.units.pos]+=periodHalfLength*(options.horizontalBars?-1:1)),projected[labelAxis.units.pos]+=options.stackBars||options.distributeSeries?0:biPol*options.seriesBarDistance*(options.horizontalBars?-1:1)),previousStack=stackedBarValues[valueIndex]||zeroPoint,stackedBarValues[valueIndex]=previousStack-(zeroPoint-projected[labelAxis.counterUnits.pos]),void 0!==value){var positions={};positions[labelAxis.units.pos+"1"]=projected[labelAxis.units.pos],positions[labelAxis.units.pos+"2"]=projected[labelAxis.units.pos],!options.stackBars||"accumulate"!==options.stackMode&&options.stackMode?(positions[labelAxis.counterUnits.pos+"1"]=zeroPoint,positions[labelAxis.counterUnits.pos+"2"]=projected[labelAxis.counterUnits.pos]):(positions[labelAxis.counterUnits.pos+"1"]=previousStack,positions[labelAxis.counterUnits.pos+"2"]=stackedBarValues[valueIndex]),positions.x1=Math.min(Math.max(positions.x1,chartRect.x1),chartRect.x2),positions.x2=Math.min(Math.max(positions.x2,chartRect.x1),chartRect.x2),positions.y1=Math.min(Math.max(positions.y1,chartRect.y2),chartRect.y1),positions.y2=Math.min(Math.max(positions.y2,chartRect.y2),chartRect.y1);var metaData=Chartist.getMetaData(series,valueIndex);bar=seriesElement.elem("line",positions,options.classNames.bar).attr({"ct:value":[value.x,value.y].filter(Chartist.isNumeric).join(","),"ct:meta":Chartist.serialize(metaData)}),this.eventEmitter.emit("draw",Chartist.extend({type:"bar",value:value,index:valueIndex,meta:metaData,series:series,seriesIndex:seriesIndex,axisX:axisX,axisY:axisY,chartRect:chartRect,group:seriesElement,element:bar},positions))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:valueAxis.bounds,chartRect:chartRect,axisX:axisX,axisY:axisY,svg:this.svg,options:options})}function Bar(query,data,options,responsiveOptions){Chartist.Bar.super.constructor.call(this,query,data,defaultOptions,Chartist.extend({},defaultOptions,options),responsiveOptions)}var defaultOptions={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Chartist.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:Chartist.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};Chartist.Bar=Chartist.Base.extend({constructor:Bar,createChart:createChart})}(window,document,Chartist),function(window,document,Chartist){"use strict";function determineAnchorPosition(center,label,direction){var toTheRight=label.x>center.x;return toTheRight&&"explode"===direction||!toTheRight&&"implode"===direction?"start":toTheRight&&"implode"===direction||!toTheRight&&"explode"===direction?"end":"middle"}function createChart(options){var labelsGroup,chartRect,radius,labelRadius,totalDataSum,data=Chartist.normalizeData(this.data),seriesGroups=[],startAngle=options.startAngle;this.svg=Chartist.createSvg(this.container,options.width,options.height,options.donut?options.classNames.chartDonut:options.classNames.chartPie),chartRect=Chartist.createChartRect(this.svg,options,defaultOptions.padding),radius=Math.min(chartRect.width()/2,chartRect.height()/2),totalDataSum=options.total||data.normalized.series.reduce(function(previousValue,currentValue){return previousValue+currentValue},0);var donutWidth=Chartist.quantity(options.donutWidth);"%"===donutWidth.unit&&(donutWidth.value*=radius/100),radius-=options.donut&&!options.donutSolid?donutWidth.value/2:0,labelRadius="outside"===options.labelPosition||options.donut&&!options.donutSolid?radius:"center"===options.labelPosition?0:options.donutSolid?radius-donutWidth.value/2:radius/2,labelRadius+=options.labelOffset;var center={x:chartRect.x1+chartRect.width()/2,y:chartRect.y2+chartRect.height()/2},hasSingleValInSeries=1===data.raw.series.filter(function(val){return val.hasOwnProperty("value")?0!==val.value:0!==val}).length;data.raw.series.forEach(function(series,index){seriesGroups[index]=this.svg.elem("g",null,null)}.bind(this)),options.showLabel&&(labelsGroup=this.svg.elem("g",null,null)),data.raw.series.forEach(function(series,index){if(0!==data.normalized.series[index]||!options.ignoreEmptyValues){seriesGroups[index].attr({"ct:series-name":series.name}),seriesGroups[index].addClass([options.classNames.series,series.className||options.classNames.series+"-"+Chartist.alphaNumerate(index)].join(" "));var endAngle=totalDataSum>0?startAngle+data.normalized.series[index]/totalDataSum*360:0,overlappigStartAngle=Math.max(0,startAngle-(0===index||hasSingleValInSeries?0:.2));endAngle-overlappigStartAngle>=359.99&&(endAngle=overlappigStartAngle+359.99);var innerStart,innerEnd,donutSolidRadius,start=Chartist.polarToCartesian(center.x,center.y,radius,overlappigStartAngle),end=Chartist.polarToCartesian(center.x,center.y,radius,endAngle),path=new Chartist.Svg.Path(!options.donut||options.donutSolid).move(end.x,end.y).arc(radius,radius,0,endAngle-startAngle>180,0,start.x,start.y);options.donut?options.donutSolid&&(donutSolidRadius=radius-donutWidth.value,innerStart=Chartist.polarToCartesian(center.x,center.y,donutSolidRadius,startAngle-(0===index||hasSingleValInSeries?0:.2)),innerEnd=Chartist.polarToCartesian(center.x,center.y,donutSolidRadius,endAngle),path.line(innerStart.x,innerStart.y),path.arc(donutSolidRadius,donutSolidRadius,0,endAngle-startAngle>180,1,innerEnd.x,innerEnd.y)):path.line(center.x,center.y);var pathClassName=options.classNames.slicePie;options.donut&&(pathClassName=options.classNames.sliceDonut,options.donutSolid&&(pathClassName=options.classNames.sliceDonutSolid));var pathElement=seriesGroups[index].elem("path",{d:path.stringify()},pathClassName);if(pathElement.attr({"ct:value":data.normalized.series[index],"ct:meta":Chartist.serialize(series.meta)}),options.donut&&!options.donutSolid&&(pathElement._node.style.strokeWidth=donutWidth.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:data.normalized.series[index],totalDataSum:totalDataSum,index:index,meta:series.meta,series:series,group:seriesGroups[index],element:pathElement,path:path.clone(),center:center,radius:radius,startAngle:startAngle,endAngle:endAngle}),options.showLabel){var labelPosition;labelPosition=1===data.raw.series.length?{x:center.x,y:center.y}:Chartist.polarToCartesian(center.x,center.y,labelRadius,startAngle+(endAngle-startAngle)/2);var rawValue;rawValue=data.normalized.labels&&!Chartist.isFalseyButZero(data.normalized.labels[index])?data.normalized.labels[index]:data.normalized.series[index];var interpolatedValue=options.labelInterpolationFnc(rawValue,index);if(interpolatedValue||0===interpolatedValue){var labelElement=labelsGroup.elem("text",{dx:labelPosition.x,dy:labelPosition.y,"text-anchor":determineAnchorPosition(center,labelPosition,options.labelDirection)},options.classNames.label).text(""+interpolatedValue);this.eventEmitter.emit("draw",{type:"label",index:index,group:labelsGroup,element:labelElement,text:""+interpolatedValue,x:labelPosition.x,y:labelPosition.y})}}startAngle=endAngle}}.bind(this)),this.eventEmitter.emit("created",{chartRect:chartRect,svg:this.svg,options:options})}function Pie(query,data,options,responsiveOptions){Chartist.Pie.super.constructor.call(this,query,data,defaultOptions,Chartist.extend({},defaultOptions,options),responsiveOptions)}var defaultOptions={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:Chartist.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};Chartist.Pie=Chartist.Base.extend({constructor:Pie,createChart:createChart,determineAnchorPosition:determineAnchorPosition})}(window,document,Chartist),Chartist})},109:function(module,exports,__webpack_require__){"use strict";(function($){exports.__esModule=!0,exports.default=function(content,style){var options=$.extend({minSize:8,maxSize:30,height:100,width:100,size:14,css:{fontStyle:"normal",fontWeight:"normal"}},style),size=options.size,newSize=size;null==fontSizeContainer&&(fontSizeContainer=$('<div style="position:absolute;top:0;left:-10000px;visibility:hidden;"><span></span></div>').appendTo("body")),fontSizeText=fontSizeContainer.find("span:first").html(content),fontSizeContainer.css(options.css).css({fontSize:size,width:options.width});for(var state=fontSizeContainer.height()<=options.height&&fontSizeText.width()<=options.width,newState=state;state===newState&&size>options.minSize+1&&size<options.maxSize-1;)size=newSize,newSize+=state?1:-1,fontSizeContainer.css("fontSize",newSize),newState=fontSizeContainer.height()<=options.height&&fontSizeText.width()<=options.width;return state?size:newSize};var fontSizeContainer=void 0,fontSizeText=void 0;module.exports=exports.default}).call(exports,__webpack_require__(1))},110:function(module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},114:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_loglevel=__webpack_require__(8),_loglevel2=_interopRequireDefault(_loglevel),_autolink=__webpack_require__(35),_autolink2=_interopRequireDefault(_autolink),_interpolation=__webpack_require__(29),_interpolation2=_interopRequireDefault(_interpolation),_node=__webpack_require__(20),Constants=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_node),_edge=__webpack_require__(31),Node=function(_Backbone$Model){function Node(){return _classCallCheck(this,Node),_possibleConstructorReturn(this,_Backbone$Model.apply(this,arguments))}return _inherits(Node,_Backbone$Model),Node.prototype.defaults=function(){return Constants.DEFAULTS},Node.prototype.initialize=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.project=options.project,attributes.index||_loglevel2.default.error("Undefined attribute 'index' for Node"),this.on("change",this.afterChange,this),this.on("change:content check",this.check,this),this.on("change:video_id",this.updateEdgesDelay,this),this.listenTo(this.project,"init",this.updateEdgesPosition)},Node.prototype.url=function(){return this.project.url()+"/nodes"+(this.isNew()?"":"/"+this.id)},Node.prototype.afterChange=function(model){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};options.bayeux||_.chain(this.changedAttributes()).keys().any(function(key){return _(Constants.SENSITIVE_ATTRIBUTES).indexOf(key)>-1}).value()&&this.trigger("sync:queue",this,options)},Node.prototype.edges=function(){var filter=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"out",index=this.get("index"),edges=[];switch(filter){case"all":edges=this.project.edges.filter(function(edge){return edge.get("to_node_index")===index||edge.get("from_node_index")===index});break;case"in":edges=this.project.edges.where({to_node_index:index});break;default:edges=this.project.edges.where({from_node_index:index}),edges=_(edges).sortBy(function(edge){return edge.get("position")})}return _(edges)},Node.prototype.createEdge=function(){var attributes=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _extends(attributes,{position:this.edges().size()+1}),this.project.edges.create(attributes,{fromNode:this})},Node.prototype.redrawEdges=function(){this.edges("all").forEach(function(edge){return edge.trigger("redraw")})},Node.prototype.updateEdgesPosition=function(){var position=1;this.edges().each(function(edge){return edge.set("position",position++)})},Node.prototype.updateEdgesDelay=function(value){var video=this.project.videos.get(this.get("video_id")),delay=null!=value?value:parseInt(this.get("show_edges_delay"),10);null!=video&&((isNaN(delay)||delay<0||delay>video.get("duration"))&&(delay=Math.floor(video.get("duration")/2)),this.set("show_edges_delay",delay))},Node.prototype.useless=function(){return!this.get("content")&&0===this.edges().size()},Node.prototype.delete=function(){this.set("deleted",!0),this.edges("out").each(function(edge){return edge.delete()}),this.edges("in").each(function(edge){return edge.linkTo(null)}),this.project.nodes.remove(this),this.off()},Node.prototype.isInitial=function(){return this.get("index")===this.project.get("initial_node_index")},Node.prototype.check=function(){var errors=[];return this.get("content")||this.get("video_id")||errors.push("What does the character say?"),this.isInitial()||0!==this.edges("in").size()||errors.push("There are no links leading to this scene"),errors=_(errors).union(_.chain(this.edges()).map(function(edge){return edge.broken()}).flatten().compact().value()),this.trigger("broken",errors),!errors.length},Node.prototype.serverAttributes=function(){return Constants.SENSITIVE_ATTRIBUTES.concat(["id"])},Node.prototype.toJSON=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).server?this.pick(this.serverAttributes()):_.clone(this.attributes)},Node.prototype.eventJSON=function(){return this.pick(["content","feedback","index","score","emotion"])},Node.prototype.filename=function(){return this.indexName().toUpperCase()},Node.prototype.indexName=function(){var index=this.get("index");return"s"+(index<10?"0"+index:index)},Node.prototype.parse=function(response){return null!=response.node?response.node:response},Node.prototype.getContent=function(){return this.escape("content")||"Scene #"+this.get("index")},Node.prototype.getFeedback=function(){var content=this.escape("feedback");return content=(0,_interpolation2.default)(content).replace(/\n{2,}/g,"<br><br>").replace(/\n/g,"<br>"),(0,_autolink2.default)(content,{target:"_blank",rel:"nofollow",class:"theme-highlight-font-color"})},Node.prototype.getEmotion=function(){return this.get("emotion")||Constants.DEFAULTS.emotion},Node.prototype.getCharacter=function(){return this.project.characters.get(this.get("character_id"))},Node.prototype.getBackground=function(){return this.project.backgrounds.get(this.get("background_id"))},Node.prototype.getVoiceURL=function(){var voice=this.project.voices.get(this.get("voice_id"));if(null!=voice)return voice.get("url")},Node.prototype.getVideoURL=function(){var video=this.project.videos.get(this.get("video_id"));if(null!=video)return video.get("url")},Node.prototype.getEdgesDelay=function(){var delay=parseInt(this.get("show_edges_delay"),10);if(!isNaN(delay)){var mins=Math.floor(delay/60),secs=Math.round(delay%60);return mins=mins<10?"0"+mins:mins,secs=secs<10?"0"+secs:secs,mins+":"+secs}return""},Node.prototype.getDefaultEdge=function(){if(this.get("default_edge_index"))return this.project.edges.findWhere({index:this.get("default_edge_index")})},Node.prototype.getMaxAnswersCount=function(){return this.maxAnswersCount||(this.maxAnswersCount=this.edges().max(function(edge){return edge.get("answers_count")}).get("answers_count")||0)},Node.prototype.getTotalAnswersCount=function(){return this.totalAnswersCount||(this.totalAnswersCount=this.edges().reduce(function(memo,edge){return memo+(edge.get("answers_count")||0)},0))},Node.prototype.convertToFreetext=function(){if(this.edges().size()>1)return!1;var attr={kind:"freetext"};this.get("content")||(attr.content=Constants.FREETEXT_DEFAULT_CONTENT),this.set(attr),0===this.edges().size()&&this.createEdge({content:_edge.FREETEXT_DEFAULT_CONTENT}),this.edges().each(function(edge){return edge.trigger("change:kind",edge)})},Node.prototype.convertToMultipleScores=function(){var uid=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,convert=arguments.length>1&&void 0!==arguments[1]&&arguments[1],score=this.get("score");null!=score&&(_(["+","-"]).includes(score[0])||convert?this.setScoreFor(uid,score):this.setScoreFor(uid,null))},Node.prototype.convertToSingleScore=function(){null!=this.get("scores")&&this.set("scores",null)},Node.prototype.scoreFor=function(uid){var format=arguments.length>1&&void 0!==arguments[1]&&arguments[1],score=(this.get("scores")||{})[uid];return null!=score&&format&&(score=score>=0?"+"+score:score.toString()),score},Node.prototype.setScoreFor=function(uid,score){var scores=this.get("scores")||{};null!=score?scores[uid]=parseInt(score,10):delete scores[uid],this.set("scores",_.isEmpty(scores)?null:scores),this.calculateScore()},Node.prototype.deleteScoreFor=function(uid){var scores=this.get("scores");null!=scores&&(delete scores[uid],this.set("scores",scores),this.calculateScore())},Node.prototype.calculateScore=function(){var uids=this.project.scores.uids(),scores=_.chain(this.get("scores")).pick(uids).values(),totalScore=null;scores.each(function(score){var value=parseInt(score,10);isNaN(value)||(totalScore=(totalScore||0)+value)}),null!=totalScore&&(totalScore=totalScore>=0?"+"+totalScore:totalScore.toString()),this.set("score",totalScore)},Node}(Backbone.Model);exports.default=Node,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3))},115:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _loglevel=__webpack_require__(8),_loglevel2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_loglevel),_edge=__webpack_require__(31),Constants=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_edge),Edge=function(_Backbone$Model){function Edge(){return _classCallCheck(this,Edge),_possibleConstructorReturn(this,_Backbone$Model.apply(this,arguments))}return _inherits(Edge,_Backbone$Model),Edge.prototype.defaults=function(){return Constants.DEFAULTS},Edge.prototype.initialize=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.project=options.project,attributes.index||_loglevel2.default.error("Undefined attribute 'index' for Edge"),options.fromNode?this.linkFrom(options.fromNode):attributes.from_node_index?this.linkFrom(this.project.nodes.findWhere({index:attributes.from_node_index})):attributes.from_node_id&&this.linkFrom(this.project.nodes.findWhere({id:attributes.from_node_id})),options.toNode?this.linkTo(options.toNode):attributes.to_node_index?this.linkTo(this.project.nodes.findWhere({index:attributes.to_node_index})):attributes.to_node_id&&this.linkTo(this.project.nodes.findWhere({id:attributes.to_node_id})),this.on("change",this.afterChange,this),this.on("change:content",this.checkParentNode,this)},Edge.prototype.url=function(){return this.project.url()+"/edges"+(this.isNew()?"":"/"+this.id)},Edge.prototype.afterChange=function(model){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};options.bayeux||_.chain(this.changedAttributes()).keys().any(function(key){return _(Constants.SENSITIVE_ATTRIBUTES).indexOf(key)>-1}).value()&&this.trigger("sync:queue",this,options)},Edge.prototype.linkFrom=function(node){return node===this.fromNode?this:(this.previousFromNode=this.fromNode,this.listenOff(this.fromNode),this.fromNode=node,this.listenOn(this.fromNode),this.set("from_node_index",node?node.get("index"):-1),this.project.init&&(null!=this.previousFromNode&&(this.previousFromNode.trigger("check"),this.previousFromNode.updateEdgesPosition()),null!=this.fromNode&&(this.fromNode.trigger("check"),this.fromNode.updateEdgesPosition())),this)},Edge.prototype.linkTo=function(node){if(node===this.fromNode||node===this.toNode)return this;var previous=this.toNode;return this.listenOff(this.toNode),this.toNode=node,this.listenOn(this.toNode),this.set("to_node_index",node?node.get("index"):-1),this.project.init&&(this.fromNode.trigger("check"),null!=previous&&previous.trigger("check"),null!=node&&node.trigger("check")),this},Edge.prototype.canLinkTo=function(node){return node!=this.fromNode},Edge.prototype.listenOn=function(node){null!=node&&(this.listenTo(node,"change:top change:left",this.redraw),this.listenTo(node,"saved",this.save))},Edge.prototype.listenOff=function(node){null!=node&&this.stopListening(node)},Edge.prototype.useless=function(){return!this.get("content")&&!this.get("to_node_index")&&"freetext"!==this.fromNode.get("kind")},Edge.prototype.redraw=function(){this.trigger("redraw")},Edge.prototype.checkParentNode=function(){this.fromNode.trigger("check")},Edge.prototype.broken=function(){var errors=[];return this.get("content")||errors.push("There is an empty reply option"),this.toNode||errors.push("One of the reply options leads nowhere"),errors},Edge.prototype.serverAttributes=function(){return Constants.SENSITIVE_ATTRIBUTES.concat(["id"])},Edge.prototype.toJSON=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).server?this.pick(this.serverAttributes()):_.clone(this.attributes)},Edge.prototype.eventJSON=function(){return this.pick(["content","from_node_index","to_node_index","index","position"])},Edge.prototype.filename=function(){var index=this.get("index");return this.fromNode.filename()+"E"+(index<10?"0"+index:index)},Edge.prototype.parse=function(response){return null!=response.edge?response.edge:response},Edge.prototype.delete=function(){this.set("deleted",!0),this.project.edges.remove(this),this.off(),this.fromNode.get("deleted")||this.fromNode.updateEdgesPosition()},Edge.prototype.getContent=function(){return this.escape("content")||"..."},Edge.prototype.getVoiceURL=function(){var voice=this.project.voices.get(this.get("voice_id"));if(null!=voice)return voice.get("url")},Edge}(Backbone.Model);exports.default=Edge,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3))},119:function(module,exports,__webpack_require__){"use strict";(function(Backbone){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var TimelineEdge=function(_Backbone$Model){function TimelineEdge(){return _classCallCheck(this,TimelineEdge),_possibleConstructorReturn(this,_Backbone$Model.apply(this,arguments))}return _inherits(TimelineEdge,_Backbone$Model),TimelineEdge.prototype.initialize=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.parent=options.parent,this.offset=options.offset},TimelineEdge.prototype.getVoiceURL=function(){return this.parent.getVoiceURL()},TimelineEdge.prototype.toJSON=function(){return this.pick("index","duration","answered_at","edge_id","edge_content")},TimelineEdge.prototype.eventJSON=function(){var hash=this.parent.eventJSON();return hash.answered_at=this.get("answered_at"),hash.duration=this.get("duration"),this.get("custom_content")&&(hash.freetext=this.get("custom_content")),hash},TimelineEdge.prototype.getContent=function(){return"freetext"===this.parent.fromNode.get("kind")?this.escape("custom_content"):this.parent.getContent()},TimelineEdge.prototype.scoreFor=function(uid){return(this.get("scores")||{})[uid]},TimelineEdge.prototype.totalScoreFor=function(uid){return(this.get("total_scores")||{})[uid]},TimelineEdge}(Backbone.Model);exports.default=TimelineEdge,module.exports=exports.default}).call(exports,__webpack_require__(0))},120:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__(2);module.exports=(Handlebars.default||Handlebars).template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="voice">\n  <div class="track">\n    <div class="progress theme-highlight-bg-color"></div>\n  </div>\n  <a class="media-icon control-voice fa fa-play theme-highlight-bg-color"></a>\n</div>\n'},useData:!0})},121:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_,$){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _dispatcher=__webpack_require__(4),_dispatcher2=_interopRequireDefault(_dispatcher),_view_manager=__webpack_require__(10),_view_manager2=_interopRequireDefault(_view_manager),_player=__webpack_require__(23),_player2=_interopRequireDefault(_player),_edge_show_view=__webpack_require__(122),_edge_show_view2=_interopRequireDefault(_edge_show_view),NodeEdgesView=function(_Backbone$View){function NodeEdgesView(){_classCallCheck(this,NodeEdgesView);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=_possibleConstructorReturn(this,_Backbone$View.call.apply(_Backbone$View,[this].concat(args)));return _this.hotkey=_this.hotkey.bind(_this),_this}return _inherits(NodeEdgesView,_Backbone$View),NodeEdgesView.prototype.tagName=function(){return"ol"},NodeEdgesView.prototype.className=function(){return"edges"},NodeEdgesView.prototype.initialize=function(){this.container="div.player-edges"},NodeEdgesView.prototype.render=function(){return!(this.$el.parent().length>0)&&(this.renderEdges(),this.renderKind(),this.$el.appendTo(this.container),this.listenTo(this.model,"player:edges:show",this.show),this.listenTo(this.model,"player:edges:hide",this.hide),this.listenTo(this.model,"edges:reposition",this.renderEdges),this.listenTo(_player2.default.project.edges,"add",this.addEdge),this.listenTo(_player2.default.project.edges,"remove",this.removeEdge),this.listenTo(_player2.default.project.edges,"change:from_node_index",this.checkEdge),this.listenTo(_player2.default.project,"change:randomize_choices_order",this.renderEdges),this.listenTo(_dispatcher2.default.Events,"player:reset",this.reset),this)},NodeEdgesView.prototype.renderEdges=function(){var _this2=this,edges=this.model.edges();_player2.default.project.get("randomize_choices_order")&&(edges=_(edges.shuffle())),edges.each(function(edge,index){var view=_view_manager2.default.get(edge,_edge_show_view2.default,{ns:"player"}).render();edge.set("order",index+1),view.$el.appendTo(_this2.el)})},NodeEdgesView.prototype.renderKind=function(){this.$el.toggleClass("freetext","freetext"===this.model.get("kind"))},NodeEdgesView.prototype.addEdge=function(edge){edge.fromNode===this.model&&this.renderEdges()},NodeEdgesView.prototype.removeEdge=function(edge){edge.fromNode===this.model&&(_view_manager2.default.remove(edge,_edge_show_view2.default,{ns:"player"}),this.renderEdges())},NodeEdgesView.prototype.reset=function(){this.hide()},NodeEdgesView.prototype.hide=function(){this.disableEdges(),this.disableHotkeys(),_player2.default.project.get("disable_player_animation")?this.$el.hide():this.$el.velocity("stop").velocity({opacity:0,bottom:-this.$el.height()},{display:"none"})},NodeEdgesView.prototype.show=function(){var css={opacity:1,left:0};_player2.default.project.get("disable_player_animation")?this.$el.css(_.extend(css,{bottom:0,display:"block"})):this.$el.css({bottom:0,left:-this.$el.width()}).velocity("stop").velocity(css,{display:"block"}),_player2.default.playlog.startWaiting(),_dispatcher2.default.Events.trigger("player:voice:hide"),this.enableEdges(),this.enableHotkeys()},NodeEdgesView.prototype.hotkey=function(event){if(event.which>48&&event.which<=57){var digit=event.which-48,edge=this.model.edges().find(function(e){return e.get("order")===digit});edge&&edge.trigger("player:edge:submit")}},NodeEdgesView.prototype.enableEdges=function(){this.model.edges().each(function(edge){return edge.trigger("player:edge:submittable",!0)})},NodeEdgesView.prototype.disableEdges=function(){this.model.edges().each(function(edge){return edge.trigger("player:edge:submittable",!1)})},NodeEdgesView.prototype.enableHotkeys=function(){this.disableHotkeys(),$(document).on("keyup",null,"1 2 3 4 5 6 7 8 9 0",this.hotkey),_dispatcher2.default.Events.trigger("player:speech:start",this.model)},NodeEdgesView.prototype.disableHotkeys=function(){$(document).off("keyup",this.hotkey.bind(this)),_dispatcher2.default.Events.trigger("player:speech:stop")},NodeEdgesView}(Backbone.View);exports.default=NodeEdgesView,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3),__webpack_require__(1))},122:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_,$){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _edge=__webpack_require__(31),_interpolation=__webpack_require__(29),_interpolation2=_interopRequireDefault(_interpolation),_player=__webpack_require__(23),_player2=_interopRequireDefault(_player),_regular=__webpack_require__(234),_regular2=_interopRequireDefault(_regular),_freetext=__webpack_require__(235),_freetext2=_interopRequireDefault(_freetext),templates={regular:_regular2.default,freetext:_freetext2.default},EdgeShowView=function(_Backbone$View){function EdgeShowView(){return _classCallCheck(this,EdgeShowView),_possibleConstructorReturn(this,_Backbone$View.apply(this,arguments))}return _inherits(EdgeShowView,_Backbone$View),EdgeShowView.prototype.tagName=function(){return"li"},EdgeShowView.prototype.events=function(){return{"click .submit":"navigateNext","keyup textarea":"counter"}},EdgeShowView.prototype.initialize=function(){this.submittable=!1,this.listenTo(this.model,"change:content",this.renderContent),this.listenTo(this.model,"change:order",this.renderNumber),this.listenTo(this.model,"player:edge:submittable",this.setSubmittable),this.listenTo(this.model,"player:edge:submit",this.navigateNext),_player2.default.persistable||this.listenTo(this.model,"change:color",this.renderColor)},EdgeShowView.prototype.template=function(){return templates[this.model.fromNode.get("kind")]},EdgeShowView.prototype.render=function(){if(!this.rendered){this.rendered=!0;var attributes=_.clone(this.model.attributes);this.$el.html(this.template()(attributes)),this.renderContent(),this.renderColor(),this.renderLimit()}return this},EdgeShowView.prototype.renderContent=function(){var content=this.model.getContent();content=(0,_interpolation2.default)(content),this.$(".js-content").html(content.replace(/\n{2,}/g,"<br><br>").replace(/\n/g,"<br>"))},EdgeShowView.prototype.renderNumber=function(){this.$(".edge-position").text(this.model.get("order"))},EdgeShowView.prototype.renderColor=function(){_player2.default.persistable||(this.$color||(this.$color=$('<span class="color-tick"></span>')),null!=this.model.toNode&&this.model.toNode.get("color")?(this.$color.css("background-color",this.model.toNode.get("color")),this.$el.append(this.$color)):this.$color.detach())},EdgeShowView.prototype.renderLimit=function(){this.$(".counter").html('<span class="length">0</span> / '+_edge.FREETEXT_CONTENT_LIMIT)},EdgeShowView.prototype.position=function(){var parent=this.$el.parent().position(),current=this.$el.position();return{top:parent.top+current.top,left:parent.left+current.left}},EdgeShowView.prototype.offset=function(){return this.$el.offset()},EdgeShowView.prototype.setSubmittable=function(value){this.submittable=!!value},EdgeShowView.prototype.navigateNext=function(event){if(null!=event&&event.preventDefault(),this.submittable){this.submittable=!1;var attrs={};if("freetext"===this.model.fromNode.get("kind")&&(this.$textarea||(this.$textarea=this.$("textarea")),attrs.custom_content=this.$textarea.val(),!attrs.custom_content.length))return this.$textarea.addClass("has-error"),this.submittable=!0,!1;this.model.fromNode.trigger("player:edges:hide"),_player2.default.playlog.createTimelineEdge(this.model,attrs)}else this.$("a.submit").blur()},EdgeShowView.prototype.counter=function(){this.$textarea||(this.$textarea=this.$("textarea"));var length=this.$textarea.val().length;this.$textarea.toggleClass("has-error",0===length),this.$(".length").text(length).toggleClass("text-red",length>_edge.FREETEXT_CONTENT_LIMIT)},EdgeShowView}(Backbone.View);exports.default=EdgeShowView,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3),__webpack_require__(1))},157:function(module,exports,__webpack_require__){"use strict";(function(Backbone,$,_){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _chartist=__webpack_require__(108),_chartist2=_interopRequireDefault(_chartist),_chartist_multiscore=__webpack_require__(158),_chartist_multiscore2=_interopRequireDefault(_chartist_multiscore),MultipleChartView=function(_Backbone$View){function MultipleChartView(){return _classCallCheck(this,MultipleChartView),_possibleConstructorReturn(this,_Backbone$View.apply(this,arguments))}return _inherits(MultipleChartView,_Backbone$View),MultipleChartView.prototype.className=function(){return"multiple-chart"},MultipleChartView.prototype.initialize=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.className=options.className,this.dimensions=options.dimensions,this.listenTo(this,"series:enter",this.activateSlice),this.listenTo(this,"series:leave",this.deactivateSlices)},MultipleChartView.prototype.events=function(){return{"mouseenter svg path.ct-slice-pie":"onHover","mouseleave svg path.ct-slice-pie":"onHover"}},MultipleChartView.prototype.render=function(options){return this.setElement(options.el),this.data=this.parseData(options.data),this.$el.addClass(this.className),_chartist2.default.Pie(this.el,this.data,{plugins:[(0,_chartist_multiscore2.default)()],width:this.dimensions+"px",height:this.dimensions+"px",labelOffset:16}),$("<div/>").addClass("totals").html(this.data.total+"<div>points</div>").appendTo(this.el),this},MultipleChartView.prototype.parseData=function(data){var result={series:[],uids:[],colors:[],subtotal:0,total:0};return _(data).each(function(score){score.value>0&&(result.series.push(score.value),result.uids.push(score.uid),result.colors.push(score.color),result.subtotal+=score.value),result.total+=score.value}),result},MultipleChartView.prototype.onHover=function(event){if(!event.relatedTarget||"text"!==event.relatedTarget.tagName){var $target=$(event.target),uid=$target.data("uid");"mouseenter"===event.type?this.trigger("series:enter",uid):this.trigger("series:leave")}},MultipleChartView.prototype.activateSlice=function(uid){this.$el.find("svg path[data-uid="+uid+"]").parent().detach().insertBefore(this.$el.find("svg g:last-child")).addClass("active")},MultipleChartView.prototype.deactivateSlices=function(){this.$el.find("svg g.active").removeClass("active")},MultipleChartView}(Backbone.View);exports.default=MultipleChartView,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(1),__webpack_require__(3))},158:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(){return function(chart){chart.on("draw",function(data){"label"===data.type&&(data.element.remove(),data.group.elem("text",{x:data.x,y:data.y-3,class:"ms-count"}).text(data.text),data.group.elem("text",{x:data.x,y:data.y+7,class:"ms-percent"}).text(Math.round(100*parseInt(data.text,10)/chart.data.subtotal)+"%")),"slice"===data.type&&(data.element.attr({style:"fill:"+chart.data.colors[data.index]+";"}),data.element.attr({"data-uid":chart.data.uids[data.index]}))})}},module.exports=exports.default},159:function(module,exports,__webpack_require__){(function(jQuery,__webpack_provided_window_dot_jQuery){!function(jQuery){function keyHandler(handleObj){if("string"==typeof handleObj.data&&(handleObj.data={keys:handleObj.data}),handleObj.data&&handleObj.data.keys&&"string"==typeof handleObj.data.keys){var origHandler=handleObj.handler,keys=handleObj.data.keys.toLowerCase().split(" ");handleObj.handler=function(event){if(this===event.target||!(jQuery.hotkeys.options.filterInputAcceptingElements&&jQuery.hotkeys.textInputTypes.test(event.target.nodeName)||jQuery.hotkeys.options.filterContentEditable&&jQuery(event.target).attr("contenteditable")||jQuery.hotkeys.options.filterTextInputs&&jQuery.inArray(event.target.type,jQuery.hotkeys.textAcceptingInputTypes)>-1)){var special="keypress"!==event.type&&jQuery.hotkeys.specialKeys[event.which],character=String.fromCharCode(event.which).toLowerCase(),modif="",possible={};jQuery.each(["alt","ctrl","shift"],function(index,specialKey){event[specialKey+"Key"]&&special!==specialKey&&(modif+=specialKey+"+")}),event.metaKey&&!event.ctrlKey&&"meta"!==special&&(modif+="meta+"),event.metaKey&&"meta"!==special&&modif.indexOf("alt+ctrl+shift+")>-1&&(modif=modif.replace("alt+ctrl+shift+","hyper+")),special?possible[modif+special]=!0:(possible[modif+character]=!0,possible[modif+jQuery.hotkeys.shiftNums[character]]=!0,"shift+"===modif&&(possible[jQuery.hotkeys.shiftNums[character]]=!0));for(var i=0,l=keys.length;i<l;i++)if(possible[keys[i]])return origHandler.apply(this,arguments)}}}}jQuery.hotkeys={version:"0.2.0",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],textInputTypes:/textarea|input|select/i,options:{filterInputAcceptingElements:!0,filterTextInputs:!0,filterContentEditable:!0}},jQuery.each(["keydown","keyup","keypress"],function(){jQuery.event.special[this]={add:keyHandler}})}(jQuery||this.jQuery||__webpack_provided_window_dot_jQuery)}).call(exports,__webpack_require__(1),__webpack_require__(1))},16:function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},160:function(module,exports,__webpack_require__){"use strict";(function($){function isIE(){var myNav=navigator.userAgent.toLowerCase();return-1!==myNav.indexOf("msie")&&parseInt(myNav.split("msie")[1],10)}function iFrameShown(){return!window.getComputedStyle||!!window.getComputedStyle($("body")[0],null)}exports.__esModule=!0,exports.isIE=isIE,exports.iFrameShown=iFrameShown}).call(exports,__webpack_require__(1))},17:function(module,exports,__webpack_require__){"use strict";function Exception(message,node){var loc=node&&node.loc,line=void 0,column=void 0;loc&&(line=loc.start.line,column=loc.start.column,message+=" - "+line+":"+column);for(var tmp=Error.prototype.constructor.call(this,message),idx=0;idx<errorProps.length;idx++)this[errorProps[idx]]=tmp[errorProps[idx]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{loc&&(this.lineNumber=line,Object.defineProperty?Object.defineProperty(this,"column",{value:column,enumerable:!0}):this.column=column)}catch(nop){}}exports.__esModule=!0;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Exception.prototype=new Error,exports.default=Exception,module.exports=exports.default},173:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _loader=__webpack_require__(6),_dispatcher=__webpack_require__(4),_dispatcher2=_interopRequireDefault(_dispatcher),_project=__webpack_require__(43),Constants=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_project),_nodes=__webpack_require__(218),_nodes2=_interopRequireDefault(_nodes),_edges=__webpack_require__(219),_edges2=_interopRequireDefault(_edges),_characters=__webpack_require__(220),_characters2=_interopRequireDefault(_characters),_backgrounds=__webpack_require__(222),_backgrounds2=_interopRequireDefault(_backgrounds),_voices=__webpack_require__(224),_voices2=_interopRequireDefault(_voices),_videos=__webpack_require__(226),_videos2=_interopRequireDefault(_videos),_scores=__webpack_require__(228),_scores2=_interopRequireDefault(_scores),Project=function(_Backbone$Model){function Project(){return _classCallCheck(this,Project),_possibleConstructorReturn(this,_Backbone$Model.apply(this,arguments))}return _inherits(Project,_Backbone$Model),Project.prototype.defaults=function(){return Constants.DEFAULTS},Project.prototype.urlRoot=function(){return _loader.Context.url.projects},Project.prototype.initialize=function(){var _this2=this;this.init=!1,this.idAttribute="token",this.nodes=new _nodes2.default(this.get("nodes"),{project:this}),this.edges=new _edges2.default(this.get("edges"),{project:this}),this.characters=new _characters2.default(this.get("characters"),{project:this}),this.backgrounds=new _backgrounds2.default(this.get("backgrounds"),{project:this}),this.voices=new _voices2.default(this.get("voices"),{project:this}),this.videos=new _videos2.default(this.get("videos"),{project:this}),this.scores=new _scores2.default(this.get("scores"),{project:this}),["nodes","edges","characters","backgrounds","voices","videos","scores"].map(function(key){return _this2.unset(key)}),this.on("change",this.afterChange,this),this.nodes.on("add remove",this.checkInitialNode,this),this.nodes.on("initial",this.setInitialNode,this),this.init=!0,this.trigger("init")},Project.prototype.serverAttributes=function(){return Constants.SENSITIVE_ATTRIBUTES.concat(["id","center_top","center_left","workspace_width","workspace_height","parent_id"])},Project.prototype.toJSON=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).server?this.pick(this.serverAttributes()):_.clone(this.attributes)},Project.prototype.eventJSON=function(){return this.pick(["token","permalink","embed_id","embed_url","embed_code","json_url","title","url","zip_url"])},Project.prototype.parse=function(response){return null!=response.project?response.project:response},Project.prototype.afterChange=function(model){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};options.bayeux||_.chain(this.changedAttributes()).keys().any(function(key){return _(Constants.SENSITIVE_ATTRIBUTES).indexOf(key)>-1}).value()&&this.trigger("sync:queue",this,options)},Project.prototype.setInitialNode=function(node){var old=this.nodes.findWhere({index:this.get("initial_node_index")}),index=node&&node.get("index")||null;this.set("initial_node_index",index),null!=old&&old.trigger("check"),null!=node&&node.trigger("check")},Project.prototype.checkInitialNode=function(node){if(this.get("initial_node_index")){if(this.get("initial_node_index")===node.get("index")&&node.get("deleted")){var firstNode=this.nodes.first();this.set("initial_node_index",firstNode?firstNode.get("index"):0)}}else this.set("initial_node_index",node.get("index")),node.trigger("check")},Project.prototype.reset=function(){this.set(this.defaults,{silent:!0}),this.nodes.reset([]),this.edges.reset([])},Project.prototype.nextNodeIndex=function(){var index=parseInt(this.get("next_node_index"),10)||1;return this.set("next_node_index",index+1),index},Project.prototype.nextEdgeIndex=function(){var index=parseInt(this.get("next_edge_index"),10)||1;return this.set("next_edge_index",index+1),index},Project.prototype.getTitle=function(){return this.escape("title")||"Untitled simulation"},Project.prototype.getCharacter=function(){return this.characters.get(this.get("character_id"))},Project.prototype.getBackground=function(){return this.backgrounds.get(this.get("background_id"))},Project.prototype.loadStats=function(){var _this3=this;return!!this.statsWasLoaded||(this.edges.fetch({url:this.url()+"/stats",complete:function(){_this3.statsWasLoaded=!0,_dispatcher2.default.Events.trigger("editor:stats:loaded")}}),!1)},Project.prototype.translations=function(key){return this.translationsCache||(this.translationsCache=Constants.DEFAULTS.translations),key?this.translationsCache[key]:this.translationsCache},Project.prototype.convertToMultipleScoring=function(){var convert=arguments.length>0&&void 0!==arguments[0]&&arguments[0],score=this.scores.create({name:"Score #1"});this.nodes.each(function(node){return node.convertToMultipleScores(score.get("uid"),convert)}),this.set("multiple_scoring",!0)},Project.prototype.convertToSingleScoring=function(){this.scores.each(function(score){return score.set("deleted",!0)}),this.scores.remove(this.scores.models),this.nodes.each(function(node){return node.convertToSingleScore()}),this.set("multiple_scoring",!1)},Project}(Backbone.Model);exports.default=Project,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3))},174:function(module,exports,__webpack_require__){"use strict";(function(Backbone){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var Score=function(_Backbone$Model){function Score(){return _classCallCheck(this,Score),_possibleConstructorReturn(this,_Backbone$Model.apply(this,arguments))}return _inherits(Score,_Backbone$Model),Score.prototype.initialize=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.project=options.project},Score}(Backbone.Model);exports.default=Score,module.exports=exports.default}).call(exports,__webpack_require__(0))},2:function(module,exports,__webpack_require__){module.exports=__webpack_require__(59).default},20:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;exports.SENSITIVE_ATTRIBUTES=["kind","index","deleted","content","top","left","emotion","feedback","score","scores","color","character_id","background_id","character_behavior","background_behavior","attachment_id","voice_id","video_id","default_edge_index","show_edges_delay","show_score_with_feedback"],exports.EMOTIONS=["happy","normal","puzzled","unhappy","angry"],exports.COLORS=["#cc3232","#cc3289","#a332cc","#5b32cc","#324ecc","#3295cc","#2ebaa1","#29a659","#d2b211","#d58317","#d56017"],exports.FREETEXT_DEFAULT_CONTENT="Please enter your free text comment in the field below.",exports.DEFAULTS={kind:"regular",index:0,content:"",top:0,left:0,score:null,scores:null,emotion:"normal",color:"",feedback:"",unresolved_comments_count:0,default_edge_index:null,show_edges_delay:null,character_behavior:null,background_behavior:null,show_score_with_feedback:!0,deleted:!1}},217:function(module,exports,__webpack_require__){"use strict";(function(Backbone,$,_){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _dispatcher=__webpack_require__(4),_dispatcher2=_interopRequireDefault(_dispatcher),_view_manager=__webpack_require__(10),_view_manager2=_interopRequireDefault(_view_manager),_loader=__webpack_require__(6),_player=__webpack_require__(23),_player2=_interopRequireDefault(_player),_project=__webpack_require__(173),_project2=_interopRequireDefault(_project),_playlog=__webpack_require__(229),_playlog2=_interopRequireDefault(_playlog),_timeline_view=__webpack_require__(231),_timeline_view2=_interopRequireDefault(_timeline_view),_emotion_meter_view=__webpack_require__(241),_emotion_meter_view2=_interopRequireDefault(_emotion_meter_view),_voice_player_view=__webpack_require__(243),_voice_player_view2=_interopRequireDefault(_voice_player_view),_video_player_view=__webpack_require__(245),_video_player_view2=_interopRequireDefault(_video_player_view),_node_edges_view=__webpack_require__(121),_node_edges_view2=_interopRequireDefault(_node_edges_view),_player3=__webpack_require__(247),_player4=_interopRequireDefault(_player3),_multiple_details_view=__webpack_require__(248),_multiple_details_view2=_interopRequireDefault(_multiple_details_view),PlayerView=function(_Backbone$View){function PlayerView(){return _classCallCheck(this,PlayerView),_possibleConstructorReturn(this,_Backbone$View.apply(this,arguments))}return _inherits(PlayerView,_Backbone$View),PlayerView.prototype.events=function(){return{"click a.replay":"reset","mouseenter div.player-logo":"hoverLogo","mouseleave div.player-logo":"blurLogo",scroll:"preventAutoScroll"}},PlayerView.prototype.initialize=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.$window=$(window),_player2.default.persistable=!!options.playlog,options.project instanceof _project2.default?_player2.default.project=options.project:_player2.default.project=new _project2.default(options.project),this.setElement(options.embed_el||document.getElementById(_player2.default.project.get("embed_id"))),_player2.default.playlog=new _playlog2.default(options.playlog||{},{persistable:_player2.default.persistable,project:_player2.default.project}),_player2.default.timeline=_player2.default.playlog.timeline,this.autostart=null==options.autostart||options.autostart,this.listenTo(_player2.default.playlog,"server:finish",this.onPlaylogFinish),_dispatcher2.default.postMessage("player:init",{project:_player2.default.project.eventJSON()})},PlayerView.prototype.render=function(){var attributes=_.clone(_player2.default.project.attributes);return this.$el.addClass(this.className),this.$el.html((0,_player4.default)(attributes)),this.$logo=this.$("div.player-logo"),this.$logo.find("a").attr({href:_loader.Context.url.root}),this.$backgrounds=this.$("div.player-backgrounds"),this.$characters=this.$("div.player-characters"),this.$edges=this.$("div.player-edges"),this.$pixel=this.$("div.player-scale-pixel"),this.toggleCopyrightLogo(),this.toggleChoiceNumbers(),new _timeline_view2.default({el:this.$("ul.player-timeline"),collection:_player2.default.timeline,pixel:this.$pixel}).render(),new _emotion_meter_view2.default({container:this.el}).render(),new _voice_player_view2.default({container:this.el,autoplay:_player2.default.persistable}).render(),new _video_player_view2.default({container:this.el,autoplay:_player2.default.persistable}).render(),this.listenTo(_player2.default.project,"change:disable_copyright_logo",this.toggleCopyrightLogo),this.listenTo(_player2.default.project,"change:disable_choice_numbers",this.toggleChoiceNumbers),this.listenTo(_player2.default.project.nodes,"remove",this.removeNode),this.listenTo(_player2.default.project.nodes,"change:character_id change:character_behavior change:emotion",this.renderCharacter),this.listenTo(_player2.default.project.nodes,"change:background_id change:background_behavior",this.renderBackground),this.listenTo(_dispatcher2.default.Events,"player:reset",this.reset),this.listenTo(_dispatcher2.default.Events,"player:start",this.start),this.listenTo(_dispatcher2.default.Events,"player:goto",this.goto),this.listenTo(_dispatcher2.default.Events,"player:reverse",this.reverse),this.listenTo(_dispatcher2.default.Events,"player:timeline:node",this.renderCurrentNode),this.listenTo(_dispatcher2.default.Events,"player:video:controls",this.videoControlsBehavior),this.listenTo(_dispatcher2.default.Events,"player:details:show",this.renderMultipleDetails),this.listenTo(_dispatcher2.default.Events,"player:details:shown",this.onDetails),this.enableHotkeys(),this.autostart&&this.reset().start(),this},PlayerView.prototype.renderCurrentNode=function(){_player2.default.node=_player2.default.playlog.lastNode(),this.renderBackground(),this.renderCharacter(),this.renderNodeClass()},PlayerView.prototype.renderBackground=function(){var _this2=this;if(!_player2.default.node)return!1;switch(_player2.default.node.get("background_behavior")){case"default":_player2.default.background=_player2.default.project.getBackground();break;case"selected":_player2.default.background=_player2.default.node.getBackground();break;default:_player2.default.node.isInitial()&&(_player2.default.background=_player2.default.node.getBackground())}var backgroundURL=!!_player2.default.background&&_player2.default.background.imageURL({style:"player"});if(backgroundURL!==this.backgroundURL){this.backgroundURL=backgroundURL;var $children=this.$backgrounds.children().not(".js-hidden");if(backgroundURL){var $div=$('<div class="background">').css({opacity:0}).appendTo(this.$backgrounds),image=new Image;image.onload=function(){_this2.removeElements($children);var css={"background-image":'url("'+image.src+'")'};_player2.default.project.get("disable_player_animation")?$div.css(_.extend(css,{opacity:1})):($div.css(css),$div.velocity({opacity:1}))},image.src=backgroundURL}else this.removeElements($children)}},PlayerView.prototype.renderCharacter=function(){var _this3=this;if(!_player2.default.node)return!1;var emotion=_player2.default.node.getEmotion();switch(_player2.default.node.get("character_behavior")){case"default":_player2.default.character=_player2.default.project.getCharacter();break;case"selected":_player2.default.character=_player2.default.node.getCharacter();break;default:_player2.default.node.isInitial()&&(_player2.default.character=_player2.default.node.getCharacter())}var characterURL=!!_player2.default.character&&_player2.default.character.imageURL({emotion:emotion,style:"player"});if(void 0===this.characterURL||characterURL!==this.characterURL){this.characterURL=characterURL;var $children=this.$characters.children().not(".js-hidden");if(characterURL){this.$el.removeClass("no-character");var $div=$('<div class="character big">').css({opacity:0}).appendTo(this.$characters),image=new Image;image.onload=function(){_this3.removeElements($children);var css={"background-image":'url("'+image.src+'")'};_player2.default.project.get("disable_player_animation")?$div.css(_.extend(css,{opacity:1})):$div.css(css).velocity({opacity:1}),_player2.default.node.trigger("player:character:changed")},image.src=characterURL}else this.$el.addClass("no-character"),this.removeElements($children),_player2.default.node.trigger("player:character:changed")}},PlayerView.prototype.renderNodeClass=function(){this.$el.removeClass(function(index,className){return(className.match(/s\d+/gi)||[]).join(" ")}).addClass(_player2.default.node.indexName())},PlayerView.prototype.removeElements=function($elements){_player2.default.project.get("disable_player_animation")?$elements.remove():$elements.addClass("js-hidden").velocity({opacity:0},{complete:function(){$(this).remove()}})},PlayerView.prototype.toggleCopyrightLogo=function(){var options={},css={top:0};_player2.default.project.get("disable_player_animation")&&(options.duration=0),_player2.default.project.get("disable_copyright_logo")?(css.top=-24,options.display="none"):options.display="block",this.$logo.velocity(css,options)},PlayerView.prototype.toggleChoiceNumbers=function(){this.$el.toggleClass("no-numbers",!!_player2.default.project.get("disable_choice_numbers"))},PlayerView.prototype.reset=function(){return _player2.default.playlog.reset(),this},PlayerView.prototype.start=function(node){return 0===_player2.default.timeline.length&&(_dispatcher2.default.postMessage("player:start",{project:_player2.default.project.eventJSON()}),_player2.default.playlog.start(node)),this},PlayerView.prototype.removeNode=function(node){_view_manager2.default.remove(node,_node_edges_view2.default,{ns:"player"}),0===_player2.default.project.nodes.length&&this.reset()},PlayerView.prototype.reverse=function(){if(_player2.default.playlog.questions().size()>1){_dispatcher2.default.Events.trigger("player:media:stop");var timelineNode=_player2.default.playlog.lastTimelineNode(),timelineEdge=_player2.default.playlog.lastTimelineEdge();_player2.default.timeline.remove(timelineNode),_player2.default.timeline.remove(timelineEdge),timelineNode=_player2.default.playlog.lastTimelineNode(),timelineNode.trigger("player:timeline:show")}else _dispatcher2.default.Events.trigger("player:reset player:start")},PlayerView.prototype.goto=function(node){var lastQuestions=_player2.default.playlog.questions().last(2),timelineNode=lastQuestions[0],prevQuestion=null;2===lastQuestions.length&&(timelineNode=lastQuestions[1],prevQuestion=lastQuestions[0]),timelineNode&&timelineNode.parent===node||(prevQuestion&&prevQuestion.parent===node?this.reverse():(_dispatcher2.default.Events.trigger("player:reset"),_dispatcher2.default.Events.trigger("player:start",node)))},PlayerView.prototype.hotkey=function(event){switch(event.which){case"B".charCodeAt(0):_player2.default.playlog.persistable||this.reverse()}},PlayerView.prototype.enableHotkeys=function(){this.disableHotkeys(),$(document).on("keyup",null,"B",this.hotkey.bind(this))},PlayerView.prototype.disableHotkeys=function(){$(document).off("keyup",this.hotkey)},PlayerView.prototype.hoverLogo=function(){var css={"margin-left":-this.$logo.width()};_player2.default.project.get("disable_player_animation")?this.$logo.css(css):this.$logo.velocity("stop").velocity(css)},PlayerView.prototype.blurLogo=function(){var css={"margin-left":-24};_player2.default.project.get("disable_player_animation")?this.$logo.css(css):this.$logo.velocity("stop").velocity(css)},PlayerView.prototype.videoControlsBehavior=function(state){var css={bottom:15};state&&(css.bottom=35),this.$feedbacks||(this.$feedbacks=this.$("div.player-feedbacks")),_player2.default.project.get("disable_player_animation")?(this.$edges.css(css),this.$feedbacks.css(css)):(this.$edges.velocity("stop").velocity(css),this.$feedbacks.velocity("stop").velocity(css))},PlayerView.prototype.preventAutoScroll=function(event){event.preventDefault(),event.stopPropagation(),this.$el.scrollTop(0)},PlayerView.prototype.renderMultipleDetails=function(){this.multipleDetailsView||(this.multipleDetailsView=new _multiple_details_view2.default({container:this.el}).render()),this.multipleDetailsView.show()},PlayerView.prototype.onDetails=function(state){var options={};_player2.default.project.get("disable_player_animation")&&(options.duration=0),this.$characters.velocity(state?"fadeOut":"fadeIn",options)},PlayerView.prototype.onPlaylogFinish=function(){_dispatcher2.default.postMessage("player:finish:success")},PlayerView}(Backbone.View);exports.default=PlayerView,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(1),__webpack_require__(3))},218:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_node=__webpack_require__(114),_node2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_node),Nodes=function(_Backbone$Collection){function Nodes(){return _classCallCheck(this,Nodes),_possibleConstructorReturn(this,_Backbone$Collection.apply(this,arguments))}return _inherits(Nodes,_Backbone$Collection),Nodes.prototype.model=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new _node2.default(attributes,options)},Nodes.prototype.initialize=function(models){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.project=options.project},Nodes.prototype.create=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return attributes.index||_extends(attributes,{index:this.project.nextNodeIndex()}),_extends(options,{project:this.project}),this.add(attributes,options)},Nodes.prototype.hasAbsoluteScore=function(){return this.any(function(node){var score=node.get("score");return null!=score&&!_.includes(["-","+"],score[0])})},Nodes.prototype.hasMultipleScores=function(){return this.any(function(node){return _(node.get("scores")).values().length>1})},Nodes}(Backbone.Collection);exports.default=Nodes,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3))},219:function(module,exports,__webpack_require__){"use strict";(function(Backbone){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0,exports.SortedEdges=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_edge=__webpack_require__(115),_edge2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_edge),Edges=function(_Backbone$Collection){function Edges(){return _classCallCheck(this,Edges),_possibleConstructorReturn(this,_Backbone$Collection.apply(this,arguments))}return _inherits(Edges,_Backbone$Collection),Edges.prototype.initialize=function(models){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.project=options.project},Edges.prototype.model=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new _edge2.default(attributes,options)},Edges.prototype.parse=function(response){return response.edges},Edges.prototype.create=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==attributes.index&&_extends(attributes,{index:this.project.nextEdgeIndex()}),_extends(options,{project:this.project}),this.add(attributes,options)},Edges}(Backbone.Collection);exports.default=Edges;exports.SortedEdges=function(_Backbone$Collection2){function SortedEdges(){return _classCallCheck(this,SortedEdges),_possibleConstructorReturn(this,_Backbone$Collection2.apply(this,arguments))}return _inherits(SortedEdges,_Backbone$Collection2),SortedEdges.prototype.model=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new _edge2.default(attributes,options)},SortedEdges.prototype.comparator=function(model){return model.get("position")},SortedEdges}(Backbone.Collection)}).call(exports,__webpack_require__(0))},220:function(module,exports,__webpack_require__){"use strict";(function(Backbone){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _loader=__webpack_require__(6),_character=__webpack_require__(221),_character2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_character),Characters=function(_Backbone$Collection){function Characters(){return _classCallCheck(this,Characters),_possibleConstructorReturn(this,_Backbone$Collection.apply(this,arguments))}return _inherits(Characters,_Backbone$Collection),Characters.prototype.model=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new _character2.default(attributes,options)},Characters.prototype.url=function(){return _loader.Context.url.characters},Characters.prototype.parse=function(response){return response.characters},Characters}(Backbone.Collection);exports.default=Characters,module.exports=exports.default}).call(exports,__webpack_require__(0))},221:function(module,exports,__webpack_require__){"use strict";(function(Backbone){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _character=__webpack_require__(45),Constants=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_character),_node=__webpack_require__(20),Character=function(_Backbone$Model){function Character(){return _classCallCheck(this,Character),_possibleConstructorReturn(this,_Backbone$Model.apply(this,arguments))}return _inherits(Character,_Backbone$Model),Character.prototype.defaults=function(){return Constants.DEFAULTS},Character.prototype.initialize=function(){this.views={},this.uploader=!1},Character.prototype.defaultFace=function(){return{x:0,y:0,width:Constants.FACE_DEFAULT_HEIGHT,height:Constants.FACE_DEFAULT_HEIGHT,normal_x:-Constants.FACE_DEFAULT_HEIGHT/2}},Character.prototype.imageURL=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},style=options.style||"small",emotion=this.emotion(options.emotion);if(emotion)return emotion[style+"_url"]},Character.prototype.emotion=function(name){var emotions=this.get("emotions"),exist=name;if(emotions)return this.get("emotional")&&emotions[name]||(exist=_node.DEFAULTS.emotion),emotions[exist]},Character.prototype.getFace=function(name){var emotion=this.emotion(name);return emotion&&emotion.face?emotion.face:this.defaultFace()},Character.prototype.parse=function(response){return null!=response.character?response.character:response},Character}(Backbone.Model);exports.default=Character,module.exports=exports.default}).call(exports,__webpack_require__(0))},222:function(module,exports,__webpack_require__){"use strict";(function(Backbone){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _loader=__webpack_require__(6),_background=__webpack_require__(223),_background2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_background),Backgrounds=function(_Backbone$Collection){function Backgrounds(){return _classCallCheck(this,Backgrounds),_possibleConstructorReturn(this,_Backbone$Collection.apply(this,arguments))}return _inherits(Backgrounds,_Backbone$Collection),Backgrounds.prototype.model=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new _background2.default(attributes,options)},Backgrounds.prototype.url=function(){return _loader.Context.url.backgrounds},Backgrounds.prototype.parse=function(response){return response.backgrounds},Backgrounds}(Backbone.Collection);exports.default=Backgrounds,module.exports=exports.default}).call(exports,__webpack_require__(0))},223:function(module,exports,__webpack_require__){"use strict";(function(Backbone){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _background=__webpack_require__(87),Constants=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_background),Background=function(_Backbone$Model){function Background(){return _classCallCheck(this,Background),_possibleConstructorReturn(this,_Backbone$Model.apply(this,arguments))}return _inherits(Background,_Backbone$Model),Background.prototype.defaults=function(){return Constants.DEFAULTS},Background.prototype.imageURL=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},style=options.style||"small";return this.get(style+"_url")},Background.prototype.parse=function(response){return null!=response.background?response.background:response},Background}(Backbone.Model);exports.default=Background,module.exports=exports.default}).call(exports,__webpack_require__(0))},224:function(module,exports,__webpack_require__){"use strict";(function(Backbone,$){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _loader=__webpack_require__(6),_voice=__webpack_require__(39),_voice2=__webpack_require__(225),_voice3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_voice2),Voices=function(_Backbone$Collection){function Voices(){return _classCallCheck(this,Voices),_possibleConstructorReturn(this,_Backbone$Collection.apply(this,arguments))}return _inherits(Voices,_Backbone$Collection),Voices.prototype.model=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new _voice3.default(attributes,options)},Voices.prototype.initialize=function(models){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.project=options.project},Voices.prototype.url=function(){return _loader.Context.url.project_voices},Voices.prototype.parse=function(response){return response.voices},Voices.prototype.deleteAll=function(){return this.trigger("deleting"),$.ajax({url:this.url(),method:"DELETE",error:this.deleteError,success:this.deleteSuccess,contentType:"application/json",dataType:"json"})},Voices.prototype.deleteSuccess=function(){this.project.nodes.each(function(node){return node.set("voice_id",null)}),this.project.edges.each(function(edge){return edge.set("voice_id",null)}),this.reset([]),this.trigger("deleting:success")},Voices.prototype.deleteError=function(){this.trigger("deleting:error")},Voices.prototype.getUploaderFileTypes=function(){return _voice.ACCEPT_CONTENT_TYPE_REGEX},Voices}(Backbone.Collection);exports.default=Voices,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(1))},225:function(module,exports,__webpack_require__){"use strict";(function(Backbone){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _voice=__webpack_require__(39),Constants=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_voice),Voice=function(_Backbone$Model){function Voice(){return _classCallCheck(this,Voice),_possibleConstructorReturn(this,_Backbone$Model.apply(this,arguments))}return _inherits(Voice,_Backbone$Model),Voice.prototype.defaults=function(){return Constants.DEFAULTS},Voice.prototype.parse=function(response){return null!=response.voice?response.voice:response},Voice}(Backbone.Model);exports.default=Voice,module.exports=exports.default}).call(exports,__webpack_require__(0))},226:function(module,exports,__webpack_require__){"use strict";(function(Backbone,$){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _loader=__webpack_require__(6),_video=__webpack_require__(46),_video2=__webpack_require__(227),_video3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_video2),Videos=function(_Backbone$Collection){function Videos(){return _classCallCheck(this,Videos),_possibleConstructorReturn(this,_Backbone$Collection.apply(this,arguments))}return _inherits(Videos,_Backbone$Collection),Videos.prototype.model=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new _video3.default(attributes,options)},Videos.prototype.initialize=function(models){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.project=options.project},Videos.prototype.url=function(){return _loader.Context.url.project_videos},Videos.prototype.parse=function(response){return response.videos},Videos.prototype.deleteAll=function(){return this.trigger("deleting"),$.ajax({url:this.url(),method:"DELETE",error:this.deleteError.bind(this),success:this.deleteSuccess.bind(this),contentType:"application/json",dataType:"json"})},Videos.prototype.deleteSuccess=function(){this.project.nodes.each(function(node){return node.set("video_id",null)}),this.reset([]),this.trigger("deleting:success")},Videos.prototype.deleteError=function(){this.trigger("deleting:error")},Videos.prototype.getUploaderFileTypes=function(){return _video.ACCEPT_CONTENT_TYPE_REGEX},Videos}(Backbone.Collection);exports.default=Videos,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(1))},227:function(module,exports,__webpack_require__){"use strict";(function(Backbone){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _video=__webpack_require__(46),Constants=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_video),Video=function(_Backbone$Model){function Video(){return _classCallCheck(this,Video),_possibleConstructorReturn(this,_Backbone$Model.apply(this,arguments))}return _inherits(Video,_Backbone$Model),Video.prototype.defaults=function(){return Constants.DEFAULTS},Video.prototype.getDuration=function(){var duration=this.get("duration")||0,mins=Math.floor(duration/60),secs=Math.round(duration%60);return mins=mins<10?"0"+mins:mins,secs=secs<10?"0"+secs:secs,mins+":"+secs},Video.prototype.parse=function(response){return null!=response.video?response.video:response},Video}(Backbone.Model);exports.default=Video,module.exports=exports.default}).call(exports,__webpack_require__(0))},228:function(module,exports,__webpack_require__){"use strict";(function(Backbone){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_score=__webpack_require__(88),_score2=__webpack_require__(174),_score3=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_score2),Scores=function(_Backbone$Collection){function Scores(){return _classCallCheck(this,Scores),_possibleConstructorReturn(this,_Backbone$Collection.apply(this,arguments))}return _inherits(Scores,_Backbone$Collection),Scores.prototype.model=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new _score3.default(attributes,options)},Scores.prototype.initialize=function(models){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.project=options.project},Scores.prototype.uids=function(){return this.map(function(score){return score.get("uid")})},Scores.prototype.generateUID=function(name){for(var chars=name.substring(0,2).toLowerCase(),counter=1;null!=this.project.scores.findWhere({uid:""+chars+counter});)counter++;return""+chars+counter},Scores.prototype.create=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_extends(options,{project:this.project}),_extends(attributes,{uid:this.generateUID(attributes.name)}),!attributes.color){var last=this.last(),index=last?_score.COLORS.indexOf(last.get("color"))+1:0;_extends(attributes,{color:_score.COLORS[index%(_score.COLORS.length-1)]})}return this.add(attributes,options)},Scores.prototype.delete=function(model){model.set("deleted",!0),this.project.nodes.each(function(node){return node.deleteScoreFor(model.get("uid"))}),this.remove(model)},Scores}(Backbone.Collection);exports.default=Scores,module.exports=exports.default}).call(exports,__webpack_require__(0))},229:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_loader=__webpack_require__(6),_playlog=__webpack_require__(89),_timeline=__webpack_require__(230),_timeline2=_interopRequireDefault(_timeline),_timeline_node=__webpack_require__(91),_timeline_node2=_interopRequireDefault(_timeline_node),_timeline_edge=__webpack_require__(119),_timeline_edge2=_interopRequireDefault(_timeline_edge),Playlog=function(_Backbone$Model){function Playlog(){return _classCallCheck(this,Playlog),_possibleConstructorReturn(this,_Backbone$Model.apply(this,arguments))}return _inherits(Playlog,_Backbone$Model),Playlog.prototype.initialize=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.idAttribute="token",this.persistable=null==options.persistable||options.persistable,this.saving=!1,this.project=options.project,this.timeline=new _timeline2.default([],{playlog:this}),this.queue=_.chain([]),this.listenTo(this.timeline,"add",this.timelineEntryAdded)},Playlog.prototype.urlRoot=function(){return _loader.Context.url.playlogs},Playlog.prototype.defaults=function(){return _playlog.DEFAULTS},Playlog.prototype.reset=function(){this.unset("id"),this.set(this.defaults()),this.timeline.reset()},Playlog.prototype.start=function(node){this.set("started_at",new Date);var startingNode=null!=node?node:this.project.nodes.findWhere({index:this.project.get("initial_node_index")});startingNode&&this.createTimelineNode(startingNode)},Playlog.prototype.finish=function(){this.set("finished_at",new Date),this.save()},Playlog.prototype.questions=function(){return _(this.timeline.filter(function(model){return model instanceof _timeline_node2.default}))},Playlog.prototype.answers=function(){return _(this.timeline.filter(function(model){return model instanceof _timeline_edge2.default}))},Playlog.prototype.createTimelineNode=function(node){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},attributes={index:this.questions().size()+1,answered_at:new Date};if(["id","content","kind","index"].forEach(function(key){attributes["node_"+key]=node.get(key)}),attributes.index>1){var lastTimelineEdge=this.lastTimelineEdge();_extends(attributes,lastTimelineEdge.pick("duration","edge_id","edge_content","custom_content","edge_position","answered_at"))}_extends(params,attributes),this.timeline.create(node,params,options)},Playlog.prototype.createTimelineEdge=function(edge){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},attributes={index:this.answers().size()+1,duration:this.stopWaiting(),answered_at:new Date};["id","content","position"].forEach(function(key){attributes["edge_"+key]=edge.get(key)}),_extends(params,attributes),this.timeline.create(edge,params,options)},Playlog.prototype.lastTimelineNode=function(){return this.questions().last()},Playlog.prototype.lastTimelineEdge=function(){return this.answers().last()},Playlog.prototype.lastNode=function(){var n=this.lastTimelineNode();return null!=n?n.parent:null},Playlog.prototype.timelineEntryAdded=function(entry){entry instanceof _timeline_node2.default&&(this.queue.push(entry),entry.get("index")>1&&(0===entry.parent.edges().size()?this.finish():this.save()))},Playlog.prototype.scoreFor=function(uid){return(this.scores()||{})[uid]},Playlog.prototype.score=function(){return this.lastTimelineNode().get("total_score")},Playlog.prototype.scores=function(){return this.lastTimelineNode().get("total_scores")},Playlog.prototype.save=function(){return!!this.persistable&&(!this.saving&&(this.saving=!0,void _Backbone$Model.prototype.save.call(this,null,{namespace:!0,success:this.onSaveSuccess.bind(this),error:this.onSaveError.bind(this)})))},Playlog.prototype.parse=function(response){return null!=response.playlog?response.playlog:response},Playlog.prototype.toJSON=function(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},json=this.pick("version","started_at","finished_at","referrer_url","project_id","lesson_id","learner_id");return json.entries=this.queue.map(function(entry){return entry.toJSON()}).value(),json.referrer_url=window.location!==window.parent.location?document.referrer:window.location.href,options.namespace&&(json={playlog:json}),json},Playlog.prototype.eventJSON=function(){var hash=this.pick("started_at","finished_at");return hash.score=this.score(),hash.scores=this.scores(),hash.path_indexes=":"+this.questions().map(function(q){return q.parent.get("index")}).join(":")+":",hash},Playlog.prototype.onSaveSuccess=function(model,response){response.data&&(this.queue=this.queue.reject(function(entry){return response.data.indexOf(entry.get("index"))>-1})),this.saving=!1,this.queue.size().value()>0?this.save():this.get("finished_at")&&this.trigger("server:finish")},Playlog.prototype.onSaveError=function(){this.saving=!1},Playlog.prototype.startWaiting=function(){this.waitingDate=new Date},Playlog.prototype.stopWaiting=function(){var time=this.waitingDate>0?new Date-this.waitingDate:null;return this.waitingDate=null,time/1e3},Playlog}(Backbone.Model);exports.default=Playlog,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3))},23:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var store={};exports.default=store,module.exports=exports.default},230:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_node=__webpack_require__(114),_node2=_interopRequireDefault(_node),_edge=__webpack_require__(115),_edge2=_interopRequireDefault(_edge),_timeline_node=__webpack_require__(91),_timeline_node2=_interopRequireDefault(_timeline_node),_timeline_edge=__webpack_require__(119),_timeline_edge2=_interopRequireDefault(_timeline_edge),Timeline=function(_Backbone$Collection){function Timeline(){return _classCallCheck(this,Timeline),_possibleConstructorReturn(this,_Backbone$Collection.apply(this,arguments))}return _inherits(Timeline,_Backbone$Collection),Timeline.prototype.initialize=function(models){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.playlog=options.playlog},Timeline.prototype.model=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return options.parent instanceof _edge2.default?new _timeline_edge2.default(attributes,options):options.parent instanceof _node2.default?new _timeline_node2.default(attributes,options):void 0},Timeline.prototype.create=function(parent){var attributes=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_extends(options,{parent:parent});var node=parent instanceof _node2.default?parent:parent.toNode;if(node){this.filter(function(model){return model.parent===node}).length>0?_extends(attributes,{score:null,scores:null}):_extends(attributes,node.pick("score","scores"))}var lastTimelineNode=this.playlog.lastTimelineNode();lastTimelineNode&&_extends(attributes,{prev_total_score:lastTimelineNode.get("total_score"),prev_total_scores:_.clone(lastTimelineNode.get("total_scores"))});var model=this.model(attributes,options);return this.calculateScoreFor(model),this.add(model,options)},Timeline.prototype.eventJSON=function(){return this.map(function(entry){return entry.eventJSON()})},Timeline.prototype.calculateScoreFor=function(entry){if(this.playlog.project.get("multiple_scoring")){var uids=this.playlog.project.scores.uids(),totalScores=_.clone(entry.get("prev_total_scores")||{});_(uids).each(function(uid){var value=entry.scoreFor(uid);null!=value&&(totalScores[uid]=(totalScores[uid]||0)+value)}),_.isEmpty(totalScores)||entry.set({total_scores:totalScores,total_score:_(totalScores).values().reduce(function(memo,value){return memo+value},0)})}else{var nodeScore=entry.get("score"),totalScore=entry.get("prev_total_score");null!=nodeScore&&(_.includes(["-","+"],nodeScore[0])||(totalScore=0),totalScore=(totalScore||0)+parseInt(nodeScore,10)),null!=totalScore&&entry.set("total_score",totalScore)}},Timeline}(Backbone.Collection);exports.default=Timeline,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3))},231:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _dispatcher=__webpack_require__(4),_dispatcher2=_interopRequireDefault(_dispatcher),_player=__webpack_require__(23),_player2=_interopRequireDefault(_player),_timeline_node=__webpack_require__(91),_timeline_node2=_interopRequireDefault(_timeline_node),_timeline_node_view=__webpack_require__(232),_timeline_node_view2=_interopRequireDefault(_timeline_node_view),_timeline_edge_view=__webpack_require__(238),_timeline_edge_view2=_interopRequireDefault(_timeline_edge_view),TimelineView=function(_Backbone$View){function TimelineView(){return _classCallCheck(this,TimelineView),_possibleConstructorReturn(this,_Backbone$View.apply(this,arguments))}return _inherits(TimelineView,_Backbone$View),TimelineView.prototype.initialize=function(options){this.views={},this.$pixel=options.pixel},TimelineView.prototype.render=function(){return this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"reset",this.reset),this.listenTo(this.collection,"remove",this.removeOne),this.listenTo(_dispatcher2.default.Events,"player:timeline:top",this.moveUp),this.listenTo(_dispatcher2.default.Events,"player:details:shown",this.onDetails),this},TimelineView.prototype.addOne=function(entry){var view=void 0;view=entry instanceof _timeline_node2.default?new _timeline_node_view2.default({model:entry,container:this.$el}).render():new _timeline_edge_view2.default({model:entry,container:this.$el}).render(),entry.trigger("player:timeline:show"),this.views[entry.cid]=view},TimelineView.prototype.reset=function(){_(this.views).each(function(view){return view.remove()}),this.views={},this.$el.css({top:15})},TimelineView.prototype.moveUp=function(top){var animate=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],css={top:-top/this.getScale()+15},options={};animate&&!_player2.default.project.get("disable_player_animation")||(options.duration=0),this.$el.velocity(css,options)},TimelineView.prototype.getScale=function(){return this.$pixel.position().left/50},TimelineView.prototype.removeOne=function(entry){entry.trigger("player:timeline:hide"),delete this.views[entry.cid]},TimelineView.prototype.onDetails=function(state){var options={};_player2.default.project.get("disable_player_animation")&&(options.duration=0),this.$el.velocity(state?"fadeOut":"fadeIn",options)},TimelineView}(Backbone.View);exports.default=TimelineView,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3))},232:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_,$){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _autolink=__webpack_require__(35),_autolink2=_interopRequireDefault(_autolink),_dispatcher=__webpack_require__(4),_dispatcher2=_interopRequireDefault(_dispatcher),_view_manager=__webpack_require__(10),_view_manager2=_interopRequireDefault(_view_manager),_interpolation=__webpack_require__(29),_interpolation2=_interopRequireDefault(_interpolation),_player=__webpack_require__(23),_player2=_interopRequireDefault(_player),_timeline=__webpack_require__(233),_timeline2=_interopRequireDefault(_timeline),_timeline3=__webpack_require__(120),_timeline4=_interopRequireDefault(_timeline3),_node_edges_view=__webpack_require__(121),_node_edges_view2=_interopRequireDefault(_node_edges_view),_node_feedback_view=__webpack_require__(236),_node_feedback_view2=_interopRequireDefault(_node_feedback_view),TimelineNodeView=function(_Backbone$View){function TimelineNodeView(){return _classCallCheck(this,TimelineNodeView),_possibleConstructorReturn(this,_Backbone$View.apply(this,arguments))}return _inherits(TimelineNodeView,_Backbone$View),TimelineNodeView.prototype.tagName=function(){return"li"},TimelineNodeView.prototype.className=function(){return"node"},TimelineNodeView.prototype.events=function(){return{"click a.control-voice":"repeatVoice","click a.control-video":"repeatVideo"}},TimelineNodeView.prototype.initialize=function(options){this.container=options.container,this.shown=!1,this.defaultBubbleOffset=60,this.bubbleOffsetMargin=0},TimelineNodeView.prototype.render=function(){var attributes=_.clone(this.model.parent.attributes);return this.$el.html((0,_timeline2.default)(attributes)),this.$text=this.$(".content"),this.$bubble=this.$("blockquote").attr("tabindex",-1).css({display:"none"}),this.renderContent(),this.renderVoice(),_view_manager2.default.get(this.model.parent,_node_edges_view2.default,{ns:"player"}).render(),this.$el.appendTo(this.container),this.listenTo(this.model,"player:timeline:show",this.show),this.listenTo(this.model,"player:timeline:hide",this.hide),this.listenTo(this.model.parent,"change:content",this.renderContent),this.listenTo(this.model.parent,"change:voice_id",this.renderVoice),this.listenTo(this.model.parent,"player:feedback:continue",this.afterFeedback),this.listenTo(this.model.parent,"player:voice:playing",this.voicePlaying),this.listenTo(this.model.parent,"player:voice:paused player:voice:ended",this.voicePaused),this.listenTo(this.model.parent,"player:voice:paused player:voice:ended",this.afterMedia),this.listenTo(this.model.parent,"player:video:progress",this.videoProgress),this.listenTo(this.model.parent,"player:video:ended",this.videoEnded),this.listenTo(this.model.parent,"player:character:changed",this.bubbleOffset),this},TimelineNodeView.prototype.renderContent=function(){var content=this.model.parent.getContent();content=(0,_interpolation2.default)(content).replace(/\n{2,}/g,"<br><br>").replace(/\n/g,"<br>"),content=(0,_autolink2.default)(content,{target:"_blank",rel:"nofollow",class:"theme-highlight-font-color"}),this.$text.html(content),_player2.default.persistable?this.$bubble.css("visibility",this.model.parent.get("content")?"visible":"hidden"):this.model.parent.get("content")||this.$bubble.css("opacity",.5)},TimelineNodeView.prototype.renderVoice=function(){this.model.getVoiceURL()?(this.$voice||(this.$voice=$((0,_timeline4.default)())),this.$voice.appendTo(this.$bubble)):null!=this.$voice&&this.$voice.detach()},TimelineNodeView.prototype.show=function(){_dispatcher2.default.postMessage("player:scene",{project:_player2.default.project.eventJSON(),playlog:_player2.default.playlog.eventJSON(),scene:this.model.eventJSON()}),_dispatcher2.default.Events.trigger("player:timeline:node",this.model),this.afterMediaShown=!1;var node=this.model.parent;node.get("feedback")&&(_view_manager2.default.get(node,_node_feedback_view2.default,{ns:"player"}).render(),node.trigger("player:feedback:show")),node.get("feedback")&&0!==node.edges().size()||this.afterFeedback(),0===node.edges().size()&&_dispatcher2.default.postMessage("player:finish",{project:_player2.default.project.eventJSON(),playlog:_player2.default.playlog.eventJSON(),results:_player2.default.timeline.eventJSON(),scene:this.model.eventJSON()})},TimelineNodeView.prototype.media=function(){this.model.getVideoURL()?_dispatcher2.default.Events.trigger("player:video:play",{model:this.model.parent}):this.model.getVoiceURL()?_dispatcher2.default.Events.trigger("player:voice:play",{model:this.model.parent}):(_dispatcher2.default.Events.trigger("player:media:hide"),this.afterMedia())},TimelineNodeView.prototype.voicePlaying=function(options){this.$("a.control-voice").removeClass("fa-play").addClass("fa-stop playing"),this.showVoice(),this.$progress||(this.$progress=this.$("div.progress")),this.$progress.velocity("stop").velocity({width:["100%",options.current/options.duration*100+"%"]},{duration:1e3*(options.duration-options.current),easing:"linear"})},TimelineNodeView.prototype.videoProgress=function(options){var delay=this.model.parent.get("show_edges_delay");delay>0&&options.current<delay?this.afterMediaShown&&(this.afterMediaShown=!1,this.model.parent.trigger("player:edges:hide")):this.afterMedia()},TimelineNodeView.prototype.voicePaused=function(){null!=this.$progress&&(_player2.default.project.get("disable_player_animation")?this.hideVoice():this.$progress.velocity("stop").velocity({width:"100%"},{complete:this.hideVoice.bind(this)})),this.$("a.control-voice").removeClass("fa-stop playing").addClass("fa-play")},TimelineNodeView.prototype.videoEnded=function(){var edge=this.model.parent.getDefaultEdge();edge?(this.afterMediaShown=!0,this.model.parent.trigger("player:feedback:hide"),this.model.parent.trigger("player:edges:hide"),_player2.default.playlog.createTimelineEdge(edge)):this.afterMedia()},TimelineNodeView.prototype.afterFeedback=function(){this.shown?this.afterMedia():(this.shown=!0,this.model.getVideoURL()?this.media():(this.bubbleOffset(),_player2.default.project.get("disable_player_animation")?(this.$bubble.css({display:"inline-block"}),this.media()):this.$bubble.velocity({scale:[1,0]},{display:"inline-block",complete:this.media.bind(this)})))},TimelineNodeView.prototype.afterMedia=function(){if(this.afterMediaShown)return!1;this.afterMediaShown=!0,this.focus(),this.model.parent.trigger("player:edges:show")},TimelineNodeView.prototype.repeatVoice=function(event){$(event.currentTarget).hasClass("playing")?_dispatcher2.default.Events.trigger("player:voice:stop"):this.model.getVoiceURL()&&_dispatcher2.default.Events.trigger("player:voice:play",{model:this.model.parent,force:!0})},TimelineNodeView.prototype.showVoice=function(){this.$track||(this.$track=this.$("div.track")),_player2.default.project.get("disable_player_animation")?this.$track.css({opacity:1,display:"block"}):this.$track.velocity({opacity:1},{display:"block"})},TimelineNodeView.prototype.hideVoice=function(){_player2.default.project.get("disable_player_animation")?this.$track.css({display:"none"}):this.$track.velocity({opacity:0},{display:"none"})},TimelineNodeView.prototype.repeatVideo=function(){this.model.getVideoURL()&&_dispatcher2.default.Events.trigger("player:video:play",{model:this.model.parent,force:!0})},TimelineNodeView.prototype.hide=function(){_player2.default.project.get("disable_player_animation")?this.$el.remove():this.$bubble.velocity({scale:0},{display:"none",complete:function(){$(this).parent().remove()}}),this.model.parent.trigger("player:feedback:hide player:edges:hide")},TimelineNodeView.prototype.bubbleOffset=function(){var css={marginRight:this.defaultBubbleOffset};if(_player2.default.character&&_player2.default.character){var face=_player2.default.character.getFace(this.model.parent.getEmotion());css.marginRight=-face.normal_x+this.bubbleOffsetMargin,this.$el.removeClass("no-character")}else this.$el.addClass("no-character");!this.shown||_player2.default.project.get("disable_player_animation")?this.$bubble.css(css):this.$bubble.velocity(css)},TimelineNodeView.prototype.focus=function(){window.location.search.search(/disable-focus/)<0&&this.$bubble.focus()},TimelineNodeView}(Backbone.View);exports.default=TimelineNodeView,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3),__webpack_require__(1))},233:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__(2);module.exports=(Handlebars.default||Handlebars).template({1:function(container,depth0,helpers,partials,data){return'    <a class="media-icon control-video fa fa-video-camera"></a>\n'},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<blockquote class="theme-speech-bg-color" notranslate>\n'+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.video_url:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'  <span class="content theme-highlight-anchor-color" dir="auto"></span>\n  <span class="node-tick theme-speech-border-color"></span>\n</blockquote>\n'},useData:!0})},234:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__(2);module.exports=(Handlebars.default||Handlebars).template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper;return'<button class="edge submit theme-answer-bg-color" tabindex="0" notranslate>\n  <em class="edge-position theme-highlight-bg-color">'+container.escapeExpression((helper=null!=(helper=helpers.order||(null!=depth0?depth0.order:depth0))?helper:helpers.helperMissing,"function"==typeof helper?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"order",hash:{},data:data}):helper))+'</em>\n  <span class="content js-content" dir="auto"></span>\n  <span class="edge-tick theme-answer-border-color"></span>\n</button>\n'},useData:!0})},235:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__(2);module.exports=(Handlebars.default||Handlebars).template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<span class="edge freetext theme-answer-bg-color" notranslate>\n  <div class="input">\n    <textarea name="edge[freetext]" placeholder="..." rows="3" dir="auto" tabindex="0"></textarea>\n    <span class="counter"></span>\n  </div>\n  <a class="button smaller submit theme-highlight-bg-color" tabindex="0"><span class="fa fa-check-circle fa-sp"></span><span class="js-content" dir="auto"></span></a>\n  <span class="edge-tick theme-answer-border-color"></span>\n</span>\n'},useData:!0})},236:function(module,exports,__webpack_require__){"use strict";(function(Backbone,$){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _font_auto_size=__webpack_require__(109),_font_auto_size2=_interopRequireDefault(_font_auto_size),_dispatcher=__webpack_require__(4),_dispatcher2=_interopRequireDefault(_dispatcher),_feedback=__webpack_require__(237),_feedback2=_interopRequireDefault(_feedback),_player=__webpack_require__(23),_player2=_interopRequireDefault(_player),NodeFeedbackView=function(_Backbone$View){function NodeFeedbackView(){_classCallCheck(this,NodeFeedbackView);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var _this=_possibleConstructorReturn(this,_Backbone$View.call.apply(_Backbone$View,[this].concat(args)));return _this.hotkey=_this.hotkey.bind(_this),_this}return _inherits(NodeFeedbackView,_Backbone$View),NodeFeedbackView.prototype.tagName=function(){return"div"},NodeFeedbackView.prototype.className=function(){return"feedback"},NodeFeedbackView.prototype.events=function(){return{"click .continue":"continue","click .close":"continue","click .js-multiple-details":"showDetails"}},NodeFeedbackView.prototype.initialize=function(){this.visible=!1,this.container="div.player-feedbacks"},NodeFeedbackView.prototype.templateAttributes=function(){return{translations:_player2.default.project.translations(),multiple:_player2.default.project.get("multiple_scoring")}},NodeFeedbackView.prototype.render=function(){return!(this.$el.parent().length>0)&&(this.$el.html((0,_feedback2.default)(this.templateAttributes())),this.$el.css("visibility","hidden").appendTo(this.container),this.$text=this.$(".js-text"),this.$score=this.$(".score"),this.listenTo(this.model,"change:feedback change:score change:show_score_with_feedback",this.renderContent),this.listenTo(this.model,"player:feedback:show",this.show),this.listenTo(this.model,"player:feedback:hide",this.hide),this.listenTo(_dispatcher2.default.Events,"player:reset",this.reset),this.listenTo(_dispatcher2.default.Events,"player:details:shown",this.onDetails),this)},NodeFeedbackView.prototype.reset=function(){this.onDetails(!1),this.hide()},NodeFeedbackView.prototype.show=function(){if(!this.visible){this.visible=!0,this.renderContent(),this.setFontSize();var options={visibility:"visible"};_player2.default.project.get("disable_player_animation")&&(options.duration=0),options.complete=this.afterShow.bind(this),this.$el.velocity("stop").velocity({opacity:1,top:-245},options),this.enableHotkeys()}},NodeFeedbackView.prototype.hide=function(callback){if(this.visible){this.visible=!1,this.disableHotkeys();var options={visibility:"hidden",complete:callback};_player2.default.project.get("disable_player_animation")&&(options.duration=0),this.$el.velocity("stop").velocity({opacity:0,top:0},options)}},NodeFeedbackView.prototype.continue=function(){this.hide(),this.model.trigger("player:feedback:continue")},NodeFeedbackView.prototype.renderContent=function(){var score=_player2.default.playlog.score();this.$el.toggleClass("finish",0===this.model.edges().size()),this.$score.text(score),this.$el.toggleClass("with-score",this.model.get("show_score_with_feedback")&&null!=score),this.$text.html(this.model.getFeedback()),this.visible&&this.setFontSize()},NodeFeedbackView.prototype.afterShow=function(){this.focus()},NodeFeedbackView.prototype.setFontSize=function(){var fontSize=48,width=this.$text.width(),height=this.$el.height()-100;fontSize=(0,_font_auto_size2.default)(this.model.getFeedback(),{minSize:14,maxSize:50,size:fontSize,width:width,height:height,css:{font:this.$text.css("font"),lineHeight:"normal"}}),this.$text.css({fontSize:fontSize})},NodeFeedbackView.prototype.hotkey=function(event){event.preventDefault(),this.model.edges().size()>0&&this.continue()},NodeFeedbackView.prototype.enableHotkeys=function(){this.disableHotkeys(),$(window.document).on("keydown",null,"space",this.hotkey)},NodeFeedbackView.prototype.disableHotkeys=function(){$(window.document).off("keydown",this.hotkey)},NodeFeedbackView.prototype.focus=function(){window.location.search.search(/disable-focus/)<0&&this.$text.focus()},NodeFeedbackView.prototype.showDetails=function(){_dispatcher2.default.Events.trigger("player:details:show")},NodeFeedbackView.prototype.onDetails=function(state){if(this.visible){var options={visibility:state?"hidden":"visible"};_player2.default.project.get("disable_player_animation")&&(options.duration=0),this.$el.velocity("finish").velocity({opacity:state?0:1},options)}},NodeFeedbackView}(Backbone.View);exports.default=NodeFeedbackView,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(1))},237:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__(2);module.exports=(Handlebars.default||Handlebars).template({1:function(container,depth0,helpers,partials,data){var stack1;return'        <a class="js-multiple-details"><span class="fa fa-pie-chart fa-sp bf-t"></span>'+container.escapeExpression(container.lambda(null!=(stack1=null!=depth0?depth0.translations:depth0)?stack1.show_details:stack1,depth0))+"</a>\n"},3:function(container,depth0,helpers,partials,data){var stack1;return"        "+container.escapeExpression(container.lambda(null!=(stack1=null!=depth0?depth0.translations:depth0)?stack1.score_bottom:stack1,depth0))+"\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'<div class="bg theme-answer-bg-color" notranslate>\n  <div class="score-spot theme-highlight-bg-color">\n    <header>'+alias2(alias1(null!=(stack1=null!=depth0?depth0.translations:depth0)?stack1.score_top:stack1,depth0))+'</header>\n    <em class="score">0</em>\n    <footer>\n'+(null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.multiple:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(3,data,0),data:data}))?stack1:"")+'    </footer>\n  </div>\n  <div class="text" tabindex="-1" dir="auto">\n    <div class="js-text"></div>\n    <button class="button continue theme-highlight-bg-color" z-index="0">'+alias2(alias1(null!=(stack1=null!=depth0?depth0.translations:depth0)?stack1.continue:stack1,depth0))+"</button>\n  </div>\n</div>\n"},useData:!0})},238:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_,$){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _autolink=__webpack_require__(35),_autolink2=_interopRequireDefault(_autolink),_dispatcher=__webpack_require__(4),_dispatcher2=_interopRequireDefault(_dispatcher),_view_manager=__webpack_require__(10),_view_manager2=_interopRequireDefault(_view_manager),_interpolation=__webpack_require__(29),_interpolation2=_interopRequireDefault(_interpolation),_format_cumulative_score=__webpack_require__(42),_format_cumulative_score2=_interopRequireDefault(_format_cumulative_score),_player=__webpack_require__(23),_player2=_interopRequireDefault(_player),_edge_show_view=__webpack_require__(122),_edge_show_view2=_interopRequireDefault(_edge_show_view),_timeline=__webpack_require__(239),_timeline2=_interopRequireDefault(_timeline),_timeline3=__webpack_require__(120),_timeline4=_interopRequireDefault(_timeline3),_timeline_score=__webpack_require__(240),_timeline_score2=_interopRequireDefault(_timeline_score),TimelineEdgeView=function(_Backbone$View){function TimelineEdgeView(){return _classCallCheck(this,TimelineEdgeView),_possibleConstructorReturn(this,_Backbone$View.apply(this,arguments))}return _inherits(TimelineEdgeView,_Backbone$View),TimelineEdgeView.prototype.tagName=function(){return"li"},TimelineEdgeView.prototype.className=function(){return"edge"},TimelineEdgeView.prototype.events=function(){return{"click a.control-voice":"repeatVoice"}},TimelineEdgeView.prototype.initialize=function(options){this.$container=options.container,this.visible=!1},TimelineEdgeView.prototype.render=function(){var attributes=_.clone(this.model.parent.attributes);return attributes.voice_url=this.model.getVoiceURL(),this.$el.html((0,_timeline2.default)(attributes)),this.$text=this.$(".content"),this.$bubble=this.$("cite").hide(),this.renderContent(),this.renderVoice(),this.$el.appendTo(this.$container),this.top=_view_manager2.default.get(this.model.parent,_edge_show_view2.default,{ns:"player"}).$el.offset().top-this.$el.offset().top,_player2.default.project.get("disable_player_animation")||(this.$el.css({opacity:0}),this.$bubble.css({top:this.top,left:28})),this.listenTo(this.model,"player:timeline:show",this.show),this.listenTo(this.model,"player:timeline:hide",this.hide),this.listenTo(this.model.parent,"change:content",this.renderContent),this.listenTo(this.model.parent,"change:voice_id",this.renderVoice),this.listenTo(this.model.parent,"player:voice:playing",this.voicePlaying),this.listenTo(this.model.parent,"player:voice:paused player:voice:ended",this.voicePaused),this.listenTo(this.model.parent,"player:voice:paused player:voice:ended",this.afterMedia),this.listenTo(_player2.default.project,"change:disable_timeline_choice",this.toggleVisiblity),this.listenTo(_player2.default.project,"change:timeline_score_preview",this.renderContent),this.listenTo(_player2.default.project,"change:timeline_score_preview",this.toggleVisiblity),this},TimelineEdgeView.prototype.renderContent=function(){var content=void 0;if(this.shouldPreviewScore()){var attrs=this.model.pick("score","total_score");attrs.multiple=_player2.default.project.get("multiple_scoring"),attrs.translations=_player2.default.project.translations(),attrs.multiple?attrs.scores=this.getScores():null!=attrs.score&&(attrs.cumulative=_.includes(["-","+"],attrs.score[0])),content=(0,_timeline_score2.default)(attrs)}else content=this.model.getContent(),content=(0,_interpolation2.default)(content).replace(/\n{2,}/g,"<br><br>").replace(/\n/g,"<br>"),content=(0,_autolink2.default)(content,{target:"_blank",rel:"nofollow",class:"theme-highlight-font-color"});this.$text.html(content)},TimelineEdgeView.prototype.shouldPreviewScore=function(){return _player2.default.project.get("timeline_score_preview")&&null!=this.model.get("score")},TimelineEdgeView.prototype.getScores=function(){var _this2=this,result=[],uid=void 0,score=void 0;return _player2.default.project.scores.each(function(projectScore){uid=projectScore.get("uid"),null!=(score=_this2.model.scoreFor(uid))&&result.push(_.extend(projectScore.toJSON(),{score:(0,_format_cumulative_score2.default)(score),total_score:(_this2.model.totalScoreFor(uid)||0).toString()}))}),result},TimelineEdgeView.prototype.renderVoice=function(){this.$voice||(this.$voice=$((0,_timeline4.default)())),this.model.getVoiceURL()?this.$voice.appendTo(this.$bubble):this.$voice.detach()},TimelineEdgeView.prototype.show=function(){if(_dispatcher2.default.postMessage("player:choice",{project:_player2.default.project.eventJSON(),choice:this.model.eventJSON()}),_dispatcher2.default.Events.trigger("player:timeline:edge"),this.model.parent.toNode&&this.model.parent.toNode.getVideoURL()||_dispatcher2.default.Events.trigger("player:video:hide"),!this.visible){this.visible=!0,_player2.default.project.get("disable_timeline_choice")&&!this.shouldPreviewScore()||this.$bubble.css("display","inline-block");var css1={opacity:1},css2={top:0,left:0};_player2.default.project.get("disable_player_animation")?(this.$el.css(css1),this.$bubble.css(css2),this.media()):(this.$el.velocity(css1),this.$bubble.velocity(css2,{complete:this.media.bind(this)}))}_dispatcher2.default.Events.trigger("player:timeline:top",this.position().top)},TimelineEdgeView.prototype.media=function(){this.model.getVoiceURL()?_dispatcher2.default.Events.trigger("player:voice:play",{model:this.model.parent}):(this.model.parent.toNode&&this.model.parent.toNode.getVoiceURL()||_dispatcher2.default.Events.trigger("player:voice:hide"),this.afterMedia())},TimelineEdgeView.prototype.voicePlaying=function(options){this.$("a.control-voice").removeClass("fa-play").addClass("fa-stop playing"),this.showVoice(),this.$progress=this.$("div.progress"),this.$progress.velocity("stop").velocity({width:["100%",options.current/options.duration*100+"%"]},{duration:1e3*(options.duration-options.current),easing:"linear"})},TimelineEdgeView.prototype.voicePaused=function(){null!=this.$progress&&(_player2.default.project.get("disable_player_animation")?this.hideVoice():this.$progress.velocity("stop").velocity({width:"100%"},{complete:this.hideVoice.bind(this)})),this.$("a.control-voice").removeClass("fa-stop playing").addClass("fa-play")},TimelineEdgeView.prototype.afterMedia=function(){this.stopListening(this.model.parent,"player:voice:paused player:voice:ended",this.afterMedia);var node=this.model.parent.toNode;node&&_player2.default.playlog.createTimelineNode(node)},TimelineEdgeView.prototype.repeatVoice=function(event){$(event.currentTarget).hasClass("playing")?_dispatcher2.default.Events.trigger("player:voice:stop"):this.model.getVoiceURL()&&_dispatcher2.default.Events.trigger("player:voice:play",{model:this.model.parent,force:!0})},TimelineEdgeView.prototype.showVoice=function(){this.$track||(this.$track=this.$("div.track")),_player2.default.project.get("disable_player_animation")?this.$track.css({opacity:1,display:"block"}):this.$track.velocity({opacity:1},{display:"block"})},TimelineEdgeView.prototype.hideVoice=function(){_player2.default.project.get("disable_player_animation")?this.$track.css({display:"none"}):this.$track.velocity({opacity:0},{display:"none"})},TimelineEdgeView.prototype.hide=function(){_player2.default.project.get("disable_player_animation")?this.$el.remove():this.$bubble.velocity({top:this.top,left:28,opacity:0},{display:"none",complete:function(){$(this).parent().remove()}});var timelineEdge=_player2.default.playlog.lastTimelineEdge();timelineEdge?timelineEdge.trigger("player:timeline:show"):_dispatcher2.default.Events.trigger("player:timeline:top",0)},TimelineEdgeView.prototype.offset=function(){return this.$el.offset()},TimelineEdgeView.prototype.position=function(){return this.$el.position()},TimelineEdgeView.prototype.toggleVisiblity=function(){_player2.default.project.get("disable_timeline_choice")&&!this.shouldPreviewScore()?(this.$bubble.css({opacity:0,display:"none"}),_player2.default.playlog.lastTimelineEdge()===this.model&&this.$el.css({height:37})):(this.$bubble.css({opacity:1,display:"inline-block"}),_player2.default.playlog.lastTimelineEdge()===this.model&&this.$el.css({height:this.$bubble.outerHeight()})),_player2.default.playlog.lastTimelineEdge()===this.model&&_dispatcher2.default.Events.trigger("player:timeline:top",this.position().top,!1)},TimelineEdgeView}(Backbone.View);exports.default=TimelineEdgeView,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3),__webpack_require__(1))},239:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__(2);module.exports=(Handlebars.default||Handlebars).template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var helper;return'<cite class="theme-answer-bg-color" notranslate>\n  <em class="edge-position theme-highlight-bg-color">'+container.escapeExpression((helper=null!=(helper=helpers.order||(null!=depth0?depth0.order:depth0))?helper:helpers.helperMissing,"function"==typeof helper?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"order",hash:{},data:data}):helper))+'</em>\n  <span class="content theme-highlight-anchor-color" dir="auto"></span>\n  <span class="edge-tick theme-answer-border-color"></span>\n</cite>\n'},useData:!0})},240:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__(2);module.exports=(Handlebars.default||Handlebars).template({1:function(container,depth0,helpers,partials,data){var stack1;return'  <span class="timeline-scores">\n'+(null!=(stack1=helpers.each.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.scores:depth0,{name:"each",hash:{},fn:container.program(2,data,0),inverse:container.noop,data:data}))?stack1:"")+"  </span>\n"},2:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.total_score:depth0,{name:"if",hash:{},fn:container.program(3,data,0),inverse:container.noop,data:data}))?stack1:""},3:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'        <span class="nowrap">'+alias4((helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2,"function"==typeof helper?helper.call(alias1,{name:"name",hash:{},data:data}):helper))+' <span class="score-label" style="background-color:'+alias4((helper=null!=(helper=helpers.color||(null!=depth0?depth0.color:depth0))?helper:alias2,"function"==typeof helper?helper.call(alias1,{name:"color",hash:{},data:data}):helper))+';">'+(null!=(stack1=helpers.if.call(alias1,null!=depth0?depth0.score:depth0,{name:"if",hash:{},fn:container.program(4,data,0),inverse:container.noop,data:data}))?stack1:"")+"("+alias4((helper=null!=(helper=helpers.total_score||(null!=depth0?depth0.total_score:depth0))?helper:alias2,"function"==typeof helper?helper.call(alias1,{name:"total_score",hash:{},data:data}):helper))+")</span></span>\n"},4:function(container,depth0,helpers,partials,data){var helper;return"<strong>"+container.escapeExpression((helper=null!=(helper=helpers.score||(null!=depth0?depth0.score:depth0))?helper:helpers.helperMissing,"function"==typeof helper?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"score",hash:{},data:data}):helper))+"</strong> "},6:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.cumulative:depth0,{name:"if",hash:{},fn:container.program(7,data,0),inverse:container.program(9,data,0),data:data}))?stack1:""},7:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=container.escapeExpression,alias2=null!=depth0?depth0:container.nullContext||{},alias3=helpers.helperMissing;return"    "+alias1(container.lambda(null!=(stack1=null!=depth0?depth0.translations:depth0)?stack1.timeline_cumulative_score:stack1,depth0))+" <strong>"+alias1((helper=null!=(helper=helpers.score||(null!=depth0?depth0.score:depth0))?helper:alias3,"function"==typeof helper?helper.call(alias2,{name:"score",hash:{},data:data}):helper))+"</strong> ("+alias1((helper=null!=(helper=helpers.total_score||(null!=depth0?depth0.total_score:depth0))?helper:alias3,"function"==typeof helper?helper.call(alias2,{name:"total_score",hash:{},data:data}):helper))+")\n"},9:function(container,depth0,helpers,partials,data){var stack1,helper,alias1=container.escapeExpression;return"    "+alias1(container.lambda(null!=(stack1=null!=depth0?depth0.translations:depth0)?stack1.timeline_total_score:stack1,depth0))+" <strong>"+alias1((helper=null!=(helper=helpers.total_score||(null!=depth0?depth0.total_score:depth0))?helper:helpers.helperMissing,"function"==typeof helper?helper.call(null!=depth0?depth0:container.nullContext||{},{name:"total_score",hash:{},data:data}):helper))+"</strong>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.if.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.multiple:depth0,{name:"if",hash:{},fn:container.program(1,data,0),inverse:container.program(6,data,0),data:data}))?stack1:""},useData:!0})},241:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_,$){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _node=__webpack_require__(20),_dispatcher=__webpack_require__(4),_dispatcher2=_interopRequireDefault(_dispatcher),_player=__webpack_require__(23),_player2=_interopRequireDefault(_player),_emotion_meter=__webpack_require__(242),_emotion_meter2=_interopRequireDefault(_emotion_meter),EmotionMeterView=function(_Backbone$View){function EmotionMeterView(){return _classCallCheck(this,EmotionMeterView),_possibleConstructorReturn(this,_Backbone$View.apply(this,arguments))}return _inherits(EmotionMeterView,_Backbone$View),EmotionMeterView.prototype.className=function(){return"player-emotion-meter"},EmotionMeterView.prototype.events=function(){return{"mouseenter div.emotion":"showEmotionTip"}},EmotionMeterView.prototype.initialize=function(options){this.container=options.container},EmotionMeterView.prototype.render=function(){var attributes={translations:_player2.default.project.translations()};return this.$el.html((0,_emotion_meter2.default)(attributes)),this.toggle(),this.$el.prependTo(this.container),this.$track=this.$el.find(".track"),this.listenTo(_player2.default.project,"change:disable_emotion_meter",this.toggle),this.listenTo(_player2.default.project.nodes,"change:emotion",this.update),this.listenTo(_dispatcher2.default.Events,"player:timeline:node",this.update),this.listenTo(_dispatcher2.default.Events,"player:details:shown",this.onDetails),this},EmotionMeterView.prototype.toggle=function(){var options={},css={opacity:0};_player2.default.project.get("disable_player_animation")&&(options.duration=0),_player2.default.project.get("disable_emotion_meter")?options.display="none":(css.opacity=1,options.display="block"),this.$el.toggleClass("visible",!_player2.default.project.get("disable_emotion_meter")),this.$el.velocity(css,options)},EmotionMeterView.prototype.update=function(){var _this2=this,node=_player2.default.playlog.lastNode();if(node){var emotion=node.getEmotion();if(this.emotion===emotion)return!1;this.emotion=emotion;var index=_.indexOf(_node.EMOTIONS,emotion),css={height:230-(45.4*index+23*index/5)},$emotion=this.$(".emotion."+emotion);this.$(".emotion").not($emotion).css({display:"none",opacity:0}),_player2.default.project.get("disable_player_animation")&&($emotion.css({display:"block",opacity:1}),this.$track.attr("class","track "+emotion).css(css),this.showEmotionTip({currentTarget:$emotion[0]})),this.$track.attr("class","track "+emotion).velocity(css,{display:"block",complete:function(){return $emotion.velocity({opacity:1},{display:"block"}),_this2.showEmotionTip({currentTarget:$emotion[0]})}})}},EmotionMeterView.prototype.showEmotionTip=function(event){var _this3=this,$tip=$("em",event.currentTarget);_player2.default.project.get("disable_player_animation")?$tip.css({display:"block",opacity:1}):$tip.velocity("stop").velocity({opacity:1},{display:"block"}),clearTimeout(this.timer),this.timer=setTimeout(function(){return _this3.hideEmotionTip($tip)},2500)},EmotionMeterView.prototype.hideEmotionTip=function($tip){_player2.default.project.get("disable_player_animation")?$tip.css({display:"none",opacity:0}):$tip.velocity({opacity:0},{display:"none"})},EmotionMeterView.prototype.onDetails=function(state){var options={};_player2.default.project.get("disable_player_animation")&&(options.duration=0),this.$el.velocity(state?"fadeOut":"fadeIn",options)},EmotionMeterView}(Backbone.View);exports.default=EmotionMeterView,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3),__webpack_require__(1))},242:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__(2);module.exports=(Handlebars.default||Handlebars).template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'<div class="track">\n  <div class="thumb"></div>\n</div>\n\x3c!-- happy normal puzzled unhappy angry --\x3e\n<div class="emotion happy">\n  <span class="bt-emotion happy"></span>\n  <em>'+alias2(alias1(null!=(stack1=null!=depth0?depth0.translations:depth0)?stack1.happy:stack1,depth0))+'</em>\n</div>\n<div class="emotion normal">\n  <span class="bt-emotion normal"></span>\n  <em>'+alias2(alias1(null!=(stack1=null!=depth0?depth0.translations:depth0)?stack1.normal:stack1,depth0))+'</em>\n</div>\n<div class="emotion puzzled">\n  <span class="bt-emotion puzzled"></span>\n  <em>'+alias2(alias1(null!=(stack1=null!=depth0?depth0.translations:depth0)?stack1.puzzled:stack1,depth0))+'</em>\n</div>\n<div class="emotion unhappy">\n  <span class="bt-emotion unhappy"></span>\n  <em>'+alias2(alias1(null!=(stack1=null!=depth0?depth0.translations:depth0)?stack1.unhappy:stack1,depth0))+'</em>\n</div>\n<div class="emotion angry">\n  <span class="bt-emotion angry"></span>\n  <em>'+alias2(alias1(null!=(stack1=null!=depth0?depth0.translations:depth0)?stack1.angry:stack1,depth0))+"</em>\n</div>\n"},useData:!0})},243:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _dispatcher=__webpack_require__(4),_dispatcher2=_interopRequireDefault(_dispatcher),_mediaelementplayer=__webpack_require__(50),_mediaelementplayer2=_interopRequireDefault(_mediaelementplayer),_voice=__webpack_require__(244),_voice2=_interopRequireDefault(_voice),VoicePlayerView=function(_Backbone$View){function VoicePlayerView(){return _classCallCheck(this,VoicePlayerView),_possibleConstructorReturn(this,_Backbone$View.apply(this,arguments))}return _inherits(VoicePlayerView,_Backbone$View),VoicePlayerView.prototype.className=function(){return"player-voice"},VoicePlayerView.prototype.events=function(){return{"click a.control-volume":"toggleAutoplay"}},VoicePlayerView.prototype.initialize=function(options){this.container=options.container,this.autoplay=options.autoplay||!1,this.initialized=!1,this.queue=null},VoicePlayerView.prototype.render=function(){return this.listenTo(_dispatcher2.default.Events,"player:voice:play",this.play),this.listenTo(_dispatcher2.default.Events,"player:voice:stop player:media:stop",this.stop),this.listenTo(_dispatcher2.default.Events,"player:voice:hide player:media:hide",this.hide),this.listenTo(_dispatcher2.default.Events,"player:reset",this.reset),this.listenTo(_dispatcher2.default.Events,"player:media:autoplay",this.setAutoplay),this},VoicePlayerView.prototype.renderMediaElement=function(){var _this2=this;if(null==this.mediaElement){this.$el.html((0,_voice2.default)()).appendTo(this.container),this.renderMute(),this.$audio=this.$("audio"),this.$media=this.$("div.media-control");var options=_.extend(_mediaelementplayer.OPTIONS,{type:"audio/mpeg",success:function(mediaElement){_this2.initialized=!0,mediaElement.addEventListener("timeupdate",_this2.playing.bind(_this2)),mediaElement.addEventListener("ended",_this2.ended.bind(_this2)),mediaElement.addEventListener("pause",_this2.paused.bind(_this2)),_this2.queue&&(_this2.play(_this2.queue),_this2.queue=null)},error:function(){}});this.mediaElement=new _mediaelementplayer2.default(this.$audio[0],options)}},VoicePlayerView.prototype.renderMute=function(){return this.$("a.control-volume").toggleClass("disabled fa-volume-off",!this.autoplay).toggleClass("fa-volume-up",this.autoplay)},VoicePlayerView.prototype.reset=function(){return null!=this.mediaElement&&this.mediaElement.pause(),this.hide()},VoicePlayerView.prototype.play=function(options){this.renderMediaElement(),this.ended(),this.initialized?this.autoplay||options.force?null!=this.mediaElement&&(this.playing=!1,this.mediaElement.setSrc(options.model.getVoiceURL()),this.model=options.model,this.mediaElement.load(),this.mediaElement.play()):(this.model=options.model,this.paused()):(this.model=null,this.queue=options)},VoicePlayerView.prototype.stop=function(){null!=this.mediaElement&&this.mediaElement.pause()},VoicePlayerView.prototype.playing=function(){null!=this.model&&!this.playing&&this.mediaElement.media.duration&&(this.model.trigger("player:voice:playing",{current:this.mediaElement.media.currentTime,duration:this.mediaElement.media.duration}),this.playing=!0)},VoicePlayerView.prototype.ended=function(){null!=this.model&&(this.playing=!1,this.model.trigger("player:voice:ended"),this.model=null)},VoicePlayerView.prototype.paused=function(){null!=this.model&&(this.playing=!1,this.model.trigger("player:voice:paused"),this.model=null)},VoicePlayerView.prototype.toggleAutoplay=function(){this.autoplay=!this.autoplay,this.renderMute(),this.autoplay||this.stop()},VoicePlayerView.prototype.setAutoplay=function(state){this.autoplay=state,this.renderMute()},VoicePlayerView.prototype.hide=function(){this.stop()},VoicePlayerView}(Backbone.View);exports.default=VoicePlayerView,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3))},244:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__(2);module.exports=(Handlebars.default||Handlebars).template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="volume">\n  <a class="media-icon control-volume fa theme-highlight-bg-color"></a>\n</div>\n<div class="media-control">\n  <audio class="mejs-bt" width="100%" height="20" preload="auto"></audio>\n</div>\n'},useData:!0})},245:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_,$){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _dispatcher=__webpack_require__(4),_dispatcher2=_interopRequireDefault(_dispatcher),_mediaelementplayer=__webpack_require__(50),_mediaelementplayer2=_interopRequireDefault(_mediaelementplayer),_video=__webpack_require__(246),_video2=_interopRequireDefault(_video),_player=__webpack_require__(23),_player2=_interopRequireDefault(_player),VideoPlayerView=function(_Backbone$View){function VideoPlayerView(){return _classCallCheck(this,VideoPlayerView),_possibleConstructorReturn(this,_Backbone$View.apply(this,arguments))}return _inherits(VideoPlayerView,_Backbone$View),VideoPlayerView.prototype.className=function(){return"player-video"},VideoPlayerView.prototype.initialize=function(options){this.container=options.container,this.autoplay=options.autoplay||!1,this.initialized=!1,this.queue=null},VideoPlayerView.prototype.render=function(){return this.listenTo(_dispatcher2.default.Events,"player:video:play",this.play),this.listenTo(_dispatcher2.default.Events,"player:video:stop player:media:stop",this.stop),this.listenTo(_dispatcher2.default.Events,"player:video:hide player:media:hide",this.hide),this.listenTo(_dispatcher2.default.Events,"player:reset",this.reset),this.listenTo(_dispatcher2.default.Events,"player:media:autoplay",this.setAutoplay),this},VideoPlayerView.prototype.renderMediaElement=function(){var _this2=this;if(null==this.mediaElement){this.$el.html((0,_video2.default)()).appendTo(this.container),this.$video=this.$("video"),this.$media=this.$("div.media-control");var options=_.extend(_mediaelementplayer.OPTIONS,{type:"video/mp4",features:["playpause","progress","current","volume"],videoWidth:"100%",videoHeight:"100%",hideVideoControlsOnLoad:!0,success:function(mediaElement){_this2.initialized=!0,mediaElement.addEventListener("timeupdate",_this2.timeupdate.bind(_this2)),mediaElement.addEventListener("ended",_this2.ended.bind(_this2)),mediaElement.addEventListener("pause",_this2.paused.bind(_this2)),mediaElement.addEventListener("contextmenu",function(e){e.preventDefault(),e.stopPropagation()}),_this2.queue&&(_this2.play(_this2.queue),_this2.queue=null)},error:function(){}});this.mediaElement=new _mediaelementplayer2.default(this.$video[0],options),$(this.mediaElement.container).on("controlsshown",this.controlsshown).on("controlshidden",this.controlshidden)}},VideoPlayerView.prototype.reset=function(){this.hide()},VideoPlayerView.prototype.play=function(options){this.renderMediaElement(),this.model=options.model,this.initialized?null!=this.mediaElement&&(this.playing=!1,this.mediaElement.setSrc(this.model.getVideoURL()),this.mediaElement.load(),this.show(),this.autoplay&&this.mediaElement.play()):(this.model=null,this.queue=options)},VideoPlayerView.prototype.stop=function(){null!=this.mediaElement&&this.mediaElement.pause()},VideoPlayerView.prototype.timeupdate=function(){null!=this.model&&(!this.playing&&this.mediaElement.media.duration&&(this.model.trigger("player:voice:playing",{current:this.mediaElement.media.currentTime,duration:this.mediaElement.media.duration}),this.playing=!0),this.model.trigger("player:video:progress",{current:this.mediaElement.media.currentTime,duration:this.mediaElement.media.duration}))},VideoPlayerView.prototype.ended=function(){null!=this.model&&(this.playing=!1,this.model.trigger("player:video:ended"))},VideoPlayerView.prototype.paused=function(){null!=this.model&&(this.playing=!1,this.model.trigger("player:video:paused"))},VideoPlayerView.prototype.setAutoplay=function(state){this.autoplay=state},VideoPlayerView.prototype.hide=function(){this.visible&&(this.stop(),_player2.default.project.get("disable_player_animation")?this.$el.css({opacity:0,top:"100%"}):this.$el.velocity("stop").velocity({opacity:0},{complete:function(){return $(this).css({top:"100%"})}}),this.visible=!1)},VideoPlayerView.prototype.show=function(){if(!this.visible){if(_player2.default.project.get("disable_player_animation"))this.$el.css({top:0,opacity:1});else{var duration=1===_player2.default.playlog.questions().size()?0:$.Velocity.defaults.duration;this.$el.velocity("stop").css({top:0}).velocity({opacity:1},{duration:duration})}this.visible=!0}},VideoPlayerView.prototype.controlsshown=function(){_dispatcher2.default.Events.trigger("player:video:controls",!0)},VideoPlayerView.prototype.controlshidden=function(){_dispatcher2.default.Events.trigger("player:video:controls",!1)},VideoPlayerView}(Backbone.View);exports.default=VideoPlayerView,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3),__webpack_require__(1))},246:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__(2);module.exports=(Handlebars.default||Handlebars).template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="media-control">\n  <video preload="auto" class="mejs-bt" width="100%" height="100%" style="width: 100%; height: 100%;" playsinline></video>\n</div>\n'},useData:!0})},247:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__(2);module.exports=(Handlebars.default||Handlebars).template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div class="player-logo" aria-live="off">\n  <a class="im" target="_blank" tabindex="-1" title="Go to BranchTrack homepage"></a>\n  <span>created in <a target="_blank" tabindex="-1">BranchTrack</a></span>\n</div>\n<div class="player-backgrounds"></div>\n<div class="player-characters"></div>\n<ul class="player-timeline"></ul>\n<div class="player-edges"></div>\n<div class="player-feedbacks"></div>\n<div class="player-scale-pixel"></div>\n'},useData:!0})},248:function(module,exports,__webpack_require__){"use strict";(function(Backbone,$,_){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _dispatcher=__webpack_require__(4),_dispatcher2=_interopRequireDefault(_dispatcher),_format_cumulative_score=__webpack_require__(42),_format_cumulative_score2=_interopRequireDefault(_format_cumulative_score),_font_auto_size=__webpack_require__(109),_font_auto_size2=_interopRequireDefault(_font_auto_size),_multiple_chart_view=__webpack_require__(157),_multiple_chart_view2=_interopRequireDefault(_multiple_chart_view),_player=__webpack_require__(23),_player2=_interopRequireDefault(_player),_multiple_details=__webpack_require__(249),_multiple_details2=_interopRequireDefault(_multiple_details),MultipleDetailsView=function(_Backbone$View){function MultipleDetailsView(){return _classCallCheck(this,MultipleDetailsView),_possibleConstructorReturn(this,_Backbone$View.apply(this,arguments))}return _inherits(MultipleDetailsView,_Backbone$View),MultipleDetailsView.prototype.className=function(){return"player-multiple-details"},MultipleDetailsView.prototype.events=function(){return{"click .js-close":"hide","mouseenter .score-label":"onLabelEnter","mouseleave .score-label":"onLabelLeave"}},MultipleDetailsView.prototype.initialize=function(options){this.container=options.container},MultipleDetailsView.prototype.templateAttribute=function(){return{translations:this.getTranslations(),scores:this.getScores(),node:{feedback:this.node.getFeedback()}}},MultipleDetailsView.prototype.render=function(){return this.$el.appendTo(this.container),this.chartView=new _multiple_chart_view2.default({className:"bigger",dimensions:300}),this.listenTo(this.chartView,"series:enter",this.onSeriesEnter),this.listenTo(this.chartView,"series:leave",this.onSeriesLeave),this.listenTo(_dispatcher2.default.Events,"player:reset player:reverse",this.reset),this},MultipleDetailsView.prototype.update=function(){this.node=_player2.default.playlog.lastNode(),this.$el.html((0,_multiple_details2.default)(this.templateAttribute())),this.updateMultiscoreChart(),this.$feedback=this.$(".js-feedback"),this.setFontSize()},MultipleDetailsView.prototype.show=function(){if(!this.visible){this.visible=!0,this.$el.css({display:"block",visibility:"hidden"}),this.update();var options={visibility:"visible"};_player2.default.project.get("disable_player_animation")&&(options.duration=0),this.$el.velocity("fadeIn",options),_dispatcher2.default.Events.trigger("player:details:shown",!0)}},MultipleDetailsView.prototype.hide=function(){if(this.visible){this.visible=!1;var options={display:"none"};_player2.default.project.get("disable_player_animation")&&(options.duration=0),this.$el.velocity("fadeOut",options),_dispatcher2.default.Events.trigger("player:details:shown",!1)}},MultipleDetailsView.prototype.reset=function(){this.hide()},MultipleDetailsView.prototype.onLabelEnter=function(event){var $target=$(event.target);this.chartView.trigger("series:enter",$target.data("uid"))},MultipleDetailsView.prototype.onLabelLeave=function(){this.chartView.trigger("series:leave")},MultipleDetailsView.prototype.getTranslations=function(){return this.translations||(this.translations=_player2.default.project.translations())},MultipleDetailsView.prototype.setFontSize=function(){var fontSize=48,width=this.$feedback.width();fontSize=(0,_font_auto_size2.default)(this.node.getFeedback(),{minSize:14,maxSize:50,size:fontSize,width:width,height:150,css:{font:this.$feedback.css("font"),lineHeight:"normal"}}),this.$feedback.css({fontSize:fontSize})},MultipleDetailsView.prototype.getScores=function(){var result=[],node=_player2.default.playlog.lastTimelineNode(),uid=void 0;return _player2.default.project.scores.each(function(score){uid=score.get("uid"),result.push(_.extend(score.toJSON(),{value:node.totalScoreFor(uid)||0,score:(0,_format_cumulative_score2.default)(node.scoreFor(uid)),total_score:(node.totalScoreFor(uid)||0).toString()}))}),result},MultipleDetailsView.prototype.updateMultiscoreChart=function(){this.chartView.render({el:this.$(".scores-chart").get(0),data:this.getScores()})},MultipleDetailsView.prototype.onSeriesEnter=function(uid){this.$el.find(".score-label[data-uid="+uid+"]").addClass("active")},MultipleDetailsView.prototype.onSeriesLeave=function(){this.$el.find(".score-label").removeClass("active")},MultipleDetailsView}(Backbone.View);exports.default=MultipleDetailsView,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(1),__webpack_require__(3))},249:function(module,exports,__webpack_require__){var Handlebars=__webpack_require__(2);module.exports=(Handlebars.default||Handlebars).template({1:function(container,depth0,helpers,partials,data){var helper,alias1=null!=depth0?depth0:container.nullContext||{},alias2=helpers.helperMissing,alias4=container.escapeExpression;return'      <span class="score-label" style="background-color:'+alias4((helper=null!=(helper=helpers.color||(null!=depth0?depth0.color:depth0))?helper:alias2,"function"==typeof helper?helper.call(alias1,{name:"color",hash:{},data:data}):helper))+'" data-uid="'+alias4((helper=null!=(helper=helpers.uid||(null!=depth0?depth0.uid:depth0))?helper:alias2,"function"==typeof helper?helper.call(alias1,{name:"uid",hash:{},data:data}):helper))+'">'+alias4((helper=null!=(helper=helpers.name||(null!=depth0?depth0.name:depth0))?helper:alias2,"function"==typeof helper?helper.call(alias1,{name:"name",hash:{},data:data}):helper))+" <strong>"+alias4((helper=null!=(helper=helpers.total_score||(null!=depth0?depth0.total_score:depth0))?helper:alias2,"function"==typeof helper?helper.call(alias1,{name:"total_score",hash:{},data:data}):helper))+"</strong></span>\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1,alias1=container.lambda,alias2=container.escapeExpression;return'<a class="close js-close no-color"><span class="fa fa-times fa-2x"></span></a>\n<h4>'+alias2(alias1(null!=(stack1=null!=depth0?depth0.translations:depth0)?stack1.total_score_details:stack1,depth0))+'</h4>\n<section class="scores-chart"></section>\n<section class="text">\n  <div class="scores-legend">\n'+(null!=(stack1=helpers.each.call(null!=depth0?depth0:container.nullContext||{},null!=depth0?depth0.scores:depth0,{name:"each",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'  </div>\n  <div class="feedback js-feedback">'+alias2(alias1(null!=(stack1=null!=depth0?depth0.node:depth0)?stack1.feedback:stack1,depth0))+"</div>\n</section>\n\n"},useData:!0})},29:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(original){var text=original;if(_loader.Context.interpolation){var matches=text.match(INTERPOLATION_REGEX);if(matches){var niddle=void 0,replacement=void 0;matches.forEach(function(match){niddle=match.replace(/^%(.*)%$/,"$1"),(replacement=_loader.Context.interpolation[niddle]||_project.DEFAULTS.translations["interpolation_"+niddle])&&(text=text.replace(match,replacement))})}}return text};var _loader=__webpack_require__(6),_project=__webpack_require__(43),INTERPOLATION_REGEX=/%(\w+)%/g;module.exports=exports.default},3:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;(function(){function createReduce(dir){function iterator(obj,iteratee,memo,keys,index,length){for(;index>=0&&index<length;index+=dir){var currentKey=keys?keys[index]:index;memo=iteratee(memo,obj[currentKey],currentKey,obj)}return memo}return function(obj,iteratee,memo,context){iteratee=optimizeCb(iteratee,context,4);var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=dir>0?0:length-1;return arguments.length<3&&(memo=obj[keys?keys[index]:index],index+=dir),iterator(obj,iteratee,memo,keys,index,length)}}function createPredicateIndexFinder(dir){return function(array,predicate,context){predicate=cb(predicate,context);for(var length=getLength(array),index=dir>0?0:length-1;index>=0&&index<length;index+=dir)if(predicate(array[index],index,array))return index;return-1}}function createIndexFinder(dir,predicateFind,sortedIndex){return function(array,item,idx){var i=0,length=getLength(array);if("number"==typeof idx)dir>0?i=idx>=0?idx:Math.max(idx+length,i):length=idx>=0?Math.min(idx+1,length):idx+length+1;else if(sortedIndex&&idx&&length)return idx=sortedIndex(array,item),array[idx]===item?idx:-1;if(item!==item)return idx=predicateFind(slice.call(array,i,length),_.isNaN),idx>=0?idx+i:-1;for(idx=dir>0?i:length-1;idx>=0&&idx<length;idx+=dir)if(array[idx]===item)return idx;return-1}}function collectNonEnumProps(obj,keys){var nonEnumIdx=nonEnumerableProps.length,constructor=obj.constructor,proto=_.isFunction(constructor)&&constructor.prototype||ObjProto,prop="constructor";for(_.has(obj,prop)&&!_.contains(keys,prop)&&keys.push(prop);nonEnumIdx--;)(prop=nonEnumerableProps[nonEnumIdx])in obj&&obj[prop]!==proto[prop]&&!_.contains(keys,prop)&&keys.push(prop)}var root=this,previousUnderscore=root._,ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,nativeCreate=Object.create,Ctor=function(){},_=function(obj){return obj instanceof _?obj:this instanceof _?void(this._wrapped=obj):new _(obj)};void 0!==module&&module.exports&&(exports=module.exports=_),exports._=_,_.VERSION="1.8.3";var optimizeCb=function(func,context,argCount){if(void 0===context)return func;switch(null==argCount?3:argCount){case 1:return function(value){return func.call(context,value)};case 2:return function(value,other){return func.call(context,value,other)};case 3:return function(value,index,collection){return func.call(context,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(context,accumulator,value,index,collection)}}return function(){return func.apply(context,arguments)}},cb=function(value,context,argCount){return null==value?_.identity:_.isFunction(value)?optimizeCb(value,context,argCount):_.isObject(value)?_.matcher(value):_.property(value)};_.iteratee=function(value,context){return cb(value,context,1/0)};var createAssigner=function(keysFunc,undefinedOnly){return function(obj){var length=arguments.length;if(length<2||null==obj)return obj;for(var index=1;index<length;index++)for(var source=arguments[index],keys=keysFunc(source),l=keys.length,i=0;i<l;i++){var key=keys[i];undefinedOnly&&void 0!==obj[key]||(obj[key]=source[key])}return obj}},baseCreate=function(prototype){if(!_.isObject(prototype))return{};if(nativeCreate)return nativeCreate(prototype);Ctor.prototype=prototype;var result=new Ctor;return Ctor.prototype=null,result},property=function(key){return function(obj){return null==obj?void 0:obj[key]}},MAX_ARRAY_INDEX=Math.pow(2,53)-1,getLength=property("length"),isArrayLike=function(collection){var length=getLength(collection);return"number"==typeof length&&length>=0&&length<=MAX_ARRAY_INDEX};_.each=_.forEach=function(obj,iteratee,context){iteratee=optimizeCb(iteratee,context);var i,length;if(isArrayLike(obj))for(i=0,length=obj.length;i<length;i++)iteratee(obj[i],i,obj);else{var keys=_.keys(obj);for(i=0,length=keys.length;i<length;i++)iteratee(obj[keys[i]],keys[i],obj)}return obj},_.map=_.collect=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,results=Array(length),index=0;index<length;index++){var currentKey=keys?keys[index]:index;results[index]=iteratee(obj[currentKey],currentKey,obj)}return results},_.reduce=_.foldl=_.inject=createReduce(1),_.reduceRight=_.foldr=createReduce(-1),_.find=_.detect=function(obj,predicate,context){var key;if(void 0!==(key=isArrayLike(obj)?_.findIndex(obj,predicate,context):_.findKey(obj,predicate,context))&&-1!==key)return obj[key]},_.filter=_.select=function(obj,predicate,context){var results=[];return predicate=cb(predicate,context),_.each(obj,function(value,index,list){predicate(value,index,list)&&results.push(value)}),results},_.reject=function(obj,predicate,context){return _.filter(obj,_.negate(cb(predicate)),context)},_.every=_.all=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(!predicate(obj[currentKey],currentKey,obj))return!1}return!0},_.some=_.any=function(obj,predicate,context){predicate=cb(predicate,context);for(var keys=!isArrayLike(obj)&&_.keys(obj),length=(keys||obj).length,index=0;index<length;index++){var currentKey=keys?keys[index]:index;if(predicate(obj[currentKey],currentKey,obj))return!0}return!1},_.contains=_.includes=_.include=function(obj,item,fromIndex,guard){return isArrayLike(obj)||(obj=_.values(obj)),("number"!=typeof fromIndex||guard)&&(fromIndex=0),_.indexOf(obj,item,fromIndex)>=0},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){var func=isFunc?method:value[method];return null==func?func:func.apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,_.property(key))},_.where=function(obj,attrs){return _.filter(obj,_.matcher(attrs))},_.findWhere=function(obj,attrs){return _.find(obj,_.matcher(attrs))},_.max=function(obj,iteratee,context){var value,computed,result=-1/0,lastComputed=-1/0;if(null==iteratee&&null!=obj){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++)(value=obj[i])>result&&(result=value)}else iteratee=cb(iteratee,context),_.each(obj,function(value,index,list){((computed=iteratee(value,index,list))>lastComputed||computed===-1/0&&result===-1/0)&&(result=value,lastComputed=computed)});return result},_.min=function(obj,iteratee,context){var value,computed,result=1/0,lastComputed=1/0;if(null==iteratee&&null!=obj){obj=isArrayLike(obj)?obj:_.values(obj);for(var i=0,length=obj.length;i<length;i++)(value=obj[i])<result&&(result=value)}else iteratee=cb(iteratee,context),_.each(obj,function(value,index,list){((computed=iteratee(value,index,list))<lastComputed||computed===1/0&&result===1/0)&&(result=value,lastComputed=computed)});return result},_.shuffle=function(obj){for(var rand,set=isArrayLike(obj)?obj:_.values(obj),length=set.length,shuffled=Array(length),index=0;index<length;index++)rand=_.random(0,index),rand!==index&&(shuffled[index]=shuffled[rand]),shuffled[rand]=set[index];return shuffled},_.sample=function(obj,n,guard){return null==n||guard?(isArrayLike(obj)||(obj=_.values(obj)),obj[_.random(obj.length-1)]):_.shuffle(obj).slice(0,Math.max(0,n))},_.sortBy=function(obj,iteratee,context){return iteratee=cb(iteratee,context),_.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iteratee(value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(a<b||void 0===b)return-1}return left.index-right.index}),"value")};var group=function(behavior){return function(obj,iteratee,context){var result={};return iteratee=cb(iteratee,context),_.each(obj,function(value,index){var key=iteratee(value,index,obj);behavior(result,value,key)}),result}};_.groupBy=group(function(result,value,key){_.has(result,key)?result[key].push(value):result[key]=[value]}),_.indexBy=group(function(result,value,key){result[key]=value}),_.countBy=group(function(result,value,key){_.has(result,key)?result[key]++:result[key]=1}),_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):isArrayLike(obj)?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:isArrayLike(obj)?obj.length:_.keys(obj).length},_.partition=function(obj,predicate,context){predicate=cb(predicate,context);var pass=[],fail=[];return _.each(obj,function(value,key,obj){(predicate(value,key,obj)?pass:fail).push(value)}),[pass,fail]},_.first=_.head=_.take=function(array,n,guard){if(null!=array)return null==n||guard?array[0]:_.initial(array,array.length-n)},_.initial=function(array,n,guard){return slice.call(array,0,Math.max(0,array.length-(null==n||guard?1:n)))},_.last=function(array,n,guard){if(null!=array)return null==n||guard?array[array.length-1]:_.rest(array,Math.max(0,array.length-n))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,strict,startIndex){for(var output=[],idx=0,i=startIndex||0,length=getLength(input);i<length;i++){var value=input[i];if(isArrayLike(value)&&(_.isArray(value)||_.isArguments(value))){shallow||(value=flatten(value,shallow,strict));var j=0,len=value.length;for(output.length+=len;j<len;)output[idx++]=value[j++]}else strict||(output[idx++]=value)}return output};_.flatten=function(array,shallow){return flatten(array,shallow,!1)},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.uniq=_.unique=function(array,isSorted,iteratee,context){_.isBoolean(isSorted)||(context=iteratee,iteratee=isSorted,isSorted=!1),null!=iteratee&&(iteratee=cb(iteratee,context));for(var result=[],seen=[],i=0,length=getLength(array);i<length;i++){var value=array[i],computed=iteratee?iteratee(value,i,array):value;isSorted?(i&&seen===computed||result.push(value),seen=computed):iteratee?_.contains(seen,computed)||(seen.push(computed),result.push(value)):_.contains(result,value)||result.push(value)}return result},_.union=function(){return _.uniq(flatten(arguments,!0,!0))},_.intersection=function(array){for(var result=[],argsLength=arguments.length,i=0,length=getLength(array);i<length;i++){var item=array[i];if(!_.contains(result,item)){for(var j=1;j<argsLength&&_.contains(arguments[j],item);j++);j===argsLength&&result.push(item)}}return result},_.difference=function(array){var rest=flatten(arguments,!0,!0,1);return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(array){for(var length=array&&_.max(array,getLength).length||0,result=Array(length),index=0;index<length;index++)result[index]=_.pluck(array,index);return result},_.object=function(list,values){for(var result={},i=0,length=getLength(list);i<length;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.findIndex=createPredicateIndexFinder(1),_.findLastIndex=createPredicateIndexFinder(-1),_.sortedIndex=function(array,obj,iteratee,context){iteratee=cb(iteratee,context,1);for(var value=iteratee(obj),low=0,high=getLength(array);low<high;){var mid=Math.floor((low+high)/2);iteratee(array[mid])<value?low=mid+1:high=mid}return low},_.indexOf=createIndexFinder(1,_.findIndex,_.sortedIndex),_.lastIndexOf=createIndexFinder(-1,_.findLastIndex),_.range=function(start,stop,step){null==stop&&(stop=start||0,start=0),step=step||1;for(var length=Math.max(Math.ceil((stop-start)/step),0),range=Array(length),idx=0;idx<length;idx++,start+=step)range[idx]=start;return range};var executeBound=function(sourceFunc,boundFunc,context,callingContext,args){if(!(callingContext instanceof boundFunc))return sourceFunc.apply(context,args);var self=baseCreate(sourceFunc.prototype),result=sourceFunc.apply(self,args);return _.isObject(result)?result:self};_.bind=function(func,context){if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError("Bind must be called on a function");var args=slice.call(arguments,2),bound=function(){return executeBound(func,bound,context,this,args.concat(slice.call(arguments)))};return bound},_.partial=function(func){var boundArgs=slice.call(arguments,1),bound=function(){for(var position=0,length=boundArgs.length,args=Array(length),i=0;i<length;i++)args[i]=boundArgs[i]===_?arguments[position++]:boundArgs[i];for(;position<arguments.length;)args.push(arguments[position++]);return executeBound(func,bound,this,this,args)};return bound},_.bindAll=function(obj){var i,key,length=arguments.length;if(length<=1)throw new Error("bindAll must be passed function names");for(i=1;i<length;i++)key=arguments[i],obj[key]=_.bind(obj[key],obj);return obj},_.memoize=function(func,hasher){var memoize=function(key){var cache=memoize.cache,address=""+(hasher?hasher.apply(this,arguments):key);return _.has(cache,address)||(cache[address]=func.apply(this,arguments)),cache[address]};return memoize.cache={},memoize},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=_.partial(_.delay,_,1),_.throttle=function(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=!1===options.leading?0:_.now(),timeout=null,result=func.apply(context,args),timeout||(context=args=null)};return function(){var now=_.now();previous||!1!==options.leading||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,remaining<=0||remaining>wait?(timeout&&(clearTimeout(timeout),timeout=null),previous=now,result=func.apply(context,args),timeout||(context=args=null)):timeout||!1===options.trailing||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result,later=function(){var last=_.now()-timestamp;last<wait&&last>=0?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args),timeout||(context=args=null)))};return function(){context=this,args=arguments,timestamp=_.now();var callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args),context=args=null),result}},_.wrap=function(func,wrapper){return _.partial(wrapper,func)},_.negate=function(predicate){return function(){return!predicate.apply(this,arguments)}},_.compose=function(){var args=arguments,start=args.length-1;return function(){for(var i=start,result=args[start].apply(this,arguments);i--;)result=args[i].call(this,result);return result}},_.after=function(times,func){return function(){if(--times<1)return func.apply(this,arguments)}},_.before=function(times,func){var memo;return function(){return--times>0&&(memo=func.apply(this,arguments)),times<=1&&(func=null),memo}},_.once=_.partial(_.before,2);var hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)_.has(obj,key)&&keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.allKeys=function(obj){if(!_.isObject(obj))return[];var keys=[];for(var key in obj)keys.push(key);return hasEnumBug&&collectNonEnumProps(obj,keys),keys},_.values=function(obj){for(var keys=_.keys(obj),length=keys.length,values=Array(length),i=0;i<length;i++)values[i]=obj[keys[i]];return values},_.mapObject=function(obj,iteratee,context){iteratee=cb(iteratee,context);for(var currentKey,keys=_.keys(obj),length=keys.length,results={},index=0;index<length;index++)currentKey=keys[index],results[currentKey]=iteratee(obj[currentKey],currentKey,obj);return results},_.pairs=function(obj){for(var keys=_.keys(obj),length=keys.length,pairs=Array(length),i=0;i<length;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs},_.invert=function(obj){for(var result={},keys=_.keys(obj),i=0,length=keys.length;i<length;i++)result[obj[keys[i]]]=keys[i];return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=createAssigner(_.allKeys),_.extendOwn=_.assign=createAssigner(_.keys),_.findKey=function(obj,predicate,context){predicate=cb(predicate,context);for(var key,keys=_.keys(obj),i=0,length=keys.length;i<length;i++)if(key=keys[i],predicate(obj[key],key,obj))return key},_.pick=function(object,oiteratee,context){var iteratee,keys,result={},obj=object;if(null==obj)return result;_.isFunction(oiteratee)?(keys=_.allKeys(obj),iteratee=optimizeCb(oiteratee,context)):(keys=flatten(arguments,!1,!1,1),iteratee=function(value,key,obj){return key in obj},obj=Object(obj));for(var i=0,length=keys.length;i<length;i++){var key=keys[i],value=obj[key];iteratee(value,key,obj)&&(result[key]=value)}return result},_.omit=function(obj,iteratee,context){if(_.isFunction(iteratee))iteratee=_.negate(iteratee);else{var keys=_.map(flatten(arguments,!1,!1,1),String);iteratee=function(value,key){return!_.contains(keys,key)}}return _.pick(obj,iteratee,context)},_.defaults=createAssigner(_.allKeys,!0),_.create=function(prototype,props){var result=baseCreate(prototype);return props&&_.extendOwn(result,props),result},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj},_.isMatch=function(object,attrs){var keys=_.keys(attrs),length=keys.length;if(null==object)return!length;for(var obj=Object(object),i=0;i<length;i++){var key=keys[i];if(attrs[key]!==obj[key]||!(key in obj))return!1}return!0};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!==toString.call(b))return!1;switch(className){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!=+a?+b!=+b:0==+a?1/+a==1/b:+a==+b;case"[object Date]":case"[object Boolean]":return+a==+b}var areArrays="[object Array]"===className;if(!areArrays){if("object"!=typeof a||"object"!=typeof b)return!1;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&"constructor"in a&&"constructor"in b)return!1}aStack=aStack||[],bStack=bStack||[];for(var length=aStack.length;length--;)if(aStack[length]===a)return bStack[length]===b;if(aStack.push(a),bStack.push(b),areArrays){if((length=a.length)!==b.length)return!1;for(;length--;)if(!eq(a[length],b[length],aStack,bStack))return!1}else{var key,keys=_.keys(a);if(length=keys.length,_.keys(b).length!==length)return!1;for(;length--;)if(key=keys[length],!_.has(b,key)||!eq(a[key],b[key],aStack,bStack))return!1}return aStack.pop(),bStack.pop(),!0};_.isEqual=function(a,b){return eq(a,b)},_.isEmpty=function(obj){return null==obj||(isArrayLike(obj)&&(_.isArray(obj)||_.isString(obj)||_.isArguments(obj))?0===obj.length:0===_.keys(obj).length)},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"===toString.call(obj)},_.isObject=function(obj){var type=typeof obj;return"function"===type||"object"===type&&!!obj},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(name){_["is"+name]=function(obj){return toString.call(obj)==="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return _.has(obj,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(obj){return"function"==typeof obj||!1}),_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!==+obj},_.isBoolean=function(obj){return!0===obj||!1===obj||"[object Boolean]"===toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return null!=obj&&hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.constant=function(value){return function(){return value}},_.noop=function(){},_.property=property,_.propertyOf=function(obj){return null==obj?function(){}:function(key){return obj[key]}},_.matcher=_.matches=function(attrs){return attrs=_.extendOwn({},attrs),function(obj){return _.isMatch(obj,attrs)}},_.times=function(n,iteratee,context){var accum=Array(Math.max(0,n));iteratee=optimizeCb(iteratee,context,1);for(var i=0;i<n;i++)accum[i]=iteratee(i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))},_.now=Date.now||function(){return(new Date).getTime()};var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},unescapeMap=_.invert(escapeMap),createEscaper=function(map){var escaper=function(match){return map[match]},source="(?:"+_.keys(map).join("|")+")",testRegexp=RegExp(source),replaceRegexp=RegExp(source,"g");return function(string){return string=null==string?"":""+string,testRegexp.test(string)?string.replace(replaceRegexp,escaper):string}};_.escape=createEscaper(escapeMap),_.unescape=createEscaper(unescapeMap),_.result=function(object,property,fallback){var value=null==object?void 0:object[property];return void 0===value&&(value=fallback),_.isFunction(value)?value.call(object):value};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escaper=/\\|'|\r|\n|\u2028|\u2029/g,escapeChar=function(match){return"\\"+escapes[match]};_.template=function(text,settings,oldSettings){!settings&&oldSettings&&(settings=oldSettings),settings=_.defaults({},settings,_.templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+='";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,escapeChar),index=offset+match.length,escape?source+="'+\n((__t=("+escape+"))==null?'':_.escape(__t))+\n'":interpolate?source+="'+\n((__t=("+interpolate+"))==null?'':__t)+\n'":evaluate&&(source+="';\n"+evaluate+"\n__p+='"),match}),source+="';\n",settings.variable||(source="with(obj||{}){\n"+source+"}\n"),source="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+source+"return __p;\n";try{var render=new Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\n"+source+"}",template},_.chain=function(obj){var instance=_(obj);return instance._chain=!0,instance};var result=function(instance,obj){return instance._chain?_(obj).chain():obj};_.mixin=function(obj){_.each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result(this,func.apply(_,args))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!==name&&"splice"!==name||0!==obj.length||delete obj[0],result(this,obj)}}),_.each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result(this,method.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}).call(this)},31:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;exports.SENSITIVE_ATTRIBUTES=["index","deleted","content","from_node_index","to_node_index","position","voice_id"],exports.FREETEXT_DEFAULT_CONTENT="Submit and continue",exports.FREETEXT_CONTENT_LIMIT=500,exports.CHARACTER_MARGIN=20,exports.TIMELINE_MARGIN=50,exports.COLOR_BLUE="#008aff",exports.COLOR_GREEN="#8dc63f",exports.DEFAULTS={index:0,position:1,content:"",deleted:!1}},32:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _constants=__webpack_require__(90),_constants2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_constants);exports.default=_constants2.default,module.exports=exports.default},35:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(input){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _autolinker2.default.link(input,{truncate:options.truncate||{length:40,location:"smart"},replaceFn:function(match){var tag=match.buildTag(),keys=Object.keys(options),i=void 0,name=void 0;for(i=0;i<keys.length;i++)switch(name=keys[i]){case"class":tag.addClass(options[name]);break;case"truncate":break;default:tag.setAttr(name,options[name])}return tag}})};var _autolinker=__webpack_require__(86),_autolinker2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_autolinker);module.exports=exports.default},38:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HandlebarsEnvironment(helpers,partials,decorators){this.helpers=helpers||{},this.partials=partials||{},this.decorators=decorators||{},_helpers.registerDefaultHelpers(this),_decorators.registerDefaultDecorators(this)}exports.__esModule=!0,exports.HandlebarsEnvironment=HandlebarsEnvironment;var _utils=__webpack_require__(9),_exception=__webpack_require__(17),_exception2=_interopRequireDefault(_exception),_helpers=__webpack_require__(60),_decorators=__webpack_require__(68),_logger=__webpack_require__(70),_logger2=_interopRequireDefault(_logger);exports.VERSION="4.0.11";exports.COMPILER_REVISION=7;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};exports.REVISION_CHANGES=REVISION_CHANGES;HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:_logger2.default,log:_logger2.default.log,registerHelper:function(name,fn){if("[object Object]"===_utils.toString.call(name)){if(fn)throw new _exception2.default("Arg not supported with multiple helpers");_utils.extend(this.helpers,name)}else this.helpers[name]=fn},unregisterHelper:function(name){delete this.helpers[name]},registerPartial:function(name,partial){if("[object Object]"===_utils.toString.call(name))_utils.extend(this.partials,name);else{if(void 0===partial)throw new _exception2.default('Attempting to register a partial called "'+name+'" as undefined');this.partials[name]=partial}},unregisterPartial:function(name){delete this.partials[name]},registerDecorator:function(name,fn){if("[object Object]"===_utils.toString.call(name)){if(fn)throw new _exception2.default("Arg not supported with multiple decorators");_utils.extend(this.decorators,name)}else this.decorators[name]=fn},unregisterDecorator:function(name){delete this.decorators[name]}};var log=_logger2.default.log;exports.log=log,exports.createFrame=_utils.createFrame,exports.logger=_logger2.default},39:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;exports.DEFAULTS={url:""},exports.BLANK_DATA="data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjM2LjEwMAAAAAAAAAAAAAAA/+PgwAAAAAAAAAAAAEluZm8AAAAPAAAABAAACpsAiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJsbGxsbGxsbGxsbGxsbGxsbGxsbGxsbGxsdjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2Nj/////////////////////////////////AAAAAExhdmYAAAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAqbBxKpmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/+OAxAAAAANIAAAAAExBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV/+OCxAAAAANIAAAAAExBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk5LjVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/jgsQAAAADSAAAAABMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy45OS41VVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVX/44LEAAAAA0gAAAAATEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVTEFNRTMuOTkuNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",exports.ACCEPT_CONTENT_TYPE_REGEX=/(\.|\/)(mp3)$/i},4:function(module,exports,__webpack_require__){"use strict";(function(_,Backbone){exports.__esModule=!0,exports.default={Events:_.extend({},Backbone.Events),Messages:_.extend({},Backbone.Events),postMessage:function(type){var data=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.Messages.trigger(type,{details:data});var message={provider:"branchtrack",type:"branchtrack:"+type,details:data};window!==window.parent?window.parent.postMessage(JSON.stringify(message),"*"):window.postMessage(JSON.stringify(message),"*")}},module.exports=exports.default}).call(exports,__webpack_require__(3),__webpack_require__(0))},42:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(value){var int=parseInt(value,10);return isNaN(int)?null:(int>=0?"+":"-")+Math.abs(int)},module.exports=exports.default},424:function(module,exports){!function(global){"use strict";global.console||(global.console={});for(var prop,method,con=global.console,dummy=function(){},properties=["memory"],methods="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");prop=properties.pop();)con[prop]||(con[prop]={});for(;method=methods.pop();)con[method]||(con[method]=dummy)}("undefined"==typeof window?this:window)},43:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;exports.SENSITIVE_ATTRIBUTES=["title","initial_node_index","background_id","character_id","theme_id","multiple_scoring","disable_emotion_meter","disable_copyright_logo","disable_player_animation","disable_choice_numbers","randomize_choices_order","disable_timeline_choice","timeline_score_preview","disable_replay_button","disable_progress_bar","workspace_top","workspace_left","live","private","translations"],exports.PLAYER_V2_SKIP_TRANSLATIONS=["score_top","score_bottom","show_details","total_score_details","timeline_cumulative_score","timeline_total_score"],exports.DEFAULTS={title:"",center_left:0,center_top:0,workspace_width:0,workspace_height:0,workspace_top:0,workspace_left:0,initial_node_index:null,zoom:{index:0,value:1},next_node_index:1,next_edge_index:1,character_id:null,background_id:null,multiple_scoring:!1,disable_emotion_meter:!1,disable_copyright_logo:!1,disable_player_animation:!1,disable_choice_numbers:!1,randomize_choices_order:!1,disable_timeline_choice:!1,disable_replay_button:!1,disable_progress_bar:!1,live:!0,translations:{happy:"Happy",normal:"Normal",puzzled:"Puzzled",unhappy:"Unhappy",angry:"Angry",continue:"continue",score_top:"Points scored",score_bottom:"",show_details:"Show details",total_score_details:"Total score breakdown",interpolation_name:"Player",timeline_cumulative_score:"Score changed:",timeline_total_score:"Total score:",current_score:"Your current score",pts:"PTS",init_voice_content:"This simulation contains voiceover audio. Please choose how do you want to proceed\u2026",init_voice_yes:"Proceed with audio",init_voice_no:"Mute voiceover",load_more:"Load more...",menu_leave_simulation:"Leave simulation",menu_edit_simulation:"Edit simulation",menu_turn_on_voiceover:"Turn on voiceover",menu_turn_off_voiceover:"Turn off voiceover",menu_turn_on_animation:"Enable animations",menu_turn_off_animation:"Disable animations",finish_replay_link:"Replay",finish_edit_link:"Edit this simulation",finish_projects_link:"Back to simulations",finish_classroom_link:"Back to class"}}},45:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;exports.FACE_DEFAULT_HEIGHT=100,exports.PORTRAIT_MARGIN=20,exports.FACE_MARGIN=20,exports.LG_HEIGHT_RATIO=.66,exports.MD_HEIGHT=400,exports.MD_FACE_RATIO=1.5,exports.DEFAULTS={emotional:!1,emotions:{normal:{player_url:"",small_url:""}},private:!1,behavior:"selected"}},46:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;exports.DEFAULTS={url:"",duration:0},exports.BLANK_DATA="data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAB+1tZGF0AAACcgYF//9u3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0yIGRlYmxvY2s9MTotMTotMSBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9NCBwc3k9MSBwc3lfcmQ9MS4wMDowLjE1IG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMSB0aHJlYWRzPTQgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0wIHdlaWdodHA9MSBrZXlpbnQ9MjUga2V5aW50X21pbj0yIHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9MjAgcmM9YWJyIG1idHJlZT0xIGJpdHJhdGU9MTY3IHJhdGV0b2w9MS4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCBpcF9yYXRpbz0xLjQwIGFxPTE6MS4wMACAAAACcWWIhA/b+nge7+1TlHAxP+9zI5WzEJMc0Cw3IIFydvtCByQE+nb1yHswAKhJQzZqPHXTCgCF+7KtIAQ9x+oc8xykTi7pjHNvdYENAtT1P6/M1mSp85zVyKroRiMiEb38GuX52UcrUWCsIRpBLqRwvXgnW9Nu00pfQjTDoh3jKzEXldgRr2Kg7ZRMFQNUsXGVXpEvCSSVTaZQYIp4KYRtsbXvQa/StOXrj+ZglqZ/P26P2Np+yf9nRwvd3MCG//KEN0gkvXF+DhSrAcezU+NtxR2wYpt/jpWAVX/OpoYsCeVzO4GsIeYrJMCNwohmZMKk3LPomFckWGRcvbQ6u1YAp95PU39vDsAwJH7GdiXiUr+UyChpnbIbMeNuDUHeWFdL1uKMdY26QeT+Mm0MKuKEDmjGpSCNfOsLg4hI3UqL6qduLLWu8BV+VSE8pYutOf6AjDjx6FR7GhCPEYKSzcoFhxIStD3CEj5TItZAjKZJ7C1bvseJWm0JwXjF3NgZjtrHtuNKJjWL7f50pyHT6LoosMbUEJnV0o3ZCRrBWHF6O0ivnNvq64GWolMftO3tw+J6v6o5ksyAxgGRwz85dnEenn3WCyoPlE8G+QlMlrYKM5DrcbKuWd8DT90T7SvZ6LZVExvGdpWuh9o4CfuYm1LT8VznrWLx9LmW/5B40VkgtEalwEJ93UK77PSGJU4zUkN+Imf9weZK8GiFMyUD/fvizhVqCWm842oMsvdfjIwE7XAc/+DoTFkithlS1pt5q7czu3/3MuEXHbxBTqJ+z/qKuMknbCtoRxdeoSszWaj9ReUFV3Ez0+QJrQBxDF/wjQd6dWkBSEAG+lAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAA9BmjsQ7b/+jLE/rd7q+YABUILYCBAgRvogAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4BUILYCBAgRvogAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4BUILYCBAgRvogAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAUYbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAAAUsAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAjZ0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAAIYAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAKoAAACAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAACGAAAAAAABAAAAAAGubWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAA8AAAACABVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAABWW1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAARlzdGJsAAAAlXN0c2QAAAAAAAAAAQAAAIVhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAKoAgABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAL2F2Y0MBTUAM/+EAGGdNQAzbCxHk8BEAAAMAAQAAAwAeDxQq4AEABGjqzcgAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAUc3RzcwAAAAAAAAABAAAAAQAAABxzdHNjAAAAAAAAAAEAAAABAAAAAQAAAAEAAAAcc3RzegAAAAAAAAAAAAAAAgAABOsAAAATAAAAGHN0Y28AAAAAAAAAAgAAADAAAAXUAAACDHRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAABSwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAUsAAAAAAAEAAAAAAYRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAACsRAAAOQFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEvbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADzc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAACsRAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAu4AAABGKwWAgIACFQgGgICAAQIAAAAgc3R0cwAAAAAAAAACAAAAAwAABAAAAAABAAACQAAAAChzdHNjAAAAAAAAAAIAAAABAAAAAQAAAAEAAAACAAAAAwAAAAEAAAAkc3RzegAAAAAAAAAAAAAABAAAALkAAAC6AAAAugAAALoAAAAYc3RjbwAAAAAAAAACAAAFGwAABecAAABidWR0YQAAAFptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABtZGlyYXBwbAAAAAAAAAAAAAAAAC1pbHN0AAAAJal0b28AAAAdZGF0YQAAAAEAAAAATGF2ZjU2LjM2LjEwMA==",exports.ACCEPT_CONTENT_TYPE_REGEX=/(\.|\/)(mp4)$/i},50:function(module,exports,__webpack_require__){"use strict";(function($){exports.__esModule=!0,exports.OPTIONS=void 0,__webpack_require__(92);exports.OPTIONS={classPrefix:"mejs-",fakeNodeName:"div",type:"audio/mpeg",enablePluginDebug:!1,enableKeyboard:!1,startVolume:1,autoRewind:!1,renderers:["html5","native_hls","native_dash"]};window.MediaElementPlayer.prototype.showControls=function(doAnimation){var $controls=$(this.controls),$container=$(this.container);doAnimation=void 0===doAnimation||doAnimation,this.controlsAreVisible||(this.controlsAreVisible=!0,doAnimation?($controls.velocity("stop").velocity({bottom:0},{complete:function(){$container.trigger("controlsshown")}}),$container.find(".mejs-control").velocity("stop").velocity("fadeIn",{duration:200,visibility:"visible"})):($controls.css({bottom:0}),$container.find(".mejs-control").css({visibility:"visible",display:"block"}),this.controlsAreVisible=!0,$container.trigger("controlsshown")),this.setControlsSize())},window.MediaElementPlayer.prototype.hideControls=function(doAnimation){var $controls=$(this.controls),$container=$(this.container);doAnimation=void 0===doAnimation||doAnimation,!this.controlsAreVisible||this.options.alwaysShowControls||this.keyboardAction||(this.controlsAreVisible=!1,doAnimation?($controls.velocity("stop").velocity({bottom:-18},{complete:function(){$container.trigger("controlshidden")}}),$container.find(".mejs-control").velocity("stop").velocity("fadeOut",{duration:200,visibility:"hidden",display:"block"})):($controls.css({bottom:-18}),$container.find(".mejs-control").css({visibility:"hidden",display:"block"}),$container.trigger("controlshidden")))},exports.default=window.MediaElementPlayer}).call(exports,__webpack_require__(1))},59:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}function create(){var hb=new base.HandlebarsEnvironment;return Utils.extend(hb,base),hb.SafeString=_handlebarsSafeString2.default,hb.Exception=_handlebarsException2.default,hb.Utils=Utils,hb.escapeExpression=Utils.escapeExpression,hb.VM=runtime,hb.template=function(spec){return runtime.template(spec,hb)},hb}exports.__esModule=!0;var _handlebarsBase=__webpack_require__(38),base=_interopRequireWildcard(_handlebarsBase),_handlebarsSafeString=__webpack_require__(71),_handlebarsSafeString2=_interopRequireDefault(_handlebarsSafeString),_handlebarsException=__webpack_require__(17),_handlebarsException2=_interopRequireDefault(_handlebarsException),_handlebarsUtils=__webpack_require__(9),Utils=_interopRequireWildcard(_handlebarsUtils),_handlebarsRuntime=__webpack_require__(72),runtime=_interopRequireWildcard(_handlebarsRuntime),_handlebarsNoConflict=__webpack_require__(73),_handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict),inst=create();inst.create=create,_handlebarsNoConflict2.default(inst),inst.default=inst,exports.default=inst,module.exports=exports.default},60:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function registerDefaultHelpers(instance){_helpersBlockHelperMissing2.default(instance),_helpersEach2.default(instance),_helpersHelperMissing2.default(instance),_helpersIf2.default(instance),_helpersLog2.default(instance),_helpersLookup2.default(instance),_helpersWith2.default(instance)}exports.__esModule=!0,exports.registerDefaultHelpers=registerDefaultHelpers;var _helpersBlockHelperMissing=__webpack_require__(61),_helpersBlockHelperMissing2=_interopRequireDefault(_helpersBlockHelperMissing),_helpersEach=__webpack_require__(62),_helpersEach2=_interopRequireDefault(_helpersEach),_helpersHelperMissing=__webpack_require__(63),_helpersHelperMissing2=_interopRequireDefault(_helpersHelperMissing),_helpersIf=__webpack_require__(64),_helpersIf2=_interopRequireDefault(_helpersIf),_helpersLog=__webpack_require__(65),_helpersLog2=_interopRequireDefault(_helpersLog),_helpersLookup=__webpack_require__(66),_helpersLookup2=_interopRequireDefault(_helpersLookup),_helpersWith=__webpack_require__(67),_helpersWith2=_interopRequireDefault(_helpersWith)},61:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _utils=__webpack_require__(9);exports.default=function(instance){instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse,fn=options.fn;if(!0===context)return fn(this);if(!1===context||null==context)return inverse(this);if(_utils.isArray(context))return context.length>0?(options.ids&&(options.ids=[options.name]),instance.helpers.each(context,options)):inverse(this);if(options.data&&options.ids){var data=_utils.createFrame(options.data);data.contextPath=_utils.appendContextPath(options.data.contextPath,options.name),options={data:data}}return fn(context,options)})},module.exports=exports.default},62:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _utils=__webpack_require__(9),_exception=__webpack_require__(17),_exception2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_exception);exports.default=function(instance){instance.registerHelper("each",function(context,options){function execIteration(field,index,last){data&&(data.key=field,data.index=index,data.first=0===index,data.last=!!last,contextPath&&(data.contextPath=contextPath+field)),ret+=fn(context[field],{data:data,blockParams:_utils.blockParams([context[field],field],[contextPath+field,null])})}if(!options)throw new _exception2.default("Must pass iterator to #each");var fn=options.fn,inverse=options.inverse,i=0,ret="",data=void 0,contextPath=void 0;if(options.data&&options.ids&&(contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])+"."),_utils.isFunction(context)&&(context=context.call(this)),options.data&&(data=_utils.createFrame(options.data)),context&&"object"==typeof context)if(_utils.isArray(context))for(var j=context.length;i<j;i++)i in context&&execIteration(i,i,i===context.length-1);else{var priorKey=void 0;for(var key in context)context.hasOwnProperty(key)&&(void 0!==priorKey&&execIteration(priorKey,i-1),priorKey=key,i++);void 0!==priorKey&&execIteration(priorKey,i-1,!0)}return 0===i&&(ret=inverse(this)),ret})},module.exports=exports.default},63:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _exception=__webpack_require__(17),_exception2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_exception);exports.default=function(instance){instance.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new _exception2.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},module.exports=exports.default},64:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _utils=__webpack_require__(9);exports.default=function(instance){instance.registerHelper("if",function(conditional,options){return _utils.isFunction(conditional)&&(conditional=conditional.call(this)),!options.hash.includeZero&&!conditional||_utils.isEmpty(conditional)?options.inverse(this):options.fn(this)}),instance.registerHelper("unless",function(conditional,options){return instance.helpers.if.call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})})},module.exports=exports.default},65:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(instance){instance.registerHelper("log",function(){for(var args=[void 0],options=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)args.push(arguments[i]);var level=1;null!=options.hash.level?level=options.hash.level:options.data&&null!=options.data.level&&(level=options.data.level),args[0]=level,instance.log.apply(instance,args)})},module.exports=exports.default},66:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default=function(instance){instance.registerHelper("lookup",function(obj,field){return obj&&obj[field]})},module.exports=exports.default},67:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _utils=__webpack_require__(9);exports.default=function(instance){instance.registerHelper("with",function(context,options){_utils.isFunction(context)&&(context=context.call(this));var fn=options.fn;if(_utils.isEmpty(context))return options.inverse(this);var data=options.data;return options.data&&options.ids&&(data=_utils.createFrame(options.data),data.contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])),fn(context,{data:data,blockParams:_utils.blockParams([context],[data&&data.contextPath])})})},module.exports=exports.default},68:function(module,exports,__webpack_require__){"use strict";function registerDefaultDecorators(instance){_decoratorsInline2.default(instance)}exports.__esModule=!0,exports.registerDefaultDecorators=registerDefaultDecorators;var _decoratorsInline=__webpack_require__(69),_decoratorsInline2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_decoratorsInline)},682:function(module,exports,__webpack_require__){"use strict";(function($){__webpack_require__(424),__webpack_require__(159);var _general=__webpack_require__(160),_player_view=__webpack_require__(217),_player_view2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_player_view);(0,_general.isIE)()&&(0,_general.isIE)()<9?$(".js-player-ie8").show():(0,_general.iFrameShown)()?new _player_view2.default({project:window.btx.context.project,playlog:window.btx.context.playlog}).render():$(".js-player-reload").show()}).call(exports,__webpack_require__(1))},69:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _utils=__webpack_require__(9);exports.default=function(instance){instance.registerDecorator("inline",function(fn,props,container,options){var ret=fn;return props.partials||(props.partials={},ret=function(context,options){var original=container.partials;container.partials=_utils.extend({},original,props.partials);var ret=fn(context,options);return container.partials=original,ret}),props.partials[options.args[0]]=options.fn,ret})},module.exports=exports.default},70:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;var _utils=__webpack_require__(9),logger={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(level){if("string"==typeof level){var levelMap=_utils.indexOf(logger.methodMap,level.toLowerCase());level=levelMap>=0?levelMap:parseInt(level,10)}return level},log:function(level){if(level=logger.lookupLevel(level),"undefined"!=typeof console&&logger.lookupLevel(logger.level)<=level){var method=logger.methodMap[level];console[method]||(method="log");for(var _len=arguments.length,message=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)message[_key-1]=arguments[_key];console[method].apply(console,message)}}};exports.default=logger,module.exports=exports.default},71:function(module,exports,__webpack_require__){"use strict";function SafeString(string){this.string=string}exports.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},exports.default=SafeString,module.exports=exports.default},72:function(module,exports,__webpack_require__){"use strict";function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=_base.COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=_base.REVISION_CHANGES[currentRevision],compilerVersions=_base.REVISION_CHANGES[compilerRevision];throw new _exception2.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}throw new _exception2.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+compilerInfo[1]+").")}}function template(templateSpec,env){function invokePartialWrapper(partial,context,options){options.hash&&(context=Utils.extend({},context,options.hash),options.ids&&(options.ids[0]=!0)),partial=env.VM.resolvePartial.call(this,partial,context,options);var result=env.VM.invokePartial.call(this,partial,context,options);if(null==result&&env.compile&&(options.partials[options.name]=env.compile(partial,templateSpec.compilerOptions,env),result=options.partials[options.name](context,options)),null!=result){if(options.indent){for(var lines=result.split("\n"),i=0,l=lines.length;i<l&&(lines[i]||i+1!==l);i++)lines[i]=options.indent+lines[i];result=lines.join("\n")}return result}throw new _exception2.default("The partial "+options.name+" could not be compiled when running in runtime-only mode")}function ret(context){function main(context){return""+templateSpec.main(container,context,container.helpers,container.partials,data,blockParams,depths)}var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],data=options.data;ret._setup(options),!options.partial&&templateSpec.useData&&(data=initData(context,data));var depths=void 0,blockParams=templateSpec.useBlockParams?[]:void 0;return templateSpec.useDepths&&(depths=options.depths?context!=options.depths[0]?[context].concat(options.depths):options.depths:[context]),(main=executeDecorators(templateSpec.main,main,container,options.depths||[],data,blockParams))(context,options)}if(!env)throw new _exception2.default("No environment passed to template");if(!templateSpec||!templateSpec.main)throw new _exception2.default("Unknown template object: "+typeof templateSpec);templateSpec.main.decorator=templateSpec.main_d,env.VM.checkRevision(templateSpec.compiler);var container={strict:function(obj,name){if(!(name in obj))throw new _exception2.default('"'+name+'" not defined in '+obj);return obj[name]},lookup:function(depths,name){for(var len=depths.length,i=0;i<len;i++)if(depths[i]&&null!=depths[i][name])return depths[i][name]},lambda:function(current,context){return"function"==typeof current?current.call(context):current},escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function(i){var ret=templateSpec[i];return ret.decorator=templateSpec[i+"_d"],ret},programs:[],program:function(i,data,declaredBlockParams,blockParams,depths){var programWrapper=this.programs[i],fn=this.fn(i);return data||depths||blockParams||declaredBlockParams?programWrapper=wrapProgram(this,i,fn,data,declaredBlockParams,blockParams,depths):programWrapper||(programWrapper=this.programs[i]=wrapProgram(this,i,fn)),programWrapper},data:function(value,depth){for(;value&&depth--;)value=value._parent;return value},merge:function(param,common){var obj=param||common;return param&&common&&param!==common&&(obj=Utils.extend({},common,param)),obj},nullContext:Object.seal({}),noop:env.VM.noop,compilerInfo:templateSpec.compiler};return ret.isTop=!0,ret._setup=function(options){options.partial?(container.helpers=options.helpers,container.partials=options.partials,container.decorators=options.decorators):(container.helpers=container.merge(options.helpers,env.helpers),templateSpec.usePartial&&(container.partials=container.merge(options.partials,env.partials)),(templateSpec.usePartial||templateSpec.useDecorators)&&(container.decorators=container.merge(options.decorators,env.decorators)))},ret._child=function(i,data,blockParams,depths){if(templateSpec.useBlockParams&&!blockParams)throw new _exception2.default("must pass block params");if(templateSpec.useDepths&&!depths)throw new _exception2.default("must pass parent depths");return wrapProgram(container,i,templateSpec[i],data,0,blockParams,depths)},ret}function wrapProgram(container,i,fn,data,declaredBlockParams,blockParams,depths){function prog(context){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],currentDepths=depths;return!depths||context==depths[0]||context===container.nullContext&&null===depths[0]||(currentDepths=[context].concat(depths)),fn(container,context,container.helpers,container.partials,options.data||data,blockParams&&[options.blockParams].concat(blockParams),currentDepths)}return prog=executeDecorators(fn,prog,container,depths,data,blockParams),prog.program=i,prog.depth=depths?depths.length:0,prog.blockParams=declaredBlockParams||0,prog}function resolvePartial(partial,context,options){return partial?partial.call||options.name||(options.name=partial,partial=options.partials[partial]):partial="@partial-block"===options.name?options.data["partial-block"]:options.partials[options.name],partial}function invokePartial(partial,context,options){var currentPartialBlock=options.data&&options.data["partial-block"];options.partial=!0,options.ids&&(options.data.contextPath=options.ids[0]||options.data.contextPath);var partialBlock=void 0;if(options.fn&&options.fn!==noop&&function(){options.data=_base.createFrame(options.data);var fn=options.fn;partialBlock=options.data["partial-block"]=function(context){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return options.data=_base.createFrame(options.data),options.data["partial-block"]=currentPartialBlock,fn(context,options)},fn.partials&&(options.partials=Utils.extend({},options.partials,fn.partials))}(),void 0===partial&&partialBlock&&(partial=partialBlock),void 0===partial)throw new _exception2.default("The partial "+options.name+" could not be found");if(partial instanceof Function)return partial(context,options)}function noop(){return""}function initData(context,data){return data&&"root"in data||(data=data?_base.createFrame(data):{},data.root=context),data}function executeDecorators(fn,prog,container,depths,data,blockParams){if(fn.decorator){var props={};prog=fn.decorator(prog,props,container,depths&&depths[0],data,blockParams,depths),Utils.extend(prog,props)}return prog}exports.__esModule=!0,exports.checkRevision=checkRevision,exports.template=template,exports.wrapProgram=wrapProgram,exports.resolvePartial=resolvePartial,exports.invokePartial=invokePartial,exports.noop=noop;var _utils=__webpack_require__(9),Utils=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_utils),_exception=__webpack_require__(17),_exception2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_exception),_base=__webpack_require__(38)},73:function(module,exports,__webpack_require__){"use strict";(function(global){exports.__esModule=!0,exports.default=function(Handlebars){var root=void 0!==global?global:window,$Handlebars=root.Handlebars;Handlebars.noConflict=function(){return root.Handlebars===Handlebars&&(root.Handlebars=$Handlebars),Handlebars}},module.exports=exports.default}).call(exports,__webpack_require__(16))},80:function(module,exports,__webpack_require__){(function(global){function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}var apply=Function.prototype.apply;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function(){item._onTimeout&&item._onTimeout()},msecs))},__webpack_require__(81),exports.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(exports,__webpack_require__(16))},81:function(module,exports,__webpack_require__){(function(global,process){!function(global,undefined){"use strict";function setImmediate(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++}function clearImmediate(handle){delete tasksByHandle[handle]}function run(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{run(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?function(){registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}}():function(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?function(){var messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}():global.MessageChannel?function(){var channel=new MessageChannel;channel.port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}():doc&&"onreadystatechange"in doc.createElement("script")?function(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}():function(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}(),attachTo.setImmediate=setImmediate,attachTo.clearImmediate=clearImmediate}}("undefined"==typeof self?void 0===global?this:global:self)}).call(exports,__webpack_require__(16),__webpack_require__(110))},86:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(root,factory){__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_FACTORY__=factory,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}(0,function(){var Autolinker=function(cfg){cfg=cfg||{},this.version=Autolinker.version,this.urls=this.normalizeUrlsCfg(cfg.urls),this.email="boolean"!=typeof cfg.email||cfg.email,this.phone="boolean"!=typeof cfg.phone||cfg.phone,this.hashtag=cfg.hashtag||!1,this.mention=cfg.mention||!1,this.newWindow="boolean"!=typeof cfg.newWindow||cfg.newWindow,this.stripPrefix=this.normalizeStripPrefixCfg(cfg.stripPrefix),this.stripTrailingSlash="boolean"!=typeof cfg.stripTrailingSlash||cfg.stripTrailingSlash,this.decodePercentEncoding="boolean"!=typeof cfg.decodePercentEncoding||cfg.decodePercentEncoding;var mention=this.mention;if(!1!==mention&&"twitter"!==mention&&"instagram"!==mention)throw new Error("invalid `mention` cfg - see docs");var hashtag=this.hashtag;if(!1!==hashtag&&"twitter"!==hashtag&&"facebook"!==hashtag&&"instagram"!==hashtag)throw new Error("invalid `hashtag` cfg - see docs");this.truncate=this.normalizeTruncateCfg(cfg.truncate),this.className=cfg.className||"",this.replaceFn=cfg.replaceFn||null,this.context=cfg.context||this,this.htmlParser=null,this.matchers=null,this.tagBuilder=null};return Autolinker.link=function(textOrHtml,options){return new Autolinker(options).link(textOrHtml)},Autolinker.parse=function(textOrHtml,options){return new Autolinker(options).parse(textOrHtml)},Autolinker.version="1.6.0",Autolinker.prototype={constructor:Autolinker,normalizeUrlsCfg:function(urls){return null==urls&&(urls=!0),"boolean"==typeof urls?{schemeMatches:urls,wwwMatches:urls,tldMatches:urls}:{schemeMatches:"boolean"!=typeof urls.schemeMatches||urls.schemeMatches,wwwMatches:"boolean"!=typeof urls.wwwMatches||urls.wwwMatches,tldMatches:"boolean"!=typeof urls.tldMatches||urls.tldMatches}},normalizeStripPrefixCfg:function(stripPrefix){return null==stripPrefix&&(stripPrefix=!0),"boolean"==typeof stripPrefix?{scheme:stripPrefix,www:stripPrefix}:{scheme:"boolean"!=typeof stripPrefix.scheme||stripPrefix.scheme,www:"boolean"!=typeof stripPrefix.www||stripPrefix.www}},normalizeTruncateCfg:function(truncate){return"number"==typeof truncate?{length:truncate,location:"end"}:Autolinker.Util.defaults(truncate||{},{length:Number.POSITIVE_INFINITY,location:"end"})},parse:function(textOrHtml){for(var htmlParser=this.getHtmlParser(),htmlNodes=htmlParser.parse(textOrHtml),anchorTagStackCount=0,matches=[],i=0,len=htmlNodes.length;i<len;i++){var node=htmlNodes[i],nodeType=node.getType();if("element"===nodeType&&"a"===node.getTagName())node.isClosing()?anchorTagStackCount=Math.max(anchorTagStackCount-1,0):anchorTagStackCount++;else if("text"===nodeType&&0===anchorTagStackCount){var textNodeMatches=this.parseText(node.getText(),node.getOffset());matches.push.apply(matches,textNodeMatches)}}return matches=this.compactMatches(matches),matches=this.removeUnwantedMatches(matches)},compactMatches:function(matches){matches.sort(function(a,b){return a.getOffset()-b.getOffset()});for(var i=0;i<matches.length-1;i++){var match=matches[i],offset=match.getOffset(),matchedTextLength=match.getMatchedText().length,endIdx=offset+matchedTextLength;if(i+1<matches.length){if(matches[i+1].getOffset()===offset){var removeIdx=matches[i+1].getMatchedText().length>matchedTextLength?i:i+1;matches.splice(removeIdx,1);continue}matches[i+1].getOffset()<=endIdx&&matches.splice(i+1,1)}}return matches},removeUnwantedMatches:function(matches){var remove=Autolinker.Util.remove;return this.hashtag||remove(matches,function(match){return"hashtag"===match.getType()}),this.email||remove(matches,function(match){return"email"===match.getType()}),this.phone||remove(matches,function(match){return"phone"===match.getType()}),this.mention||remove(matches,function(match){return"mention"===match.getType()}),this.urls.schemeMatches||remove(matches,function(m){return"url"===m.getType()&&"scheme"===m.getUrlMatchType()}),this.urls.wwwMatches||remove(matches,function(m){return"url"===m.getType()&&"www"===m.getUrlMatchType()}),this.urls.tldMatches||remove(matches,function(m){return"url"===m.getType()&&"tld"===m.getUrlMatchType()}),matches},parseText:function(text,offset){offset=offset||0;for(var matchers=this.getMatchers(),matches=[],i=0,numMatchers=matchers.length;i<numMatchers;i++){for(var textMatches=matchers[i].parseMatches(text),j=0,numTextMatches=textMatches.length;j<numTextMatches;j++)textMatches[j].setOffset(offset+textMatches[j].getOffset());matches.push.apply(matches,textMatches)}return matches},link:function(textOrHtml){if(!textOrHtml)return"";for(var matches=this.parse(textOrHtml),newHtml=[],lastIndex=0,i=0,len=matches.length;i<len;i++){var match=matches[i];newHtml.push(textOrHtml.substring(lastIndex,match.getOffset())),newHtml.push(this.createMatchReturnVal(match)),lastIndex=match.getOffset()+match.getMatchedText().length}return newHtml.push(textOrHtml.substring(lastIndex)),newHtml.join("")},createMatchReturnVal:function(match){var replaceFnResult;return this.replaceFn&&(replaceFnResult=this.replaceFn.call(this.context,match)),"string"==typeof replaceFnResult?replaceFnResult:!1===replaceFnResult?match.getMatchedText():replaceFnResult instanceof Autolinker.HtmlTag?replaceFnResult.toAnchorString():match.buildTag().toAnchorString()},getHtmlParser:function(){var htmlParser=this.htmlParser;return htmlParser||(htmlParser=this.htmlParser=new Autolinker.htmlParser.HtmlParser),htmlParser},getMatchers:function(){if(this.matchers)return this.matchers;var matchersNs=Autolinker.matcher,tagBuilder=this.getTagBuilder(),matchers=[new matchersNs.Hashtag({tagBuilder:tagBuilder,serviceName:this.hashtag}),new matchersNs.Email({tagBuilder:tagBuilder}),new matchersNs.Phone({tagBuilder:tagBuilder}),new matchersNs.Mention({tagBuilder:tagBuilder,serviceName:this.mention}),new matchersNs.Url({tagBuilder:tagBuilder,stripPrefix:this.stripPrefix,stripTrailingSlash:this.stripTrailingSlash,decodePercentEncoding:this.decodePercentEncoding})];return this.matchers=matchers},getTagBuilder:function(){var tagBuilder=this.tagBuilder;return tagBuilder||(tagBuilder=this.tagBuilder=new Autolinker.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),tagBuilder}},Autolinker.match={},Autolinker.matcher={},Autolinker.htmlParser={},Autolinker.truncate={},Autolinker.Util={abstractMethod:function(){throw"abstract"},trimRegex:/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,assign:function(dest,src){for(var prop in src)src.hasOwnProperty(prop)&&(dest[prop]=src[prop]);return dest},defaults:function(dest,src){for(var prop in src)src.hasOwnProperty(prop)&&void 0===dest[prop]&&(dest[prop]=src[prop]);return dest},extend:function(superclass,protoProps){var superclassProto=superclass.prototype,F=function(){};F.prototype=superclassProto;var subclass;subclass=protoProps.hasOwnProperty("constructor")?protoProps.constructor:function(){superclassProto.constructor.apply(this,arguments)};var subclassProto=subclass.prototype=new F;return subclassProto.constructor=subclass,subclassProto.superclass=superclassProto,delete protoProps.constructor,Autolinker.Util.assign(subclassProto,protoProps),subclass},ellipsis:function(str,truncateLen,ellipsisChars){var ellipsisLength;return str.length>truncateLen&&(null==ellipsisChars?(ellipsisChars="&hellip;",ellipsisLength=3):ellipsisLength=ellipsisChars.length,str=str.substring(0,truncateLen-ellipsisLength)+ellipsisChars),str},indexOf:function(arr,element){if(Array.prototype.indexOf)return arr.indexOf(element);for(var i=0,len=arr.length;i<len;i++)if(arr[i]===element)return i;return-1},remove:function(arr,fn){for(var i=arr.length-1;i>=0;i--)!0===fn(arr[i])&&arr.splice(i,1)},splitAndCapture:function(str,splitRegex){if(!splitRegex.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var match,result=[],lastIdx=0;match=splitRegex.exec(str);)result.push(str.substring(lastIdx,match.index)),result.push(match[0]),lastIdx=match.index+match[0].length;return result.push(str.substring(lastIdx)),result},trim:function(str){return str.replace(this.trimRegex,"")}},Autolinker.HtmlTag=Autolinker.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(cfg){Autolinker.Util.assign(this,cfg),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(tagName){return this.tagName=tagName,this},getTagName:function(){return this.tagName||""},setAttr:function(attrName,attrValue){return this.getAttrs()[attrName]=attrValue,this},getAttr:function(attrName){return this.getAttrs()[attrName]},setAttrs:function(attrs){var tagAttrs=this.getAttrs();return Autolinker.Util.assign(tagAttrs,attrs),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(cssClass){return this.setAttr("class",cssClass)},addClass:function(cssClass){for(var newClass,classAttr=this.getClass(),whitespaceRegex=this.whitespaceRegex,indexOf=Autolinker.Util.indexOf,classes=classAttr?classAttr.split(whitespaceRegex):[],newClasses=cssClass.split(whitespaceRegex);newClass=newClasses.shift();)-1===indexOf(classes,newClass)&&classes.push(newClass);return this.getAttrs().class=classes.join(" "),this},removeClass:function(cssClass){for(var removeClass,classAttr=this.getClass(),whitespaceRegex=this.whitespaceRegex,indexOf=Autolinker.Util.indexOf,classes=classAttr?classAttr.split(whitespaceRegex):[],removeClasses=cssClass.split(whitespaceRegex);classes.length&&(removeClass=removeClasses.shift());){var idx=indexOf(classes,removeClass);-1!==idx&&classes.splice(idx,1)}return this.getAttrs().class=classes.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(cssClass){return-1!==(" "+this.getClass()+" ").indexOf(" "+cssClass+" ")},setInnerHtml:function(html){return this.innerHtml=html,this},getInnerHtml:function(){return this.innerHtml||""},toAnchorString:function(){var tagName=this.getTagName(),attrsStr=this.buildAttrsStr();return attrsStr=attrsStr?" "+attrsStr:"",["<",tagName,attrsStr,">",this.getInnerHtml(),"</",tagName,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var attrs=this.getAttrs(),attrsArr=[];for(var prop in attrs)attrs.hasOwnProperty(prop)&&attrsArr.push(prop+'="'+attrs[prop]+'"');return attrsArr.join(" ")}}),Autolinker.RegexLib=function(){var alphaCharsStr="A-Za-z\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b4\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fd5\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ad\ua7b0-\ua7b7\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc",decimalNumbersStr="0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19",alphaNumericCharsStr=alphaCharsStr+decimalNumbersStr,ipRegex=new RegExp("(?:["+decimalNumbersStr+"]{1,3}\\.){3}["+decimalNumbersStr+"]{1,3}"),domainLabelStr="["+alphaNumericCharsStr+"](?:["+alphaNumericCharsStr+"\\-]*["+alphaNumericCharsStr+"])?";return{alphaNumericCharsStr:alphaNumericCharsStr,alphaCharsStr:alphaCharsStr,domainNameRegex:new RegExp("(?:(?:(?:"+domainLabelStr+"\\.)*(?:"+domainLabelStr+"))|(?:"+ipRegex.source+"))")}}(),Autolinker.AnchorTagBuilder=Autolinker.Util.extend(Object,{constructor:function(cfg){cfg=cfg||{},this.newWindow=cfg.newWindow,this.truncate=cfg.truncate,this.className=cfg.className},build:function(match){return new Autolinker.HtmlTag({tagName:"a",attrs:this.createAttrs(match),innerHtml:this.processAnchorText(match.getAnchorText())})},createAttrs:function(match){var attrs={href:match.getAnchorHref()},cssClass=this.createCssClass(match);return cssClass&&(attrs.class=cssClass),this.newWindow&&(attrs.target="_blank",attrs.rel="noopener noreferrer"),this.truncate&&this.truncate.length&&this.truncate.length<match.getAnchorText().length&&(attrs.title=match.getAnchorHref()),attrs},createCssClass:function(match){var className=this.className;if(className){for(var returnClasses=[className],cssClassSuffixes=match.getCssClassSuffixes(),i=0,len=cssClassSuffixes.length;i<len;i++)returnClasses.push(className+"-"+cssClassSuffixes[i]);return returnClasses.join(" ")}return""},processAnchorText:function(anchorText){return anchorText=this.doTruncate(anchorText)},doTruncate:function(anchorText){var truncate=this.truncate;if(!truncate||!truncate.length)return anchorText;var truncateLength=truncate.length,truncateLocation=truncate.location;return"smart"===truncateLocation?Autolinker.truncate.TruncateSmart(anchorText,truncateLength):"middle"===truncateLocation?Autolinker.truncate.TruncateMiddle(anchorText,truncateLength):Autolinker.truncate.TruncateEnd(anchorText,truncateLength)}}),Autolinker.htmlParser.HtmlParser=Autolinker.Util.extend(Object,{htmlRegex:function(){var commentTagRegex=/!--([\s\S]+?)--/,tagNameRegex=/[0-9a-zA-Z][0-9a-zA-Z:]*/,attrNameRegex=/[^\s"'>\/=\x00-\x1F\x7F]+/,attrValueRegex=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,nameEqualsValueRegex=attrNameRegex.source+"(?:\\s*=\\s*"+attrValueRegex.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",nameEqualsValueRegex,"|",attrValueRegex.source+")",")*",">",")","|","(?:","<(/)?","(?:",commentTagRegex.source,"|","(?:","("+tagNameRegex.source+")","\\s*/?",")","|","(?:","("+tagNameRegex.source+")","\\s+","(?:","(?:\\s+|\\b)",nameEqualsValueRegex,")*","\\s*/?",")",")",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(html){for(var currentResult,textAndEntityNodes,htmlRegex=this.htmlRegex,lastIndex=0,nodes=[];null!==(currentResult=htmlRegex.exec(html));){var tagText=currentResult[0],commentText=currentResult[3],tagName=currentResult[1]||currentResult[4]||currentResult[5],isClosingTag=!!currentResult[2],offset=currentResult.index,inBetweenTagsText=html.substring(lastIndex,offset);inBetweenTagsText&&(textAndEntityNodes=this.parseTextAndEntityNodes(lastIndex,inBetweenTagsText),nodes.push.apply(nodes,textAndEntityNodes)),commentText?nodes.push(this.createCommentNode(offset,tagText,commentText)):nodes.push(this.createElementNode(offset,tagText,tagName,isClosingTag)),lastIndex=offset+tagText.length}if(lastIndex<html.length){var text=html.substring(lastIndex);text&&(textAndEntityNodes=this.parseTextAndEntityNodes(lastIndex,text),textAndEntityNodes.forEach(function(node){nodes.push(node)}))}return nodes},parseTextAndEntityNodes:function(offset,text){for(var nodes=[],textAndEntityTokens=Autolinker.Util.splitAndCapture(text,this.htmlCharacterEntitiesRegex),i=0,len=textAndEntityTokens.length;i<len;i+=2){var textToken=textAndEntityTokens[i],entityToken=textAndEntityTokens[i+1];textToken&&(nodes.push(this.createTextNode(offset,textToken)),offset+=textToken.length),entityToken&&(nodes.push(this.createEntityNode(offset,entityToken)),offset+=entityToken.length)}return nodes},createCommentNode:function(offset,tagText,commentText){return new Autolinker.htmlParser.CommentNode({offset:offset,text:tagText,comment:Autolinker.Util.trim(commentText)})},createElementNode:function(offset,tagText,tagName,isClosingTag){return new Autolinker.htmlParser.ElementNode({offset:offset,text:tagText,tagName:tagName.toLowerCase(),closing:isClosingTag})},createEntityNode:function(offset,text){return new Autolinker.htmlParser.EntityNode({offset:offset,text:text})},createTextNode:function(offset,text){return new Autolinker.htmlParser.TextNode({offset:offset,text:text})}}),Autolinker.htmlParser.HtmlNode=Autolinker.Util.extend(Object,{offset:void 0,text:void 0,constructor:function(cfg){if(Autolinker.Util.assign(this,cfg),null==this.offset)throw new Error("`offset` cfg required");if(null==this.text)throw new Error("`text` cfg required")},getType:Autolinker.Util.abstractMethod,getOffset:function(){return this.offset},getText:function(){return this.text}}),Autolinker.htmlParser.CommentNode=Autolinker.Util.extend(Autolinker.htmlParser.HtmlNode,{comment:"",getType:function(){return"comment"},getComment:function(){return this.comment}}),Autolinker.htmlParser.ElementNode=Autolinker.Util.extend(Autolinker.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),Autolinker.htmlParser.EntityNode=Autolinker.Util.extend(Autolinker.htmlParser.HtmlNode,{getType:function(){return"entity"}}),Autolinker.htmlParser.TextNode=Autolinker.Util.extend(Autolinker.htmlParser.HtmlNode,{getType:function(){return"text"}}),Autolinker.match.Match=Autolinker.Util.extend(Object,{constructor:function(cfg){if(null==cfg.tagBuilder)throw new Error("`tagBuilder` cfg required");if(null==cfg.matchedText)throw new Error("`matchedText` cfg required");if(null==cfg.offset)throw new Error("`offset` cfg required");this.tagBuilder=cfg.tagBuilder,this.matchedText=cfg.matchedText,this.offset=cfg.offset},getType:Autolinker.Util.abstractMethod,getMatchedText:function(){return this.matchedText},setOffset:function(offset){this.offset=offset},getOffset:function(){return this.offset},getAnchorHref:Autolinker.Util.abstractMethod,getAnchorText:Autolinker.Util.abstractMethod,getCssClassSuffixes:function(){return[this.getType()]},buildTag:function(){return this.tagBuilder.build(this)}}),Autolinker.match.Email=Autolinker.Util.extend(Autolinker.match.Match,{constructor:function(cfg){if(Autolinker.match.Match.prototype.constructor.call(this,cfg),!cfg.email)throw new Error("`email` cfg required");this.email=cfg.email},getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),Autolinker.match.Hashtag=Autolinker.Util.extend(Autolinker.match.Match,{constructor:function(cfg){if(Autolinker.match.Match.prototype.constructor.call(this,cfg),!cfg.hashtag)throw new Error("`hashtag` cfg required");this.serviceName=cfg.serviceName,this.hashtag=cfg.hashtag},getType:function(){return"hashtag"},getServiceName:function(){return this.serviceName},getHashtag:function(){return this.hashtag},getAnchorHref:function(){var serviceName=this.serviceName,hashtag=this.hashtag;switch(serviceName){case"twitter":return"https://twitter.com/hashtag/"+hashtag;case"facebook":return"https://www.facebook.com/hashtag/"+hashtag;case"instagram":return"https://instagram.com/explore/tags/"+hashtag;default:throw new Error("Unknown service name to point hashtag to: ",serviceName)}},getAnchorText:function(){return"#"+this.hashtag}}),Autolinker.match.Phone=Autolinker.Util.extend(Autolinker.match.Match,{constructor:function(cfg){if(Autolinker.match.Match.prototype.constructor.call(this,cfg),!cfg.number)throw new Error("`number` cfg required");if(null==cfg.plusSign)throw new Error("`plusSign` cfg required");this.number=cfg.number,this.plusSign=cfg.plusSign},getType:function(){return"phone"},getNumber:function(){return this.number},getAnchorHref:function(){return"tel:"+(this.plusSign?"+":"")+this.number},getAnchorText:function(){return this.matchedText}}),Autolinker.match.Mention=Autolinker.Util.extend(Autolinker.match.Match,{constructor:function(cfg){if(Autolinker.match.Match.prototype.constructor.call(this,cfg),!cfg.serviceName)throw new Error("`serviceName` cfg required");if(!cfg.mention)throw new Error("`mention` cfg required");this.mention=cfg.mention,this.serviceName=cfg.serviceName},getType:function(){return"mention"},getMention:function(){return this.mention},getServiceName:function(){return this.serviceName},getAnchorHref:function(){switch(this.serviceName){case"twitter":return"https://twitter.com/"+this.mention;case"instagram":return"https://instagram.com/"+this.mention;default:throw new Error("Unknown service name to point mention to: ",this.serviceName)}},getAnchorText:function(){return"@"+this.mention},getCssClassSuffixes:function(){var cssClassSuffixes=Autolinker.match.Match.prototype.getCssClassSuffixes.call(this),serviceName=this.getServiceName();return serviceName&&cssClassSuffixes.push(serviceName),cssClassSuffixes}}),Autolinker.match.Url=Autolinker.Util.extend(Autolinker.match.Match,{constructor:function(cfg){if(Autolinker.match.Match.prototype.constructor.call(this,cfg),"scheme"!==cfg.urlMatchType&&"www"!==cfg.urlMatchType&&"tld"!==cfg.urlMatchType)throw new Error('`urlMatchType` cfg must be one of: "scheme", "www", or "tld"');if(!cfg.url)throw new Error("`url` cfg required");if(null==cfg.protocolUrlMatch)throw new Error("`protocolUrlMatch` cfg required");if(null==cfg.protocolRelativeMatch)throw new Error("`protocolRelativeMatch` cfg required");if(null==cfg.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==cfg.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");if(null==cfg.decodePercentEncoding)throw new Error("`decodePercentEncoding` cfg required");this.urlMatchType=cfg.urlMatchType,this.url=cfg.url,this.protocolUrlMatch=cfg.protocolUrlMatch,this.protocolRelativeMatch=cfg.protocolRelativeMatch,this.stripPrefix=cfg.stripPrefix,this.stripTrailingSlash=cfg.stripTrailingSlash,this.decodePercentEncoding=cfg.decodePercentEncoding},schemePrefixRegex:/^(https?:\/\/)?/i,wwwPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrlMatchType:function(){return this.urlMatchType},getUrl:function(){var url=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(url=this.url="http://"+url,this.protocolPrepended=!0),url},getAnchorHref:function(){return this.getUrl().replace(/&amp;/g,"&")},getAnchorText:function(){var anchorText=this.getMatchedText();return this.protocolRelativeMatch&&(anchorText=this.stripProtocolRelativePrefix(anchorText)),this.stripPrefix.scheme&&(anchorText=this.stripSchemePrefix(anchorText)),this.stripPrefix.www&&(anchorText=this.stripWwwPrefix(anchorText)),this.stripTrailingSlash&&(anchorText=this.removeTrailingSlash(anchorText)),this.decodePercentEncoding&&(anchorText=this.removePercentEncoding(anchorText)),anchorText},stripSchemePrefix:function(url){return url.replace(this.schemePrefixRegex,"")},stripWwwPrefix:function(url){return url.replace(this.wwwPrefixRegex,"$1")},stripProtocolRelativePrefix:function(text){return text.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(anchorText){return"/"===anchorText.charAt(anchorText.length-1)&&(anchorText=anchorText.slice(0,-1)),anchorText},removePercentEncoding:function(anchorText){try{return decodeURIComponent(anchorText.replace(/%22/gi,"&quot;").replace(/%26/gi,"&amp;").replace(/%27/gi,"&#39;").replace(/%3C/gi,"&lt;").replace(/%3E/gi,"&gt;"))}catch(e){return anchorText}}}),Autolinker.tldRegex=/(?:xn--vermgensberatung-pwb|xn--vermgensberater-ctb|xn--clchc0ea0b2g2a9gcd|xn--w4r85el8fhu5dnra|northwesternmutual|travelersinsurance|verm\xf6gensberatung|xn--3oq18vl8pn36a|xn--5su34j936bgsg|xn--bck1b9a5dre4c|xn--mgbai9azgqp6j|xn--mgberp4a5d4ar|xn--xkc2dl3a5ee0h|verm\xf6gensberater|xn--fzys8d69uvgm|xn--mgba7c0bbn0a|xn--xkc2al3hye2a|americanexpress|kerryproperties|sandvikcoromant|xn--i1b6b1a6a2e|xn--kcrx77d1x4a|xn--lgbbat1ad8j|xn--mgba3a4f16a|xn--mgbc0a9azcg|xn--nqv7fs00ema|afamilycompany|americanfamily|bananarepublic|cancerresearch|cookingchannel|kerrylogistics|weatherchannel|xn--54b7fta0cc|xn--6qq986b3xl|xn--80aqecdr1a|xn--b4w605ferd|xn--fiq228c5hs|xn--jlq61u9w7b|xn--mgba3a3ejt|xn--mgbaam7a8h|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a71e|xn--mgbca7dzdo|xn--mgbi4ecexp|xn--mgbx4cd0ab|international|lifeinsurance|orientexpress|spreadbetting|travelchannel|wolterskluwer|xn--eckvdtc9d|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--tiq49xqyj|xn--yfro4i67o|xn--ygbi2ammx|construction|lplfinancial|pamperedchef|scholarships|versicherung|xn--3e0b707e|xn--80adxhks|xn--80asehdb|xn--8y0a063a|xn--gckr3f0f|xn--mgb9awbf|xn--mgbab2bd|xn--mgbpl2fh|xn--mgbt3dhd|xn--mk1bu44c|xn--ngbc5azd|xn--ngbe9e0a|xn--ogbpf8fl|xn--qcka1pmc|accountants|barclaycard|blackfriday|blockbuster|bridgestone|calvinklein|contractors|creditunion|engineering|enterprises|foodnetwork|investments|kerryhotels|lamborghini|motorcycles|olayangroup|photography|playstation|productions|progressive|redumbrella|rightathome|williamhill|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--3bst00m|xn--3ds443g|xn--42c2d9a|xn--45brj9c|xn--55qw42g|xn--6frz82g|xn--80ao21a|xn--9krt00a|xn--cck2b3b|xn--czr694b|xn--d1acj3b|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fjq720a|xn--flw351e|xn--g2xx48c|xn--gecrj9c|xn--gk3at1e|xn--h2brj9c|xn--hxt814e|xn--imr513n|xn--j6w193g|xn--jvr189m|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--mgbtx2b|xn--mix891f|xn--nyqy26a|xn--pbt977c|xn--pgbs0dh|xn--q9jyb4c|xn--rhqv96g|xn--rovu88b|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--vuq861b|xn--w4rs40l|xn--xhq521b|xn--zfr164b|\u0b9a\u0bbf\u0b99\u0bcd\u0b95\u0baa\u0bcd\u0baa\u0bc2\u0bb0\u0bcd|accountant|apartments|associates|basketball|bnpparibas|boehringer|capitalone|consulting|creditcard|cuisinella|eurovision|extraspace|foundation|healthcare|immobilien|industries|management|mitsubishi|nationwide|newholland|nextdirect|onyourside|properties|protection|prudential|realestate|republican|restaurant|schaeffler|swiftcover|tatamotors|technology|telefonica|university|vistaprint|vlaanderen|volkswagen|xn--30rr7y|xn--3pxu8k|xn--45q11c|xn--4gbrim|xn--55qx5d|xn--5tzm5g|xn--80aswg|xn--90a3ac|xn--9dbq2a|xn--9et52u|xn--c2br7g|xn--cg4bki|xn--czrs0t|xn--czru2d|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--io0a7i|xn--kput3i|xn--mxtq1m|xn--o3cw4h|xn--pssy2u|xn--unup4y|xn--wgbh1c|xn--wgbl6a|xn--y9a3aq|accenture|alfaromeo|allfinanz|amsterdam|analytics|aquarelle|barcelona|bloomberg|christmas|community|directory|education|equipment|fairwinds|financial|firestone|fresenius|frontdoor|fujixerox|furniture|goldpoint|goodhands|hisamitsu|homedepot|homegoods|homesense|honeywell|institute|insurance|kuokgroup|ladbrokes|lancaster|landrover|lifestyle|marketing|marshalls|mcdonalds|melbourne|microsoft|montblanc|panasonic|passagens|pramerica|richardli|scjohnson|shangrila|solutions|statebank|statefarm|stockholm|travelers|vacations|xn--90ais|xn--c1avg|xn--d1alf|xn--e1a4c|xn--fhbei|xn--j1aef|xn--j1amh|xn--l1acc|xn--nqv7f|xn--p1acf|xn--tckwe|xn--vhquv|yodobashi|abudhabi|airforce|allstate|attorney|barclays|barefoot|bargains|baseball|boutique|bradesco|broadway|brussels|budapest|builders|business|capetown|catering|catholic|chrysler|cipriani|cityeats|cleaning|clinique|clothing|commbank|computer|delivery|deloitte|democrat|diamonds|discount|discover|download|engineer|ericsson|esurance|everbank|exchange|feedback|fidelity|firmdale|football|frontier|goodyear|grainger|graphics|guardian|hdfcbank|helsinki|holdings|hospital|infiniti|ipiranga|istanbul|jpmorgan|lighting|lundbeck|marriott|maserati|mckinsey|memorial|mortgage|movistar|observer|partners|pharmacy|pictures|plumbing|property|redstone|reliance|saarland|samsclub|security|services|shopping|showtime|softbank|software|stcgroup|supplies|symantec|telecity|training|uconnect|vanguard|ventures|verisign|woodside|xn--90ae|xn--node|xn--p1ai|xn--qxam|yokohama|\u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629|abogado|academy|agakhan|alibaba|android|athleta|auction|audible|auspost|avianca|banamex|bauhaus|bentley|bestbuy|booking|brother|bugatti|capital|caravan|careers|cartier|channel|chintai|citadel|clubmed|college|cologne|comcast|company|compare|contact|cooking|corsica|country|coupons|courses|cricket|cruises|dentist|digital|domains|exposed|express|farmers|fashion|ferrari|ferrero|finance|fishing|fitness|flights|florist|flowers|forsale|frogans|fujitsu|gallery|genting|godaddy|guitars|hamburg|hangout|hitachi|holiday|hosting|hoteles|hotmail|hyundai|iselect|ismaili|jewelry|juniper|kitchen|komatsu|lacaixa|lancome|lanxess|lasalle|latrobe|leclerc|liaison|limited|lincoln|markets|metlife|monster|netbank|netflix|network|neustar|okinawa|oldnavy|organic|origins|panerai|philips|pioneer|politie|realtor|recipes|rentals|reviews|rexroth|samsung|sandvik|schmidt|schwarz|science|shiksha|shriram|singles|spiegel|staples|starhub|statoil|storage|support|surgery|systems|temasek|theater|theatre|tickets|tiffany|toshiba|trading|walmart|wanggou|watches|weather|website|wedding|whoswho|windows|winners|xfinity|yamaxun|youtube|zuerich|\u043a\u0430\u0442\u043e\u043b\u0438\u043a|\u0627\u0644\u062c\u0632\u0627\u0626\u0631|\u0627\u0644\u0639\u0644\u064a\u0627\u0646|\u067e\u0627\u06a9\u0633\u062a\u0627\u0646|\u0643\u0627\u062b\u0648\u0644\u064a\u0643|\u0645\u0648\u0628\u0627\u064a\u0644\u064a|\u0b87\u0ba8\u0bcd\u0ba4\u0bbf\u0baf\u0bbe|abarth|abbott|abbvie|active|africa|agency|airbus|airtel|alipay|alsace|alstom|anquan|aramco|author|bayern|beauty|berlin|bharti|blanco|bostik|boston|broker|camera|career|caseih|casino|center|chanel|chrome|church|circle|claims|clinic|coffee|comsec|condos|coupon|credit|cruise|dating|datsun|dealer|degree|dental|design|direct|doctor|dunlop|dupont|durban|emerck|energy|estate|events|expert|family|flickr|futbol|gallup|garden|george|giving|global|google|gratis|health|hermes|hiphop|hockey|hughes|imamat|insure|intuit|jaguar|joburg|juegos|kaufen|kinder|kindle|kosher|lancia|latino|lawyer|lefrak|living|locker|london|luxury|madrid|maison|makeup|market|mattel|mobile|mobily|monash|mormon|moscow|museum|mutual|nagoya|natura|nissan|nissay|norton|nowruz|office|olayan|online|oracle|orange|otsuka|pfizer|photos|physio|piaget|pictet|quebec|racing|realty|reisen|repair|report|review|rocher|rogers|ryukyu|safety|sakura|sanofi|school|schule|secure|select|shouji|soccer|social|stream|studio|supply|suzuki|swatch|sydney|taipei|taobao|target|tattoo|tennis|tienda|tjmaxx|tkmaxx|toyota|travel|unicom|viajes|viking|villas|virgin|vision|voting|voyage|vuelos|walter|warman|webcam|xihuan|xperia|yachts|yandex|zappos|\u043c\u043e\u0441\u043a\u0432\u0430|\u043e\u043d\u043b\u0430\u0439\u043d|\u0627\u0628\u0648\u0638\u0628\u064a|\u0627\u0631\u0627\u0645\u0643\u0648|\u0627\u0644\u0627\u0631\u062f\u0646|\u0627\u0644\u0645\u063a\u0631\u0628|\u0627\u0645\u0627\u0631\u0627\u062a|\u0641\u0644\u0633\u0637\u064a\u0646|\u0645\u0644\u064a\u0633\u064a\u0627|\u0b87\u0bb2\u0b99\u0bcd\u0b95\u0bc8|\u30d5\u30a1\u30c3\u30b7\u30e7\u30f3|actor|adult|aetna|amfam|amica|apple|archi|audio|autos|azure|baidu|beats|bible|bingo|black|boats|boots|bosch|build|canon|cards|chase|cheap|chloe|cisco|citic|click|cloud|coach|codes|crown|cymru|dabur|dance|deals|delta|dodge|drive|dubai|earth|edeka|email|epost|epson|faith|fedex|final|forex|forum|gallo|games|gifts|gives|glade|glass|globo|gmail|green|gripe|group|gucci|guide|homes|honda|horse|house|hyatt|ikano|intel|irish|iveco|jetzt|koeln|kyoto|lamer|lease|legal|lexus|lilly|linde|lipsy|lixil|loans|locus|lotte|lotto|lupin|macys|mango|media|miami|money|mopar|movie|nadex|nexus|nikon|ninja|nokia|nowtv|omega|osaka|paris|parts|party|phone|photo|pizza|place|poker|praxi|press|prime|promo|quest|radio|rehab|reise|ricoh|rocks|rodeo|salon|sener|seven|sharp|shell|shoes|skype|sling|smart|smile|solar|space|stada|store|study|style|sucks|swiss|tatar|tires|tirol|tmall|today|tokyo|tools|toray|total|tours|trade|trust|tunes|tushu|ubank|vegas|video|vista|vodka|volvo|wales|watch|weber|weibo|works|world|xerox|yahoo|zippo|\u0627\u06cc\u0631\u0627\u0646|\u0628\u0627\u0632\u0627\u0631|\u0628\u06be\u0627\u0631\u062a|\u0633\u0648\u062f\u0627\u0646|\u0633\u0648\u0631\u064a\u0629|\u0647\u0645\u0631\u0627\u0647|\u0938\u0902\u0917\u0920\u0928|\u09ac\u09be\u0982\u09b2\u09be|\u0c2d\u0c3e\u0c30\u0c24\u0c4d|\u5609\u91cc\u5927\u9152\u5e97|aarp|able|adac|aero|aigo|akdn|ally|amex|army|arpa|arte|asda|asia|audi|auto|baby|band|bank|bbva|beer|best|bike|bing|blog|blue|bofa|bond|book|buzz|cafe|call|camp|care|cars|casa|case|cash|cbre|cern|chat|citi|city|club|cool|coop|cyou|data|date|dclk|deal|dell|desi|diet|dish|docs|doha|duck|duns|dvag|erni|fage|fail|fans|farm|fast|fiat|fido|film|fire|fish|flir|food|ford|free|fund|game|gbiz|gent|ggee|gift|gmbh|gold|golf|goog|guge|guru|hair|haus|hdfc|help|here|hgtv|host|hsbc|icbc|ieee|imdb|immo|info|itau|java|jeep|jobs|jprs|kddi|kiwi|kpmg|kred|land|lego|lgbt|lidl|life|like|limo|link|live|loan|loft|love|ltda|luxe|maif|meet|meme|menu|mini|mint|mobi|moda|moto|mtpc|name|navy|news|next|nico|nike|ollo|open|page|pars|pccw|pics|ping|pink|play|plus|pohl|porn|post|prod|prof|qpon|raid|read|reit|rent|rest|rich|rmit|room|rsvp|ruhr|safe|sale|sapo|sarl|save|saxo|scor|scot|seat|seek|sexy|shaw|shia|shop|show|silk|sina|site|skin|sncf|sohu|song|sony|spot|star|surf|talk|taxi|team|tech|teva|tiaa|tips|town|toys|tube|vana|visa|viva|vivo|vote|voto|wang|weir|wien|wiki|wine|work|xbox|yoga|zara|zero|zone|\u0434\u0435\u0442\u0438|\u0441\u0430\u0439\u0442|\u0628\u064a\u062a\u0643|\u062a\u0648\u0646\u0633|\u0634\u0628\u0643\u0629|\u0639\u0631\u0627\u0642|\u0639\u0645\u0627\u0646|\u0645\u0648\u0642\u0639|\u092d\u093e\u0930\u0924|\u09ad\u09be\u09b0\u09a4|\u0a2d\u0a3e\u0a30\u0a24|\u0aad\u0abe\u0ab0\u0aa4|\u0dbd\u0d82\u0d9a\u0dcf|\u30b0\u30fc\u30b0\u30eb|\u30af\u30e9\u30a6\u30c9|\u30dd\u30a4\u30f3\u30c8|\u5927\u4f17\u6c7d\u8f66|\u7ec4\u7ec7\u673a\u6784|\u96fb\u8a0a\u76c8\u79d1|\u9999\u683c\u91cc\u62c9|aaa|abb|abc|aco|ads|aeg|afl|aig|anz|aol|app|art|aws|axa|bar|bbc|bbt|bcg|bcn|bet|bid|bio|biz|bms|bmw|bnl|bom|boo|bot|box|buy|bzh|cab|cal|cam|car|cat|cba|cbn|cbs|ceb|ceo|cfa|cfd|com|crs|csc|dad|day|dds|dev|dhl|diy|dnp|dog|dot|dtv|dvr|eat|eco|edu|esq|eus|fan|fit|fly|foo|fox|frl|ftr|fun|fyi|gal|gap|gdn|gea|gle|gmo|gmx|goo|gop|got|gov|hbo|hiv|hkt|hot|how|htc|ibm|ice|icu|ifm|ing|ink|int|ist|itv|iwc|jcb|jcp|jio|jlc|jll|jmp|jnj|jot|joy|kfh|kia|kim|kpn|krd|lat|law|lds|lol|lpl|ltd|man|mba|mcd|med|men|meo|mil|mit|mlb|mls|mma|moe|moi|mom|mov|msd|mtn|mtr|nab|nba|nec|net|new|nfl|ngo|nhk|now|nra|nrw|ntt|nyc|obi|off|one|ong|onl|ooo|org|ott|ovh|pay|pet|pid|pin|pnc|pro|pru|pub|pwc|qvc|red|ren|ril|rio|rip|run|rwe|sap|sas|sbi|sbs|sca|scb|ses|sew|sex|sfr|ski|sky|soy|srl|srt|stc|tab|tax|tci|tdk|tel|thd|tjx|top|trv|tui|tvs|ubs|uno|uol|ups|vet|vig|vin|vip|wed|win|wme|wow|wtc|wtf|xin|xxx|xyz|you|yun|zip|\u0431\u0435\u043b|\u043a\u043e\u043c|\u049b\u0430\u0437|\u043c\u043a\u0434|\u043c\u043e\u043d|\u043e\u0440\u0433|\u0440\u0443\u0441|\u0441\u0440\u0431|\u0443\u043a\u0440|\u0570\u0561\u0575|\u05e7\u05d5\u05dd|\u0642\u0637\u0631|\u0643\u0648\u0645|\u0645\u0635\u0631|\u0915\u0949\u092e|\u0928\u0947\u091f|\u0e04\u0e2d\u0e21|\u0e44\u0e17\u0e22|\u30b9\u30c8\u30a2|\u30bb\u30fc\u30eb|\u307f\u3093\u306a|\u4e2d\u6587\u7f51|\u5929\u4e3b\u6559|\u6211\u7231\u4f60|\u65b0\u52a0\u5761|\u6de1\u9a6c\u9521|\u8bfa\u57fa\u4e9a|\u98de\u5229\u6d66|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw|\u03b5\u03bb|\u0431\u0433|\u0435\u044e|\u0440\u0444|\u10d2\u10d4|\ub2f7\ub137|\ub2f7\ucef4|\uc0bc\uc131|\ud55c\uad6d|\u30b3\u30e0|\u4e16\u754c|\u4e2d\u4fe1|\u4e2d\u56fd|\u4e2d\u570b|\u4f01\u4e1a|\u4f5b\u5c71|\u4fe1\u606f|\u5065\u5eb7|\u516b\u5366|\u516c\u53f8|\u516c\u76ca|\u53f0\u6e7e|\u53f0\u7063|\u5546\u57ce|\u5546\u5e97|\u5546\u6807|\u5609\u91cc|\u5728\u7ebf|\u5927\u62ff|\u5a31\u4e50|\u5bb6\u96fb|\u5de5\u884c|\u5e7f\u4e1c|\u5fae\u535a|\u6148\u5584|\u624b\u673a|\u624b\u8868|\u653f\u52a1|\u653f\u5e9c|\u65b0\u95fb|\u65f6\u5c1a|\u66f8\u7c4d|\u673a\u6784|\u6e38\u620f|\u6fb3\u9580|\u70b9\u770b|\u73e0\u5b9d|\u79fb\u52a8|\u7f51\u5740|\u7f51\u5e97|\u7f51\u7ad9|\u7f51\u7edc|\u8054\u901a|\u8c37\u6b4c|\u8d2d\u7269|\u901a\u8ca9|\u96c6\u56e2|\u98df\u54c1|\u9910\u5385|\u9999\u6e2f)/,Autolinker.matcher.Matcher=Autolinker.Util.extend(Object,{constructor:function(cfg){if(!cfg.tagBuilder)throw new Error("`tagBuilder` cfg required");this.tagBuilder=cfg.tagBuilder},parseMatches:Autolinker.Util.abstractMethod}),Autolinker.matcher.Email=Autolinker.Util.extend(Autolinker.matcher.Matcher,{matcherRegex:function(){var alphaNumericChars=Autolinker.RegexLib.alphaNumericCharsStr,validCharacters=alphaNumericChars+"!#$%&'*+\\-\\/=?^_`{|}~",validRestrictedCharacters=validCharacters+'\\s"(),:;<>@\\[\\]',emailRegex=new RegExp("(?:["+validCharacters+"](?:["+validCharacters+']|\\.(?!\\.|@))*|\\"['+validRestrictedCharacters+'.]+\\")@'),domainNameRegex=Autolinker.RegexLib.domainNameRegex,tldRegex=Autolinker.tldRegex;return new RegExp([emailRegex.source,domainNameRegex.source,"\\.",tldRegex.source].join(""),"gi")}(),parseMatches:function(text){for(var match,matcherRegex=this.matcherRegex,tagBuilder=this.tagBuilder,matches=[];null!==(match=matcherRegex.exec(text));){var matchedText=match[0];matches.push(new Autolinker.match.Email({tagBuilder:tagBuilder,matchedText:matchedText,offset:match.index,email:matchedText}))}return matches}}),Autolinker.matcher.Hashtag=Autolinker.Util.extend(Autolinker.matcher.Matcher,{matcherRegex:new RegExp("#[_"+Autolinker.RegexLib.alphaNumericCharsStr+"]{1,139}","g"),nonWordCharRegex:new RegExp("[^"+Autolinker.RegexLib.alphaNumericCharsStr+"]"),constructor:function(cfg){Autolinker.matcher.Matcher.prototype.constructor.call(this,cfg),this.serviceName=cfg.serviceName},parseMatches:function(text){for(var match,matcherRegex=this.matcherRegex,nonWordCharRegex=this.nonWordCharRegex,serviceName=this.serviceName,tagBuilder=this.tagBuilder,matches=[];null!==(match=matcherRegex.exec(text));){var offset=match.index,prevChar=text.charAt(offset-1);if(0===offset||nonWordCharRegex.test(prevChar)){var matchedText=match[0],hashtag=match[0].slice(1);matches.push(new Autolinker.match.Hashtag({tagBuilder:tagBuilder,matchedText:matchedText,offset:offset,serviceName:serviceName,hashtag:hashtag}))}}return matches}}),Autolinker.matcher.Phone=Autolinker.Util.extend(Autolinker.matcher.Matcher,{matcherRegex:/(?:(\+)?\d{1,3}[-\040.]?)?\(?\d{3}\)?[-\040.]?\d{3}[-\040.]?\d{4}([,;]*[0-9]+#?)*/g,parseMatches:function(text){for(var match,matcherRegex=this.matcherRegex,tagBuilder=this.tagBuilder,matches=[];null!==(match=matcherRegex.exec(text));){var matchedText=match[0],cleanNumber=matchedText.replace(/[^0-9,;#]/g,""),plusSign=!!match[1];this.testMatch(match[2])&&this.testMatch(matchedText)&&matches.push(new Autolinker.match.Phone({tagBuilder:tagBuilder,matchedText:matchedText,offset:match.index,number:cleanNumber,plusSign:plusSign}))}return matches},testMatch:function(text){return/\D/.test(text)}}),Autolinker.matcher.Mention=Autolinker.Util.extend(Autolinker.matcher.Matcher,{matcherRegexes:{twitter:new RegExp("@[_"+Autolinker.RegexLib.alphaNumericCharsStr+"]{1,20}","g"),instagram:new RegExp("@[_."+Autolinker.RegexLib.alphaNumericCharsStr+"]{1,50}","g")},nonWordCharRegex:new RegExp("[^"+Autolinker.RegexLib.alphaNumericCharsStr+"]"),constructor:function(cfg){Autolinker.matcher.Matcher.prototype.constructor.call(this,cfg),this.serviceName=cfg.serviceName},parseMatches:function(text){var match,matcherRegex=this.matcherRegexes[this.serviceName],nonWordCharRegex=this.nonWordCharRegex,serviceName=this.serviceName,tagBuilder=this.tagBuilder,matches=[];if(!matcherRegex)return matches;for(;null!==(match=matcherRegex.exec(text));){var offset=match.index,prevChar=text.charAt(offset-1);if(0===offset||nonWordCharRegex.test(prevChar)){var matchedText=match[0].replace(/\.+$/g,""),mention=matchedText.slice(1);matches.push(new Autolinker.match.Mention({tagBuilder:tagBuilder,matchedText:matchedText,offset:offset,serviceName:serviceName,mention:mention}))}}return matches}}),Autolinker.matcher.Url=Autolinker.Util.extend(Autolinker.matcher.Matcher,{matcherRegex:function(){var schemeRegex=/(?:[A-Za-z][-.+A-Za-z0-9]*:(?![A-Za-z][-.+A-Za-z0-9]*:\/\/)(?!\d+\/?)(?:\/\/)?)/,wwwRegex=/(?:www\.)/,domainNameRegex=Autolinker.RegexLib.domainNameRegex,tldRegex=Autolinker.tldRegex,alphaNumericCharsStr=Autolinker.RegexLib.alphaNumericCharsStr,urlSuffixRegex=new RegExp("[/?#](?:["+alphaNumericCharsStr+"\\-+&@#/%=~_()|'$*\\[\\]?!:,.;\u2713]*["+alphaNumericCharsStr+"\\-+&@#/%=~_()|'$*\\[\\]\u2713])?");return new RegExp(["(?:","(",schemeRegex.source,domainNameRegex.source,")","|","(","(//)?",wwwRegex.source,domainNameRegex.source,")","|","(","(//)?",domainNameRegex.source+"\\.",tldRegex.source,"(?![-"+alphaNumericCharsStr+"])",")",")","(?::[0-9]+)?","(?:"+urlSuffixRegex.source+")?"].join(""),"gi")}(),wordCharRegExp:new RegExp("["+Autolinker.RegexLib.alphaNumericCharsStr+"]"),openParensRe:/\(/g,closeParensRe:/\)/g,constructor:function(cfg){if(Autolinker.matcher.Matcher.prototype.constructor.call(this,cfg),null==cfg.stripPrefix)throw new Error("`stripPrefix` cfg required");if(null==cfg.stripTrailingSlash)throw new Error("`stripTrailingSlash` cfg required");this.stripPrefix=cfg.stripPrefix,this.stripTrailingSlash=cfg.stripTrailingSlash,this.decodePercentEncoding=cfg.decodePercentEncoding},parseMatches:function(text){for(var match,matcherRegex=this.matcherRegex,stripPrefix=this.stripPrefix,stripTrailingSlash=this.stripTrailingSlash,decodePercentEncoding=this.decodePercentEncoding,tagBuilder=this.tagBuilder,matches=[];null!==(match=matcherRegex.exec(text));){var matchStr=match[0],schemeUrlMatch=match[1],wwwUrlMatch=match[2],wwwProtocolRelativeMatch=match[3],tldProtocolRelativeMatch=match[5],offset=match.index,protocolRelativeMatch=wwwProtocolRelativeMatch||tldProtocolRelativeMatch,prevChar=text.charAt(offset-1);if(Autolinker.matcher.UrlMatchValidator.isValid(matchStr,schemeUrlMatch)&&!(offset>0&&"@"===prevChar||offset>0&&protocolRelativeMatch&&this.wordCharRegExp.test(prevChar))){if(/\?$/.test(matchStr)&&(matchStr=matchStr.substr(0,matchStr.length-1)),this.matchHasUnbalancedClosingParen(matchStr))matchStr=matchStr.substr(0,matchStr.length-1);else{var pos=this.matchHasInvalidCharAfterTld(matchStr,schemeUrlMatch);pos>-1&&(matchStr=matchStr.substr(0,pos))}var urlMatchType=schemeUrlMatch?"scheme":wwwUrlMatch?"www":"tld",protocolUrlMatch=!!schemeUrlMatch;matches.push(new Autolinker.match.Url({tagBuilder:tagBuilder,matchedText:matchStr,offset:offset,urlMatchType:urlMatchType,url:matchStr,protocolUrlMatch:protocolUrlMatch,protocolRelativeMatch:!!protocolRelativeMatch,stripPrefix:stripPrefix,stripTrailingSlash:stripTrailingSlash,decodePercentEncoding:decodePercentEncoding}))}}return matches},matchHasUnbalancedClosingParen:function(matchStr){if(")"===matchStr.charAt(matchStr.length-1)){var openParensMatch=matchStr.match(this.openParensRe),closeParensMatch=matchStr.match(this.closeParensRe);if((openParensMatch&&openParensMatch.length||0)<(closeParensMatch&&closeParensMatch.length||0))return!0}return!1},matchHasInvalidCharAfterTld:function(urlMatch,schemeUrlMatch){if(!urlMatch)return-1;var offset=0;schemeUrlMatch&&(offset=urlMatch.indexOf(":"),urlMatch=urlMatch.slice(offset));var alphaNumeric=Autolinker.RegexLib.alphaNumericCharsStr,re=new RegExp("^((.?//)?[-."+alphaNumeric+"]*[-"+alphaNumeric+"]\\.[-"+alphaNumeric+"]+)"),res=re.exec(urlMatch);return null===res?-1:(offset+=res[1].length,urlMatch=urlMatch.slice(res[1].length),/^[^-.A-Za-z0-9:\/?#]/.test(urlMatch)?offset:-1)}}),Autolinker.matcher.UrlMatchValidator={hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]*:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]*:/,hasWordCharAfterProtocolRegex:new RegExp(":[^\\s]*?["+Autolinker.RegexLib.alphaCharsStr+"]"),ipRegex:/[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?\.[0-9][0-9]?[0-9]?(:[0-9]*)?\/?$/,isValid:function(urlMatch,protocolUrlMatch){return!(protocolUrlMatch&&!this.isValidUriScheme(protocolUrlMatch)||this.urlMatchDoesNotHaveProtocolOrDot(urlMatch,protocolUrlMatch)||this.urlMatchDoesNotHaveAtLeastOneWordChar(urlMatch,protocolUrlMatch)&&!this.isValidIpAddress(urlMatch)||this.containsMultipleDots(urlMatch))},isValidIpAddress:function(uriSchemeMatch){var newRegex=new RegExp(this.hasFullProtocolRegex.source+this.ipRegex.source);return null!==uriSchemeMatch.match(newRegex)},containsMultipleDots:function(urlMatch){return urlMatch.indexOf("..")>-1},isValidUriScheme:function(uriSchemeMatch){var uriScheme=uriSchemeMatch.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==uriScheme&&"vbscript:"!==uriScheme},urlMatchDoesNotHaveProtocolOrDot:function(urlMatch,protocolUrlMatch){return!(!urlMatch||protocolUrlMatch&&this.hasFullProtocolRegex.test(protocolUrlMatch)||-1!==urlMatch.indexOf("."))},urlMatchDoesNotHaveAtLeastOneWordChar:function(urlMatch,protocolUrlMatch){return!(!urlMatch||!protocolUrlMatch)&&!this.hasWordCharAfterProtocolRegex.test(urlMatch)}},Autolinker.truncate.TruncateEnd=function(anchorText,truncateLen,ellipsisChars){return Autolinker.Util.ellipsis(anchorText,truncateLen,ellipsisChars)},Autolinker.truncate.TruncateMiddle=function(url,truncateLen,ellipsisChars){if(url.length<=truncateLen)return url;var ellipsisLengthBeforeParsing,ellipsisLength;null==ellipsisChars?(ellipsisChars="&hellip;",ellipsisLengthBeforeParsing=8,ellipsisLength=3):(ellipsisLengthBeforeParsing=ellipsisChars.length,ellipsisLength=ellipsisChars.length);var availableLength=truncateLen-ellipsisLength,end="";return availableLength>0&&(end=url.substr(-1*Math.floor(availableLength/2))),(url.substr(0,Math.ceil(availableLength/2))+ellipsisChars+end).substr(0,availableLength+ellipsisLengthBeforeParsing)},Autolinker.truncate.TruncateSmart=function(url,truncateLen,ellipsisChars){var ellipsisLengthBeforeParsing,ellipsisLength;null==ellipsisChars?(ellipsisChars="&hellip;",ellipsisLength=3,ellipsisLengthBeforeParsing=8):(ellipsisLength=ellipsisChars.length,ellipsisLengthBeforeParsing=ellipsisChars.length);var buildUrl=function(urlObj){var url="";return urlObj.scheme&&urlObj.host&&(url+=urlObj.scheme+"://"),urlObj.host&&(url+=urlObj.host),urlObj.path&&(url+="/"+urlObj.path),urlObj.query&&(url+="?"+urlObj.query),urlObj.fragment&&(url+="#"+urlObj.fragment),url},buildSegment=function(segment,remainingAvailableLength){var remainingAvailableLengthHalf=remainingAvailableLength/2,startOffset=Math.ceil(remainingAvailableLengthHalf),endOffset=-1*Math.floor(remainingAvailableLengthHalf),end="";return endOffset<0&&(end=segment.substr(endOffset)),segment.substr(0,startOffset)+ellipsisChars+end};if(url.length<=truncateLen)return url;var availableLength=truncateLen-ellipsisLength,urlObj=function(url){var urlObj={},urlSub=url,match=urlSub.match(/^([a-z]+):\/\//i);return match&&(urlObj.scheme=match[1],urlSub=urlSub.substr(match[0].length)),match=urlSub.match(/^(.*?)(?=(\?|#|\/|$))/i),match&&(urlObj.host=match[1],urlSub=urlSub.substr(match[0].length)),match=urlSub.match(/^\/(.*?)(?=(\?|#|$))/i),match&&(urlObj.path=match[1],urlSub=urlSub.substr(match[0].length)),match=urlSub.match(/^\?(.*?)(?=(#|$))/i),match&&(urlObj.query=match[1],urlSub=urlSub.substr(match[0].length)),match=urlSub.match(/^#(.*?)$/i),match&&(urlObj.fragment=match[1]),urlObj}(url);if(urlObj.query){var matchQuery=urlObj.query.match(/^(.*?)(?=(\?|\#))(.*?)$/i);matchQuery&&(urlObj.query=urlObj.query.substr(0,matchQuery[1].length),url=buildUrl(urlObj))}if(url.length<=truncateLen)return url;if(urlObj.host&&(urlObj.host=urlObj.host.replace(/^www\./,""),url=buildUrl(urlObj)),url.length<=truncateLen)return url;var str="";if(urlObj.host&&(str+=urlObj.host),str.length>=availableLength)return urlObj.host.length==truncateLen?(urlObj.host.substr(0,truncateLen-ellipsisLength)+ellipsisChars).substr(0,availableLength+ellipsisLengthBeforeParsing):buildSegment(str,availableLength).substr(0,availableLength+ellipsisLengthBeforeParsing);var pathAndQuery="";if(urlObj.path&&(pathAndQuery+="/"+urlObj.path),urlObj.query&&(pathAndQuery+="?"+urlObj.query),pathAndQuery){if((str+pathAndQuery).length>=availableLength){if((str+pathAndQuery).length==truncateLen)return(str+pathAndQuery).substr(0,truncateLen);return(str+buildSegment(pathAndQuery,availableLength-str.length)).substr(0,availableLength+ellipsisLengthBeforeParsing)}str+=pathAndQuery}if(urlObj.fragment){var fragment="#"+urlObj.fragment;if((str+fragment).length>=availableLength){if((str+fragment).length==truncateLen)return(str+fragment).substr(0,truncateLen);return(str+buildSegment(fragment,availableLength-str.length)).substr(0,availableLength+ellipsisLengthBeforeParsing)}str+=fragment}if(urlObj.scheme&&urlObj.host){var scheme=urlObj.scheme+"://";if((str+scheme).length<availableLength)return(scheme+str).substr(0,truncateLen)}if(str.length<=truncateLen)return str;var end="";return availableLength>0&&(end=str.substr(-1*Math.floor(availableLength/2))),(str.substr(0,Math.ceil(availableLength/2))+ellipsisChars+end).substr(0,availableLength+ellipsisLengthBeforeParsing)},Autolinker})},87:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;exports.SOMETHING=null,exports.DEFAULTS={player_url:"",small_url:"",behavior:"selected"}},88:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0;exports.DEFAULT={},exports.COLORS=["#cc3232","#cc3289","#a332cc","#5b32cc","#324ecc","#3295cc","#2ebaa1","#29a659","#d2b211","#d58317","#d56017"]},89:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.DEFAULTS=exports.SOMETHING=void 0;var _rails=__webpack_require__(32),_rails2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_rails);exports.SOMETHING={},exports.DEFAULTS={version:_rails2.default.PLAYLOG_VERSION,score:null,scores:null,started_at:null,finished_at:null}},9:function(module,exports,__webpack_require__){"use strict";function escapeChar(chr){return escape[chr]}function extend(obj){for(var i=1;i<arguments.length;i++)for(var key in arguments[i])Object.prototype.hasOwnProperty.call(arguments[i],key)&&(obj[key]=arguments[i][key]);return obj}function indexOf(array,value){for(var i=0,len=array.length;i<len;i++)if(array[i]===value)return i;return-1}function escapeExpression(string){if("string"!=typeof string){if(string&&string.toHTML)return string.toHTML();if(null==string)return"";if(!string)return string+"";string=""+string}return possible.test(string)?string.replace(badChars,escapeChar):string}function isEmpty(value){return!value&&0!==value||!(!isArray(value)||0!==value.length)}function createFrame(object){var frame=extend({},object);return frame._parent=object,frame}function blockParams(params,ids){return params.path=ids,params}function appendContextPath(contextPath,id){return(contextPath?contextPath+".":"")+id}exports.__esModule=!0,exports.extend=extend,exports.indexOf=indexOf,exports.escapeExpression=escapeExpression,exports.isEmpty=isEmpty,exports.createFrame=createFrame,exports.blockParams=blockParams,exports.appendContextPath=appendContextPath;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},badChars=/[&<>"'`=]/g,possible=/[&<>"'`=]/,toString=Object.prototype.toString;exports.toString=toString;var isFunction=function(value){return"function"==typeof value};isFunction(/x/)&&(exports.isFunction=isFunction=function(value){return"function"==typeof value&&"[object Function]"===toString.call(value)}),exports.isFunction=isFunction;var isArray=Array.isArray||function(value){return!(!value||"object"!=typeof value)&&"[object Array]"===toString.call(value)};exports.isArray=isArray},90:function(module,exports){module.exports={NODE_EMOTIONS:["happy","normal","puzzled","unhappy","angry"],NODE_DEFAULT_EMOTION:"normal",NODE_COLORS:["#cc3232","#cc3289","#a332cc","#5b32cc","#324ecc","#3295cc","#2ebaa1","#29a659","#d2b211","#d58317","#d56017"],SCORE_UNKNOWN_COLOR:"#cdcdcd",THEME_FONTS:["Arial","Comic Sans MS","Courier","Georgia","Helvetica","Open Sans","Times New Roman","Verdana"],THEME_COLORS:["#000000","#ffffff","#888888","#cc3232","#cc3289","#a332cc","#5b32cc","#324ecc","#3295cc","#2ebaa1","#29a659","#d2b211","#d58317","#d56017"],PROJECT_EMBED_MAXWIDTH:800,PROJECT_EMBED_MAXHEIGHT:500,PROJECT_EMBED_MINWIDTH:440,PROJECT_EMBED_MINHEIGHT:370,PASSWORD_EXPIRATION_DAYS:60,PASSWORD_MIN_LENGTH:8,STUDENT_PASSWORD_MIN_LENGTH:4,FACILITATOR_PASSWORD_MIN_LENGTH:6,PLAYLOG_VERSION:2,REVIEWER_INVITE_TIMEOUT:600,SUPPORT_EMAIL:"support@branchtrack.com",VIDEO_FILE_SIZE_LIMIT_MB:64}},91:function(module,exports,__webpack_require__){"use strict";(function(Backbone,_){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var TimelineNode=function(_Backbone$Model){function TimelineNode(){return _classCallCheck(this,TimelineNode),_possibleConstructorReturn(this,_Backbone$Model.apply(this,arguments))}return _inherits(TimelineNode,_Backbone$Model),TimelineNode.prototype.initialize=function(attributes){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.parent=options.parent},TimelineNode.prototype.getVoiceURL=function(){return this.parent.getVoiceURL()},TimelineNode.prototype.getVideoURL=function(){return this.parent.getVideoURL()},TimelineNode.prototype.toJSON=function(){return this.pick("index","duration","answered_at","node_id","node_index","node_kind","node_content","edge_id","edge_content","edge_position","custom_content")},TimelineNode.prototype.eventJSON=function(){var hash=this.parent.eventJSON();return _.extend(hash,this.pick("score","scores")),hash},TimelineNode.prototype.scoreFor=function(uid){return(this.get("scores")||{})[uid]},TimelineNode.prototype.totalScoreFor=function(uid){return(this.get("total_scores")||{})[uid]},TimelineNode}(Backbone.Model);exports.default=TimelineNode,module.exports=exports.default}).call(exports,__webpack_require__(0),__webpack_require__(3))},92:function(module,exports,__webpack_require__){(function(global,setImmediate,$,jQuery){var require,require;!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){},{}],2:[function(_dereq_,module,exports){(function(global){var doccy,topLevel=void 0!==global?global:"undefined"!=typeof window?window:{},minDoc=_dereq_(1);"undefined"!=typeof document?doccy=document:(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"])||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],3:[function(_dereq_,module,exports){(function(global){var win;win="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{},module.exports=win}).call(this,void 0!==global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(_dereq_,module,exports){!function(root){function noop(){}function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments)}}function Promise(fn){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof fn)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(fn,this)}function handle(self,deferred){for(;3===self._state;)self=self._value;if(0===self._state)return void self._deferreds.push(deferred);self._handled=!0,Promise._immediateFn(function(){var cb=1===self._state?deferred.onFulfilled:deferred.onRejected;if(null===cb)return void(1===self._state?resolve:reject)(deferred.promise,self._value);var ret;try{ret=cb(self._value)}catch(e){return void reject(deferred.promise,e)}resolve(deferred.promise,ret)})}function resolve(self,newValue){try{if(newValue===self)throw new TypeError("A promise cannot be resolved with itself.");if(newValue&&("object"==typeof newValue||"function"==typeof newValue)){var then=newValue.then;if(newValue instanceof Promise)return self._state=3,self._value=newValue,void finale(self);if("function"==typeof then)return void doResolve(bind(then,newValue),self)}self._state=1,self._value=newValue,finale(self)}catch(e){reject(self,e)}}function reject(self,newValue){self._state=2,self._value=newValue,finale(self)}function finale(self){2===self._state&&0===self._deferreds.length&&Promise._immediateFn(function(){self._handled||Promise._unhandledRejectionFn(self._value)});for(var i=0,len=self._deferreds.length;i<len;i++)handle(self,self._deferreds[i]);self._deferreds=null}function Handler(onFulfilled,onRejected,promise){this.onFulfilled="function"==typeof onFulfilled?onFulfilled:null,this.onRejected="function"==typeof onRejected?onRejected:null,this.promise=promise}function doResolve(fn,self){var done=!1;try{fn(function(value){done||(done=!0,resolve(self,value))},function(reason){done||(done=!0,reject(self,reason))})}catch(ex){if(done)return;done=!0,reject(self,ex)}}var setTimeoutFunc=setTimeout;Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){var prom=new this.constructor(noop);return handle(this,new Handler(onFulfilled,onRejected,prom)),prom},Promise.all=function(arr){var args=Array.prototype.slice.call(arr);return new Promise(function(resolve,reject){function res(i,val){try{if(val&&("object"==typeof val||"function"==typeof val)){var then=val.then;if("function"==typeof then)return void then.call(val,function(val){res(i,val)},reject)}args[i]=val,0==--remaining&&resolve(args)}catch(ex){reject(ex)}}if(0===args.length)return resolve([]);for(var remaining=args.length,i=0;i<args.length;i++)res(i,args[i])})},Promise.resolve=function(value){return value&&"object"==typeof value&&value.constructor===Promise?value:new Promise(function(resolve){resolve(value)})},Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value)})},Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;i<len;i++)values[i].then(resolve,reject)})},Promise._immediateFn="function"==typeof setImmediate&&function(fn){setImmediate(fn)}||function(fn){setTimeoutFunc(fn,0)},Promise._unhandledRejectionFn=function(err){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",err)},Promise._setImmediateFn=function(fn){Promise._immediateFn=fn},Promise._setUnhandledRejectionFn=function(fn){Promise._unhandledRejectionFn=fn},void 0!==module&&module.exports?module.exports=Promise:root.Promise||(root.Promise=Promise)}(this)},{}],5:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_mejs=_dereq_(7),_mejs2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_mejs),_en=_dereq_(15),_general=_dereq_(22),i18n={lang:"en",en:_en.EN};i18n.language=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(null!==args&&void 0!==args&&args.length){if("string"!=typeof args[0])throw new TypeError("Language code must be a string value");if(!/^[a-z]{2}(\-[a-z]{2})?$/i.test(args[0]))throw new TypeError("Language code must have format `xx` or `xx-xx`");i18n.lang=args[0],void 0===i18n[args[0]]?(args[1]=null!==args[1]&&void 0!==args[1]&&"object"===_typeof(args[1])?args[1]:{},i18n[args[0]]=(0,_general.isObjectEmpty)(args[1])?_en.EN:args[1]):null!==args[1]&&void 0!==args[1]&&"object"===_typeof(args[1])&&(i18n[args[0]]=args[1])}return i18n.lang},i18n.t=function(message){var pluralParam=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof message&&message.length){var str=void 0,pluralForm=void 0,language=i18n.language(),_plural=function(input,number,form){return"object"!==(void 0===input?"undefined":_typeof(input))||"number"!=typeof number||"number"!=typeof form?input:function(){return[function(){return arguments.length<=1?void 0:arguments[1]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return 0===(arguments.length<=0?void 0:arguments[0])||1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1&&(arguments.length<=0?void 0:arguments[0])%100!=11?arguments.length<=1?void 0:arguments[1]:0!==(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])||11===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])||12===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:(arguments.length<=0?void 0:arguments[0])>2&&(arguments.length<=0?void 0:arguments[0])<20?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:0===(arguments.length<=0?void 0:arguments[0])||(arguments.length<=0?void 0:arguments[0])%100>0&&(arguments.length<=0?void 0:arguments[0])%100<20?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1&&(arguments.length<=0?void 0:arguments[0])%100!=11?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])%10>=2&&((arguments.length<=0?void 0:arguments[0])%100<10||(arguments.length<=0?void 0:arguments[0])%100>=20)?arguments.length<=2?void 0:arguments[2]:[3]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1&&(arguments.length<=0?void 0:arguments[0])%100!=11?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])%10>=2&&(arguments.length<=0?void 0:arguments[0])%10<=4&&((arguments.length<=0?void 0:arguments[0])%100<10||(arguments.length<=0?void 0:arguments[0])%100>=20)?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])>=2&&(arguments.length<=0?void 0:arguments[0])<=4?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])%10>=2&&(arguments.length<=0?void 0:arguments[0])%10<=4&&((arguments.length<=0?void 0:arguments[0])%100<10||(arguments.length<=0?void 0:arguments[0])%100>=20)?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return(arguments.length<=0?void 0:arguments[0])%100==1?arguments.length<=2?void 0:arguments[2]:(arguments.length<=0?void 0:arguments[0])%100==2?arguments.length<=3?void 0:arguments[3]:(arguments.length<=0?void 0:arguments[0])%100==3||(arguments.length<=0?void 0:arguments[0])%100==4?arguments.length<=4?void 0:arguments[4]:arguments.length<=1?void 0:arguments[1]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:(arguments.length<=0?void 0:arguments[0])>2&&(arguments.length<=0?void 0:arguments[0])<7?arguments.length<=3?void 0:arguments[3]:(arguments.length<=0?void 0:arguments[0])>6&&(arguments.length<=0?void 0:arguments[0])<11?arguments.length<=4?void 0:arguments[4]:arguments.length<=5?void 0:arguments[5]},function(){return 0===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=3?void 0:arguments[3]:(arguments.length<=0?void 0:arguments[0])%100>=3&&(arguments.length<=0?void 0:arguments[0])%100<=10?arguments.length<=4?void 0:arguments[4]:(arguments.length<=0?void 0:arguments[0])%100>=11?arguments.length<=5?void 0:arguments[5]:arguments.length<=6?void 0:arguments[6]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:0===(arguments.length<=0?void 0:arguments[0])||(arguments.length<=0?void 0:arguments[0])%100>1&&(arguments.length<=0?void 0:arguments[0])%100<11?arguments.length<=2?void 0:arguments[2]:(arguments.length<=0?void 0:arguments[0])%100>10&&(arguments.length<=0?void 0:arguments[0])%100<20?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return(arguments.length<=0?void 0:arguments[0])%10==1?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])%10==2?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 11!==(arguments.length<=0?void 0:arguments[0])&&(arguments.length<=0?void 0:arguments[0])%10==1?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:(arguments.length<=0?void 0:arguments[0])%10>=2&&(arguments.length<=0?void 0:arguments[0])%10<=4&&((arguments.length<=0?void 0:arguments[0])%100<10||(arguments.length<=0?void 0:arguments[0])%100>=20)?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:8!==(arguments.length<=0?void 0:arguments[0])&&11!==(arguments.length<=0?void 0:arguments[0])?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return 0===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:arguments.length<=2?void 0:arguments[2]},function(){return 1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:2===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:3===(arguments.length<=0?void 0:arguments[0])?arguments.length<=3?void 0:arguments[3]:arguments.length<=4?void 0:arguments[4]},function(){return 0===(arguments.length<=0?void 0:arguments[0])?arguments.length<=1?void 0:arguments[1]:1===(arguments.length<=0?void 0:arguments[0])?arguments.length<=2?void 0:arguments[2]:arguments.length<=3?void 0:arguments[3]}]}()[form].apply(null,[number].concat(input))};return void 0!==i18n[language]&&(str=i18n[language][message],null!==pluralParam&&"number"==typeof pluralParam&&(pluralForm=i18n[language]["mejs.plural-form"],str=_plural.apply(null,[str,pluralParam,pluralForm]))),!str&&i18n.en&&(str=i18n.en[message],null!==pluralParam&&"number"==typeof pluralParam&&(pluralForm=i18n.en["mejs.plural-form"],str=_plural.apply(null,[str,pluralParam,pluralForm]))),str=str||message,null!==pluralParam&&"number"==typeof pluralParam&&(str=str.replace("%1",pluralParam)),(0,_general.escapeHTML)(str)}return message},_mejs2.default.i18n=i18n,"undefined"!=typeof mejsL10n&&_mejs2.default.i18n.language(mejsL10n.language,mejsL10n.strings),exports.default=i18n},{15:15,22:22,7:7}],6:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_window=_dereq_(3),_window2=_interopRequireDefault(_window),_document=_dereq_(2),_document2=_interopRequireDefault(_document),_mejs=_dereq_(7),_mejs2=_interopRequireDefault(_mejs),_general=_dereq_(22),_media2=_dereq_(23),_renderer=_dereq_(8),_constants=_dereq_(20),MediaElement=function MediaElement(idOrNode,options,sources){var _this=this;_classCallCheck(this,MediaElement);var t=this;sources=Array.isArray(sources)?sources:null,t.defaults={renderers:[],fakeNodeName:"mediaelementwrapper",pluginPath:"build/",shimScriptAccess:"sameDomain",customError:""},options=Object.assign(t.defaults,options),t.mediaElement=_document2.default.createElement(options.fakeNodeName);var id=idOrNode,error=!1;if("string"==typeof idOrNode?t.mediaElement.originalNode=_document2.default.getElementById(idOrNode):(t.mediaElement.originalNode=idOrNode,id=idOrNode.id),void 0===t.mediaElement.originalNode||null===t.mediaElement.originalNode)return null;t.mediaElement.options=options,id=id||"mejs_"+Math.random().toString().slice(2),t.mediaElement.originalNode.setAttribute("id",id+"_from_mejs"),["video","audio"].indexOf(t.mediaElement.originalNode.tagName.toLowerCase())>-1&&!t.mediaElement.originalNode.getAttribute("preload")&&t.mediaElement.originalNode.setAttribute("preload","none"),t.mediaElement.originalNode.parentNode.insertBefore(t.mediaElement,t.mediaElement.originalNode),t.mediaElement.appendChild(t.mediaElement.originalNode);var processURL=function(url,type){if(_mejs2.default.html5media.mediaTypes.indexOf(type)>-1&&"https:"===_window2.default.location.protocol&&_constants.IS_IOS){var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var _url=_window2.default.URL||_window2.default.webkitURL,blobUrl=_url.createObjectURL(this.response);return t.mediaElement.originalNode.setAttribute("src",blobUrl),blobUrl}return url},xhr.open("GET",url),xhr.responseType="blob",xhr.send()}return url},mediaFiles=void 0;if(null!==sources)mediaFiles=sources;else if(null!==t.mediaElement.originalNode)switch(mediaFiles=[],t.mediaElement.originalNode.nodeName.toLowerCase()){case"iframe":mediaFiles.push({type:"",src:t.mediaElement.originalNode.getAttribute("src")});break;case"audio":case"video":var _sources=t.mediaElement.originalNode.children.length,nodeSource=t.mediaElement.originalNode.getAttribute("src");if(nodeSource){var node=t.mediaElement.originalNode,type=(0,_media2.formatType)(nodeSource,node.getAttribute("type"));mediaFiles.push({type:type,src:processURL(nodeSource,type)})}for(var i=0;i<_sources;i++){var n=t.mediaElement.originalNode.children[i];if("source"===n.tagName.toLowerCase()){var src=n.getAttribute("src"),_type=(0,_media2.formatType)(src,n.getAttribute("type"));mediaFiles.push({type:_type,src:processURL(src,_type)})}}}t.mediaElement.id=id,t.mediaElement.renderers={},t.mediaElement.events={},t.mediaElement.promises=[],t.mediaElement.renderer=null,t.mediaElement.rendererName=null,t.mediaElement.changeRenderer=function(rendererName,mediaFiles){var t=_this,media=Object.keys(mediaFiles[0]).length>2?mediaFiles[0]:mediaFiles[0].src;if(void 0!==t.mediaElement.renderer&&null!==t.mediaElement.renderer&&t.mediaElement.renderer.name===rendererName)return t.mediaElement.renderer.pause(),t.mediaElement.renderer.stop&&t.mediaElement.renderer.stop(),t.mediaElement.renderer.show(),t.mediaElement.renderer.setSrc(media),!0;void 0!==t.mediaElement.renderer&&null!==t.mediaElement.renderer&&(t.mediaElement.renderer.pause(),t.mediaElement.renderer.stop&&t.mediaElement.renderer.stop(),t.mediaElement.renderer.hide());var newRenderer=t.mediaElement.renderers[rendererName],newRendererType=null;if(void 0!==newRenderer&&null!==newRenderer)return newRenderer.show(),newRenderer.setSrc(media),t.mediaElement.renderer=newRenderer,t.mediaElement.rendererName=rendererName,!0;for(var rendererArray=t.mediaElement.options.renderers.length?t.mediaElement.options.renderers:_renderer.renderer.order,_i=0,total=rendererArray.length;_i<total;_i++){var index=rendererArray[_i];if(index===rendererName){newRendererType=_renderer.renderer.renderers[index];var renderOptions=Object.assign(newRendererType.options,t.mediaElement.options);return newRenderer=newRendererType.create(t.mediaElement,renderOptions,mediaFiles),newRenderer.name=rendererName,t.mediaElement.renderers[newRendererType.name]=newRenderer,t.mediaElement.renderer=newRenderer,t.mediaElement.rendererName=rendererName,newRenderer.show(),!0}}return!1},t.mediaElement.setSize=function(width,height){void 0!==t.mediaElement.renderer&&null!==t.mediaElement.renderer&&t.mediaElement.renderer.setSize(width,height)},t.mediaElement.createErrorMessage=function(urlList){urlList=Array.isArray(urlList)?urlList:[];var errorContainer=_document2.default.createElement("div");errorContainer.className="me_cannotplay",errorContainer.style.width="100%",errorContainer.style.height="100%";var errorContent=t.mediaElement.options.customError;if(!errorContent){var poster=t.mediaElement.originalNode.getAttribute("poster");poster&&(errorContent+='<img src="'+poster+'" width="100%" height="100%" alt="'+_mejs2.default.i18n.t("mejs.download-file")+'">');for(var _i2=0,total=urlList.length;_i2<total;_i2++){var url=urlList[_i2];errorContent+='<a href="'+url.src+'" data-type="'+url.type+'"><span>'+_mejs2.default.i18n.t("mejs.download-file")+": "+url.src+"</span></a>"}}errorContainer.innerHTML=errorContent,t.mediaElement.originalNode.parentNode.insertBefore(errorContainer,t.mediaElement.originalNode),t.mediaElement.originalNode.style.display="none",error=!0};var props=_mejs2.default.html5media.properties,methods=_mejs2.default.html5media.methods,addProperty=function(obj,name,onGet,onSet){var oldValue=obj[name],getFn=function(){return onGet.apply(obj,[oldValue])},setFn=function(newValue){return oldValue=onSet.apply(obj,[newValue])};Object.defineProperty(obj,name,{get:getFn,set:setFn})},getSrc=function(){return void 0!==t.mediaElement.renderer&&null!==t.mediaElement.renderer?t.mediaElement.renderer.getSrc():null},setSrc=function(value){var mediaFiles=[];if("string"==typeof value)mediaFiles.push({src:value,type:value?(0,_media2.getTypeFromFile)(value):""});else if("object"===(void 0===value?"undefined":_typeof(value))&&void 0!==value.src){var _src=(0,_media2.absolutizeUrl)(value.src),_type2=value.type,media=Object.assign(value,{src:_src,type:""!==_type2&&null!==_type2&&void 0!==_type2||!_src?_type2:(0,_media2.getTypeFromFile)(_src)});mediaFiles.push(media)}else if(Array.isArray(value))for(var _i3=0,total=value.length;_i3<total;_i3++){var _src2=(0,_media2.absolutizeUrl)(value[_i3].src),_type3=value[_i3].type,_media=Object.assign(value[_i3],{src:_src2,type:""!==_type3&&null!==_type3&&void 0!==_type3||!_src2?_type3:(0,_media2.getTypeFromFile)(_src2)});mediaFiles.push(_media)}var renderInfo=_renderer.renderer.select(mediaFiles,t.mediaElement.options.renderers.length?t.mediaElement.options.renderers:[]),event=void 0;return t.mediaElement.paused||(t.mediaElement.pause(),event=(0,_general.createEvent)("pause",t.mediaElement),t.mediaElement.dispatchEvent(event)),t.mediaElement.originalNode.setAttribute("src",mediaFiles[0].src||""),t.mediaElement.querySelector(".me_cannotplay")&&t.mediaElement.querySelector(".me_cannotplay").remove(),null===renderInfo?(t.mediaElement.createErrorMessage(mediaFiles),event=(0,_general.createEvent)("error",t.mediaElement),event.message="No renderer found",void t.mediaElement.dispatchEvent(event)):t.mediaElement.changeRenderer(renderInfo.rendererName,mediaFiles)};addProperty(t.mediaElement,"src",getSrc,setSrc),t.mediaElement.getSrc=getSrc,t.mediaElement.setSrc=setSrc;for(var _i4=0,total=props.length;_i4<total;_i4++)!function(propName){if("src"!==propName){var capName=""+propName.substring(0,1).toUpperCase()+propName.substring(1),getFn=function(){return void 0!==t.mediaElement.renderer&&null!==t.mediaElement.renderer&&"function"==typeof t.mediaElement.renderer["get"+capName]?t.mediaElement.renderer["get"+capName]():null},setFn=function(value){void 0!==t.mediaElement.renderer&&null!==t.mediaElement.renderer&&"function"==typeof t.mediaElement.renderer["set"+capName]&&t.mediaElement.renderer["set"+capName](value)};addProperty(t.mediaElement,propName,getFn,setFn),t.mediaElement["get"+capName]=getFn,t.mediaElement["set"+capName]=setFn}}(props[_i4]);for(var _i5=0,_total=methods.length;_i5<_total;_i5++)!function(methodName){t.mediaElement[methodName]=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(void 0!==t.mediaElement.renderer&&null!==t.mediaElement.renderer&&"function"==typeof t.mediaElement.renderer[methodName])try{"play"===methodName&&t.mediaElement.promises.length?Promise.all(t.mediaElement.promises).then(function(){setTimeout(function(){t.mediaElement.renderer[methodName](args)},250)}).catch(function(e){if(void 0===t.mediaElement.renderer||null===t.mediaElement.renderer){var event=(0,_general.createEvent)("error",t.mediaElement);event.message=e,t.mediaElement.dispatchEvent(event),t.mediaElement.createErrorMessage(mediaFiles)}}):t.mediaElement.renderer[methodName](args)}catch(e){t.mediaElement.createErrorMessage()}return null}}(methods[_i5]);return t.mediaElement.addEventListener=function(eventName,callback){t.mediaElement.events[eventName]=t.mediaElement.events[eventName]||[],t.mediaElement.events[eventName].push(callback)},t.mediaElement.removeEventListener=function(eventName,callback){if(!eventName)return t.mediaElement.events={},!0;var callbacks=t.mediaElement.events[eventName];if(!callbacks)return!0;if(!callback)return t.mediaElement.events[eventName]=[],!0;for(var _i6=0;_i6<callbacks.length;_i6++)if(callbacks[_i6]===callback)return t.mediaElement.events[eventName].splice(_i6,1),!0;return!1},t.mediaElement.dispatchEvent=function(event){var callbacks=t.mediaElement.events[event.type];if(callbacks)for(var _i7=0;_i7<callbacks.length;_i7++)callbacks[_i7].apply(null,[event])},mediaFiles.length&&(t.mediaElement.src=mediaFiles),t.mediaElement.promises.length?Promise.all(t.mediaElement.promises).then(function(){t.mediaElement.options.success&&t.mediaElement.options.success(t.mediaElement,t.mediaElement.originalNode)}).catch(function(){error&&t.mediaElement.options.error&&t.mediaElement.options.error(t.mediaElement,t.mediaElement.originalNode)}):(t.mediaElement.options.success&&t.mediaElement.options.success(t.mediaElement,t.mediaElement.originalNode),error&&t.mediaElement.options.error&&t.mediaElement.options.error(t.mediaElement,t.mediaElement.originalNode)),t.mediaElement};_window2.default.MediaElement=MediaElement,exports.default=MediaElement},{2:2,20:20,22:22,23:23,3:3,7:7,8:8}],7:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _window=_dereq_(3),_window2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_window),mejs={};mejs.version="4.1.3",mejs.html5media={properties:["volume","src","currentTime","muted","duration","paused","ended","buffered","error","networkState","readyState","seeking","seekable","currentSrc","preload","bufferedBytes","bufferedTime","initialTime","startOffsetTime","defaultPlaybackRate","playbackRate","played","autoplay","loop","controls"],readOnlyProperties:["duration","paused","ended","buffered","error","networkState","readyState","seeking","seekable"],methods:["load","play","pause","canPlayType"],events:["loadstart","durationchange","loadedmetadata","loadeddata","progress","canplay","canplaythrough","suspend","abort","error","emptied","stalled","play","playing","pause","waiting","seeking","seeked","timeupdate","ended","ratechange","volumechange"],mediaTypes:["audio/mp3","audio/ogg","audio/oga","audio/wav","audio/x-wav","audio/wave","audio/x-pn-wav","audio/mpeg","audio/mp4","video/mp4","video/webm","video/ogg","video/ogv"]},_window2.default.mejs=mejs,exports.default=mejs},{3:3}],8:[function(_dereq_,module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderer=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_mejs=_dereq_(7),_mejs2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_mejs),Renderer=function(){function Renderer(){_classCallCheck(this,Renderer),this.renderers={},this.order=[]}return _createClass(Renderer,[{key:"add",value:function(renderer){if(void 0===renderer.name)throw new TypeError("renderer must contain at least `name` property");this.renderers[renderer.name]=renderer,this.order.push(renderer.name)}},{key:"select",value:function(mediaFiles){var renderers=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],renderersLength=renderers.length;if(renderers=renderers.length?renderers:this.order,!renderersLength){var rendererIndicator=[/^(html5|native)/i,/^flash/i,/iframe$/i],rendererRanking=function(renderer){for(var i=0,total=rendererIndicator.length;i<total;i++)if(rendererIndicator[i].test(renderer))return i;return rendererIndicator.length};renderers.sort(function(a,b){return rendererRanking(a)-rendererRanking(b)})}for(var i=0,total=renderers.length;i<total;i++){var key=renderers[i],_renderer=this.renderers[key];if(null!==_renderer&&void 0!==_renderer)for(var j=0,jl=mediaFiles.length;j<jl;j++)if("function"==typeof _renderer.canPlayType&&"string"==typeof mediaFiles[j].type&&_renderer.canPlayType(mediaFiles[j].type))return{rendererName:_renderer.name,src:mediaFiles[j].src}}return null}},{key:"order",set:function(order){if(!Array.isArray(order))throw new TypeError("order must be an array of strings.");this._order=order},get:function(){return this._order}},{key:"renderers",set:function(renderers){if(null!==renderers&&"object"!==(void 0===renderers?"undefined":_typeof(renderers)))throw new TypeError("renderers must be an array of objects.");this._renderers=renderers},get:function(){return this._renderers}}]),Renderer}(),renderer=exports.renderer=new Renderer;_mejs2.default.Renderers=renderer},{7:7}],9:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _window=_dereq_(3),_window2=_interopRequireDefault(_window),_document=_dereq_(2),_document2=_interopRequireDefault(_document),_i18n=_dereq_(5),_i18n2=_interopRequireDefault(_i18n),_player=_dereq_(17),_player2=_interopRequireDefault(_player),_constants=_dereq_(20),Features=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_constants),_general=_dereq_(22),_dom=_dereq_(21);Object.assign(_player.config,{usePluginFullScreen:!0,fullscreenText:null}),Object.assign(_player2.default.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,isPluginClickThroughCreated:!1,fullscreenMode:"",containerSizeTimeout:null,buildfullscreen:function(player){if(player.isVideo){player.isInIframe=_window2.default.location!==_window2.default.parent.location,player.detectFullscreenMode();var t=this,fullscreenTitle=(0,_general.isString)(t.options.fullscreenText)?t.options.fullscreenText:_i18n2.default.t("mejs.fullscreen"),fullscreenBtn=_document2.default.createElement("div");if(fullscreenBtn.className=t.options.classPrefix+"button "+t.options.classPrefix+"fullscreen-button",fullscreenBtn.innerHTML='<button type="button" aria-controls="'+t.id+'" title="'+fullscreenTitle+'" aria-label="'+fullscreenTitle+'" tabindex="0"></button>',t.addControlElement(fullscreenBtn,"fullscreen"),fullscreenBtn.addEventListener("click",function(){Features.HAS_TRUE_NATIVE_FULLSCREEN&&Features.IS_FULLSCREEN||player.isFullScreen?player.exitFullScreen():player.enterFullScreen()}),player.fullscreenBtn=fullscreenBtn,t.globalBind("keydown",function(e){27===(e.which||e.keyCode||0)&&(Features.HAS_TRUE_NATIVE_FULLSCREEN&&Features.IS_FULLSCREEN||t.isFullScreen)&&player.exitFullScreen()}),t.normalHeight=0,t.normalWidth=0,Features.HAS_TRUE_NATIVE_FULLSCREEN){var fullscreenChanged=function(){player.isFullScreen&&(Features.isFullScreen()?(player.isNativeFullScreen=!0,player.setControlsSize()):(player.isNativeFullScreen=!1,player.exitFullScreen()))};player.globalBind(Features.FULLSCREEN_EVENT_NAME,fullscreenChanged)}}},detectFullscreenMode:function(){var t=this,isNative=null!==t.media.rendererName&&/(native|html5)/i.test(t.media.rendererName),mode="";return mode=Features.HAS_TRUE_NATIVE_FULLSCREEN&&isNative?"native-native":Features.HAS_TRUE_NATIVE_FULLSCREEN&&!isNative?"plugin-native":t.usePluginFullScreen&&Features.SUPPORT_POINTER_EVENTS?"plugin-click":"fullwindow",t.fullscreenMode=mode,mode},cleanfullscreen:function(player){player.exitFullScreen()},enterFullScreen:function(){var t=this,isNative=null!==t.media.rendererName&&/(html5|native)/i.test(t.media.rendererName),containerStyles=getComputedStyle(t.container);if(Features.IS_IOS&&Features.HAS_IOS_FULLSCREEN)return void("function"==typeof t.media.webkitEnterFullscreen?t.media.webkitEnterFullscreen():t.media.originalNode.webkitEnterFullscreen());if((0,_dom.addClass)(_document2.default.documentElement,t.options.classPrefix+"fullscreen"),(0,_dom.addClass)(t.container,t.options.classPrefix+"container-fullscreen"),t.normalHeight=parseFloat(containerStyles.height),t.normalWidth=parseFloat(containerStyles.width),"native-native"!==t.fullscreenMode&&"plugin-native"!==t.fullscreenMode||(Features.requestFullScreen(t.container),t.isInIframe&&setTimeout(function checkFullscreen(){if(t.isNativeFullScreen){var windowWidth=_window2.default.innerWidth||_document2.default.documentElement.clientWidth||_document2.default.body.clientWidth,screenWidth=screen.width;Math.abs(screenWidth-windowWidth)>.002*screenWidth?t.exitFullScreen():setTimeout(checkFullscreen,500)}},1e3)),t.container.style.width="100%",t.container.style.height="100%",t.containerSizeTimeout=setTimeout(function(){t.container.style.width="100%",t.container.style.height="100%",t.setControlsSize()},500),isNative)t.node.style.width="100%",t.node.style.height="100%";else for(var elements=t.container.querySelectorAll("iframe, embed, object, video"),_total=elements.length,i=0;i<_total;i++)elements[i].style.width="100%",elements[i].style.height="100%";t.options.setDimensions&&"function"==typeof t.media.setSize&&t.media.setSize(screen.width,screen.height);for(var layers=t.layers.children,total=layers.length,_i=0;_i<total;_i++)layers[_i].style.width="100%",layers[_i].style.height="100%";t.fullscreenBtn&&((0,_dom.removeClass)(t.fullscreenBtn,t.options.classPrefix+"fullscreen"),(0,_dom.addClass)(t.fullscreenBtn,t.options.classPrefix+"unfullscreen")),t.setControlsSize(),t.isFullScreen=!0;var zoomFactor=Math.min(screen.width/t.width,screen.height/t.height),captionText=t.container.querySelector("."+t.options.classPrefix+"captions-text");captionText&&(captionText.style.fontSize=100*zoomFactor+"%",captionText.style.lineHeight="normal",t.container.querySelector("."+t.options.classPrefix+"captions-position").style.bottom="45px");var event=(0,_general.createEvent)("enteredfullscreen",t.container);t.container.dispatchEvent(event)},exitFullScreen:function(){var t=this,isNative=null!==t.media.rendererName&&/(native|html5)/i.test(t.media.rendererName);if(clearTimeout(t.containerSizeTimeout),Features.HAS_TRUE_NATIVE_FULLSCREEN&&(Features.IS_FULLSCREEN||t.isFullScreen)&&Features.cancelFullScreen(),(0,_dom.removeClass)(_document2.default.documentElement,t.options.classPrefix+"fullscreen"),(0,_dom.removeClass)(t.container,t.options.classPrefix+"container-fullscreen"),t.options.setDimensions){if(t.container.style.width=t.normalWidth+"px",t.container.style.height=t.normalHeight+"px",isNative)t.node.style.width=t.normalWidth+"px",t.node.style.height=t.normalHeight+"px";else for(var elements=t.container.querySelectorAll("iframe, embed, object, video"),_total2=elements.length,i=0;i<_total2;i++)elements[i].style.width=t.normalWidth+"px",elements[i].style.height=t.normalHeight+"px";"function"==typeof t.media.setSize&&t.media.setSize(t.normalWidth,t.normalHeight);for(var layers=t.layers.children,total=layers.length,_i2=0;_i2<total;_i2++)layers[_i2].style.width=t.normalWidth+"px",layers[_i2].style.height=t.normalHeight+"px"}t.fullscreenBtn&&((0,_dom.removeClass)(t.fullscreenBtn,t.options.classPrefix+"unfullscreen"),(0,_dom.addClass)(t.fullscreenBtn,t.options.classPrefix+"fullscreen")),t.setControlsSize(),t.isFullScreen=!1;var captionText=t.container.querySelector("."+t.options.classPrefix+"captions-text");captionText&&(captionText.style.fontSize="",captionText.style.lineHeight="",t.container.querySelector("."+t.options.classPrefix+"captions-position").style.bottom="");var event=(0,_general.createEvent)("exitedfullscreen",t.container);t.container.dispatchEvent(event)}})},{17:17,2:2,20:20,21:21,22:22,3:3,5:5}],10:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _document=_dereq_(2),_document2=_interopRequireDefault(_document),_player=_dereq_(17),_player2=_interopRequireDefault(_player),_i18n=_dereq_(5),_i18n2=_interopRequireDefault(_i18n),_general=_dereq_(22),_dom=_dereq_(21);Object.assign(_player.config,{playText:null,pauseText:null}),Object.assign(_player2.default.prototype,{buildplaypause:function(player,controls,layers,media){function togglePlayPause(which){"play"===which?((0,_dom.removeClass)(play,t.options.classPrefix+"play"),(0,_dom.removeClass)(play,t.options.classPrefix+"replay"),(0,_dom.addClass)(play,t.options.classPrefix+"pause"),playBtn.setAttribute("title",pauseTitle),playBtn.setAttribute("aria-label",pauseTitle)):((0,_dom.removeClass)(play,t.options.classPrefix+"pause"),(0,_dom.removeClass)(play,t.options.classPrefix+"replay"),(0,_dom.addClass)(play,t.options.classPrefix+"play"),playBtn.setAttribute("title",playTitle),playBtn.setAttribute("aria-label",playTitle))}var t=this,op=t.options,playTitle=(0,_general.isString)(op.playText)?op.playText:_i18n2.default.t("mejs.play"),pauseTitle=(0,_general.isString)(op.pauseText)?op.pauseText:_i18n2.default.t("mejs.pause"),play=_document2.default.createElement("div");play.className=t.options.classPrefix+"button "+t.options.classPrefix+"playpause-button "+t.options.classPrefix+"play",play.innerHTML='<button type="button" aria-controls="'+t.id+'" title="'+playTitle+'" aria-label="'+pauseTitle+'" tabindex="0"></button>',play.addEventListener("click",function(){media.paused?media.play():media.pause()});var playBtn=play.querySelector("button");t.addControlElement(play,"playpause"),togglePlayPause("pse"),media.addEventListener("loadedmetadata",function(){-1===media.rendererName.indexOf("flash")&&togglePlayPause("pse")}),media.addEventListener("play",function(){togglePlayPause("play")}),media.addEventListener("playing",function(){togglePlayPause("play")}),media.addEventListener("pause",function(){togglePlayPause("pse")}),media.addEventListener("ended",function(){player.options.loop||((0,_dom.removeClass)(play,t.options.classPrefix+"pause"),(0,_dom.removeClass)(play,t.options.classPrefix+"play"),(0,_dom.addClass)(play,t.options.classPrefix+"replay"),playBtn.setAttribute("title",playTitle),playBtn.setAttribute("aria-label",playTitle))})}})},{17:17,2:2,21:21,22:22,5:5}],11:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _document=_dereq_(2),_document2=_interopRequireDefault(_document),_player=_dereq_(17),_player2=_interopRequireDefault(_player),_i18n=_dereq_(5),_i18n2=_interopRequireDefault(_i18n),_constants=_dereq_(20),_time=_dereq_(25),_dom=_dereq_(21);Object.assign(_player.config,{enableProgressTooltip:!0,useSmoothHover:!0}),Object.assign(_player2.default.prototype,{buildprogress:function(player,controls,layers,media){var lastKeyPressTime=0,mouseIsDown=!1,startedPaused=!1,t=this,autoRewindInitial=player.options.autoRewind,tooltip=player.options.enableProgressTooltip?'<span class="'+t.options.classPrefix+'time-float"><span class="'+t.options.classPrefix+'time-float-current">00:00</span><span class="'+t.options.classPrefix+'time-float-corner"></span></span>':"",rail=_document2.default.createElement("div");rail.className=t.options.classPrefix+"time-rail",rail.innerHTML='<span class="'+t.options.classPrefix+"time-total "+t.options.classPrefix+'time-slider"><span class="'+t.options.classPrefix+'time-buffering"></span><span class="'+t.options.classPrefix+'time-loaded"></span><span class="'+t.options.classPrefix+'time-current"></span><span class="'+t.options.classPrefix+'time-hovered no-hover"></span><span class="'+t.options.classPrefix+'time-handle"><span class="'+t.options.classPrefix+'time-handle-content"></span></span>'+tooltip+"</span>",t.addControlElement(rail,"progress"),controls.querySelector("."+t.options.classPrefix+"time-buffering").style.display="none",t.rail=controls.querySelector("."+t.options.classPrefix+"time-rail"),t.total=controls.querySelector("."+t.options.classPrefix+"time-total"),t.loaded=controls.querySelector("."+t.options.classPrefix+"time-loaded"),t.current=controls.querySelector("."+t.options.classPrefix+"time-current"),t.handle=controls.querySelector("."+t.options.classPrefix+"time-handle"),t.timefloat=controls.querySelector("."+t.options.classPrefix+"time-float"),t.timefloatcurrent=controls.querySelector("."+t.options.classPrefix+"time-float-current"),t.slider=controls.querySelector("."+t.options.classPrefix+"time-slider"),t.hovered=controls.querySelector("."+t.options.classPrefix+"time-hovered"),t.newTime=0,t.forcedHandlePause=!1,t.setTransformStyle=function(element,value){element.style.transform=value,element.style.webkitTransform=value,element.style.MozTransform=value,element.style.msTransform=value,element.style.OTransform=value};var handleMouseMove=function(e){var totalStyles=getComputedStyle(t.total),offsetStyles=(0,_dom.offset)(t.total),width=parseFloat(totalStyles.width),transform=function(){return void 0!==totalStyles.webkitTransform?"webkitTransform":void 0!==totalStyles.mozTransform?"mozTransform ":void 0!==totalStyles.oTransform?"oTransform":void 0!==totalStyles.msTransform?"msTransform":"transform"}(),cssMatrix=function(){return"WebKitCSSMatrix"in window?"WebKitCSSMatrix":"MSCSSMatrix"in window?"MSCSSMatrix":"CSSMatrix"in window?"CSSMatrix":void 0}(),percentage=0,pos=0,x=void 0;if(x=e.originalEvent&&e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.changedTouches?e.changedTouches[0].pageX:e.pageX,t.getDuration()&&(x<offsetStyles.left?x=offsetStyles.left:x>width+offsetStyles.left&&(x=width+offsetStyles.left),pos=x-offsetStyles.left,percentage=pos/width,t.newTime=percentage<=.02?0:percentage*t.getDuration(),mouseIsDown&&null!==t.getCurrentTime()&&t.newTime.toFixed(4)!==t.getCurrentTime().toFixed(4)&&(t.setCurrentRailHandle(t.newTime),t.updateCurrent(t.newTime)),!_constants.IS_IOS&&!_constants.IS_ANDROID&&t.timefloat)){if(pos<0&&(pos=0),t.options.useSmoothHover&&null!==cssMatrix&&void 0!==window[cssMatrix]){var matrix=new window[cssMatrix](getComputedStyle(t.handle)[transform]),handleLocation=matrix.m41,hoverScaleX=pos/parseFloat(getComputedStyle(t.total).width)-handleLocation/parseFloat(getComputedStyle(t.total).width);t.hovered.style.left=handleLocation+"px",t.setTransformStyle(t.hovered,"scaleX("+hoverScaleX+")"),t.hovered.setAttribute("pos",pos),hoverScaleX>=0?(0,_dom.removeClass)(t.hovered,"negative"):(0,_dom.addClass)(t.hovered,"negative")}t.timefloat.style.left=pos+"px",t.timefloatcurrent.innerHTML=(0,_time.secondsToTimeCode)(t.newTime,player.options.alwaysShowHours,player.options.showTimecodeFrameCount,player.options.framesPerSecond,player.options.secondsDecimalLength),t.timefloat.style.display="block"}},updateSlider=function(){var seconds=t.getCurrentTime(),timeSliderText=_i18n2.default.t("mejs.time-slider"),time=(0,_time.secondsToTimeCode)(seconds,player.options.alwaysShowHours,player.options.showTimecodeFrameCount,player.options.framesPerSecond,player.options.secondsDecimalLength),duration=t.getDuration();t.slider.setAttribute("role","slider"),t.slider.tabIndex=0,media.paused?(t.slider.setAttribute("aria-label",timeSliderText),t.slider.setAttribute("aria-valuemin",0),t.slider.setAttribute("aria-valuemax",duration),t.slider.setAttribute("aria-valuenow",seconds),t.slider.setAttribute("aria-valuetext",time)):(t.slider.removeAttribute("aria-label"),t.slider.removeAttribute("aria-valuemin"),t.slider.removeAttribute("aria-valuemax"),t.slider.removeAttribute("aria-valuenow"),t.slider.removeAttribute("aria-valuetext"))},restartPlayer=function(){new Date-lastKeyPressTime>=1e3&&media.play()},handleMouseup=function(){mouseIsDown&&null!==t.getCurrentTime()&&t.newTime.toFixed(4)!==t.getCurrentTime().toFixed(4)&&(t.setCurrentTime(t.newTime),player.setCurrentRail(),t.updateCurrent(t.newTime)),t.forcedHandlePause&&t.media.play(),t.forcedHandlePause=!1};t.slider.addEventListener("focus",function(){player.options.autoRewind=!1}),t.slider.addEventListener("blur",function(){player.options.autoRewind=autoRewindInitial}),t.slider.addEventListener("keydown",function(e){if(new Date-lastKeyPressTime>=1e3&&(startedPaused=media.paused),t.options.keyActions.length){var keyCode=e.which||e.keyCode||0,duration=t.getDuration(),seekForward=player.options.defaultSeekForwardInterval(media),seekBackward=player.options.defaultSeekBackwardInterval(media),seekTime=t.getCurrentTime();switch(keyCode){case 37:case 40:t.getDuration()!==1/0&&(seekTime-=seekBackward);break;case 39:case 38:t.getDuration()!==1/0&&(seekTime+=seekForward);break;case 36:seekTime=0;break;case 35:seekTime=duration;break;case 32:return void(_constants.IS_FIREFOX||(media.paused?media.play():media.pause()));case 13:return void(media.paused?media.play():media.pause());default:return}seekTime=seekTime<0?0:seekTime>=duration?duration:Math.floor(seekTime),lastKeyPressTime=new Date,startedPaused||media.pause(),seekTime<t.getDuration()&&!startedPaused&&setTimeout(restartPlayer,1100),t.setCurrentTime(seekTime),e.preventDefault(),e.stopPropagation()}});var events=["mousedown","touchstart"];t.slider.addEventListener("dragstart",function(){return!1});for(var i=0,total=events.length;i<total;i++)t.slider.addEventListener(events[i],function(e){if(t.forcedHandlePause=!1,t.getDuration()!==1/0&&(1===e.which||0===e.which)){media.paused||(t.media.pause(),t.forcedHandlePause=!0),mouseIsDown=!0,handleMouseMove(e);for(var endEvents=["mouseup","touchend"],j=0,totalEvents=endEvents.length;j<totalEvents;j++)t.container.addEventListener(endEvents[j],function(event){var target=event.target;(target===t.slider||target.closest("."+t.options.classPrefix+"time-slider"))&&handleMouseMove(event)});t.globalBind("mouseup.dur touchend.dur",function(){handleMouseup(),mouseIsDown=!1,t.timefloat&&(t.timefloat.style.display="none"),t.globalUnbind("mousemove.dur touchmove.dur mouseup.dur touchend.dur")})}});t.slider.addEventListener("mouseenter",function(e){e.target===t.slider&&t.getDuration()!==1/0&&(t.container.addEventListener("mousemove",function(event){var target=event.target;(target===t.slider||target.closest("."+t.options.classPrefix+"time-slider"))&&handleMouseMove(event)}),!t.timefloat||_constants.IS_IOS||_constants.IS_ANDROID||(t.timefloat.style.display="block"),t.hovered&&!_constants.IS_IOS&&!_constants.IS_ANDROID&&t.options.useSmoothHover&&(0,_dom.removeClass)(t.hovered,"no-hover"))}),t.slider.addEventListener("mouseleave",function(){t.getDuration()!==1/0&&(mouseIsDown||(t.globalUnbind("mousemove.dur"),t.timefloat&&(t.timefloat.style.display="none"),t.hovered&&t.options.useSmoothHover&&(0,_dom.addClass)(t.hovered,"no-hover")))}),media.addEventListener("progress",function(e){var broadcast=controls.querySelector("."+t.options.classPrefix+"broadcast");if(t.getDuration()!==1/0)broadcast&&(t.slider.style.display="",broadcast.remove()),player.setProgressRail(e),t.forcedHandlePause||player.setCurrentRail(e);else if(!broadcast){var label=_document2.default.createElement("span");label.className=t.options.classPrefix+"broadcast",label.innerText=_i18n2.default.t("mejs.live-broadcast"),t.slider.style.display="none"}}),media.addEventListener("timeupdate",function(e){var broadcast=controls.querySelector("."+t.options.classPrefix+"broadcast");if(t.getDuration()!==1/0)broadcast&&(t.slider.style.display="",broadcast.remove()),player.setProgressRail(e),t.forcedHandlePause||player.setCurrentRail(e),updateSlider();else if(!broadcast){var label=_document2.default.createElement("span");label.className=t.options.classPrefix+"broadcast",label.innerText=_i18n2.default.t("mejs.live-broadcast"),controls.querySelector("."+t.options.classPrefix+"time-rail").appendChild(label),t.slider.style.display="none"}}),t.container.addEventListener("controlsresize",function(e){t.getDuration()!==1/0&&(player.setProgressRail(e),t.forcedHandlePause||player.setCurrentRail(e))})},setProgressRail:function(e){var t=this,target=void 0!==e?e.detail.target||e.target:t.media,percent=null;target&&target.buffered&&target.buffered.length>0&&target.buffered.end&&t.getDuration()?percent=target.buffered.end(target.buffered.length-1)/t.getDuration():target&&void 0!==target.bytesTotal&&target.bytesTotal>0&&void 0!==target.bufferedBytes?percent=target.bufferedBytes/target.bytesTotal:e&&e.lengthComputable&&0!==e.total&&(percent=e.loaded/e.total),null!==percent&&(percent=Math.min(1,Math.max(0,percent)),t.loaded&&t.setTransformStyle(t.loaded,"scaleX("+percent+")"))},setCurrentRailHandle:function(fakeTime){var t=this;t.setCurrentRailMain(t,fakeTime)},setCurrentRail:function(){var t=this;t.setCurrentRailMain(t)},setCurrentRailMain:function(t,fakeTime){if(void 0!==t.getCurrentTime()&&t.getDuration()){var nTime=void 0===fakeTime?t.getCurrentTime():fakeTime;if(t.total&&t.handle){var tW=parseFloat(getComputedStyle(t.total).width),newWidth=Math.round(tW*nTime/t.getDuration()),handlePos=newWidth-Math.round(t.handle.offsetWidth/2);if(handlePos=handlePos<0?0:handlePos,t.setTransformStyle(t.current,"scaleX("+newWidth/tW+")"),t.setTransformStyle(t.handle,"translateX("+handlePos+"px)"),t.options.useSmoothHover&&!(0,_dom.hasClass)(t.hovered,"no-hover")){var pos=parseInt(t.hovered.getAttribute("pos"));pos=isNaN(pos)?0:pos;var hoverScaleX=pos/tW-handlePos/tW;t.hovered.style.left=handlePos+"px",t.setTransformStyle(t.hovered,"scaleX("+hoverScaleX+")"),hoverScaleX>=0?(0,_dom.removeClass)(t.hovered,"negative"):(0,_dom.addClass)(t.hovered,"negative")}}}}})},{17:17,2:2,20:20,21:21,25:25,5:5}],12:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _document=_dereq_(2),_document2=_interopRequireDefault(_document),_player=_dereq_(17),_player2=_interopRequireDefault(_player),_time=_dereq_(25),_dom=_dereq_(21);Object.assign(_player.config,{duration:0,timeAndDurationSeparator:"<span> | </span>"}),Object.assign(_player2.default.prototype,{buildcurrent:function(player,controls,layers,media){var t=this,time=_document2.default.createElement("div");time.className=t.options.classPrefix+"time",time.setAttribute("role","timer"),time.setAttribute("aria-live","off"),time.innerHTML='<span class="'+t.options.classPrefix+'currenttime">'+(0,_time.secondsToTimeCode)(0,player.options.alwaysShowHours,player.options.showTimecodeFrameCount,player.options.framesPerSecond,player.options.secondsDecimalLength)+"</span>",t.addControlElement(time,"current"),media.addEventListener("timeupdate",function(){t.controlsAreVisible&&player.updateCurrent()})},buildduration:function(player,controls,layers,media){var t=this;if(controls.lastChild.querySelector("."+t.options.classPrefix+"currenttime"))controls.querySelector("."+t.options.classPrefix+"time").innerHTML+=t.options.timeAndDurationSeparator+'<span class="'+t.options.classPrefix+'duration">'+(0,_time.secondsToTimeCode)(t.options.duration,t.options.alwaysShowHours,t.options.showTimecodeFrameCount,t.options.framesPerSecond,t.options.secondsDecimalLength)+"</span>";else{controls.querySelector("."+t.options.classPrefix+"currenttime")&&(0,_dom.addClass)(controls.querySelector("."+t.options.classPrefix+"currenttime").parentNode,t.options.classPrefix+"currenttime-container");var duration=_document2.default.createElement("div");duration.className=t.options.classPrefix+"time "+t.options.classPrefix+"duration-container",duration.innerHTML='<span class="'+t.options.classPrefix+'duration">'+(0,_time.secondsToTimeCode)(t.options.duration,t.options.alwaysShowHours,t.options.showTimecodeFrameCount,t.options.framesPerSecond,t.options.secondsDecimalLength)+"</span>",t.addControlElement(duration,"duration")}media.addEventListener("timeupdate",function(){t.controlsAreVisible&&player.updateDuration()})},updateCurrent:function(){var t=this,currentTime=t.getCurrentTime();isNaN(currentTime)&&(currentTime=0);var timecode=(0,_time.secondsToTimeCode)(currentTime,t.options.alwaysShowHours,t.options.showTimecodeFrameCount,t.options.framesPerSecond,t.options.secondsDecimalLength);timecode.length>5?(0,_dom.addClass)(t.container,t.options.classPrefix+"long-video"):(0,_dom.removeClass)(t.container,t.options.classPrefix+"long-video"),t.controls.querySelector("."+t.options.classPrefix+"currenttime")&&(t.controls.querySelector("."+t.options.classPrefix+"currenttime").innerText=timecode)},updateDuration:function(){var t=this,duration=t.getDuration();(isNaN(duration)||duration===1/0||duration<0)&&(t.media.duration=t.options.duration=duration=0),t.options.duration>0&&(duration=t.options.duration);var timecode=(0,_time.secondsToTimeCode)(duration,t.options.alwaysShowHours,t.options.showTimecodeFrameCount,t.options.framesPerSecond,t.options.secondsDecimalLength);timecode.length>5?(0,_dom.addClass)(t.container,t.options.classPrefix+"long-video"):(0,_dom.removeClass)(t.container,t.options.classPrefix+"long-video"),t.controls.querySelector("."+t.options.classPrefix+"duration")&&duration>0&&(t.controls.querySelector("."+t.options.classPrefix+"duration").innerHTML=timecode)}})},{17:17,2:2,21:21,25:25}],13:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _document=_dereq_(2),_document2=_interopRequireDefault(_document),_mejs=_dereq_(7),_mejs2=_interopRequireDefault(_mejs),_i18n=_dereq_(5),_i18n2=_interopRequireDefault(_i18n),_player=_dereq_(17),_player2=_interopRequireDefault(_player),_time=_dereq_(25),_general=_dereq_(22),_dom=_dereq_(21);Object.assign(_player.config,{startLanguage:"",tracksText:null,chaptersText:null,tracksAriaLive:!1,hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),Object.assign(_player2.default.prototype,{hasChapters:!1,buildtracks:function(player,controls,layers,media){if(player.tracks.length||player.trackFiles&&0!==!player.trackFiles.length){var t=this,attr=t.options.tracksAriaLive?' role="log" aria-live="assertive" aria-atomic="false"':"",tracksTitle=(0,_general.isString)(t.options.tracksText)?t.options.tracksText:_i18n2.default.t("mejs.captions-subtitles"),chaptersTitle=(0,_general.isString)(t.options.chaptersText)?t.options.chaptersText:_i18n2.default.t("mejs.captions-chapters"),total=null===player.trackFiles?player.tracks.length:player.trackFiles.length;if(t.domNode.textTracks)for(var i=t.domNode.textTracks.length-1;i>=0;i--)t.domNode.textTracks[i].mode="hidden";t.cleartracks(player),player.captions=_document2.default.createElement("div"),player.captions.className=t.options.classPrefix+"captions-layer "+t.options.classPrefix+"layer",player.captions.innerHTML='<div class="'+t.options.classPrefix+"captions-position "+t.options.classPrefix+'captions-position-hover"'+attr+'><span class="'+t.options.classPrefix+'captions-text"></span></div>',player.captions.style.display="none",layers.insertBefore(player.captions,layers.firstChild),player.captionsText=player.captions.querySelector("."+t.options.classPrefix+"captions-text"),player.captionsButton=_document2.default.createElement("div"),player.captionsButton.className=t.options.classPrefix+"button "+t.options.classPrefix+"captions-button",player.captionsButton.innerHTML='<button type="button" aria-controls="'+t.id+'" title="'+tracksTitle+'" aria-label="'+tracksTitle+'" tabindex="0"></button><div class="'+t.options.classPrefix+"captions-selector "+t.options.classPrefix+'offscreen"><ul class="'+t.options.classPrefix+'captions-selector-list"><li class="'+t.options.classPrefix+'captions-selector-list-item"><input type="radio" class="'+t.options.classPrefix+'captions-selector-input" name="'+player.id+'_captions" id="'+player.id+'_captions_none" value="none" checked disabled><label class="'+t.options.classPrefix+"captions-selector-label "+t.options.classPrefix+'captions-selected" for="'+player.id+'_captions_none">'+_i18n2.default.t("mejs.none")+"</label></li></ul></div>",t.addControlElement(player.captionsButton,"tracks"),player.captionsButton.querySelector("."+t.options.classPrefix+"captions-selector-input").disabled=!1,player.chaptersButton=_document2.default.createElement("div"),player.chaptersButton.className=t.options.classPrefix+"button "+t.options.classPrefix+"chapters-button",player.chaptersButton.innerHTML='<button type="button" aria-controls="'+t.id+'" title="'+chaptersTitle+'" aria-label="'+chaptersTitle+'" tabindex="0"></button><div class="'+t.options.classPrefix+"chapters-selector "+t.options.classPrefix+'offscreen"><ul class="'+t.options.classPrefix+'chapters-selector-list"></ul></div>';for(var subtitleCount=0,_i=0;_i<total;_i++){var kind=player.tracks[_i].kind;"subtitles"===kind||"captions"===kind?subtitleCount++:"chapters"!==kind||controls.querySelector("."+t.options.classPrefix+"chapter-selector")||player.captionsButton.parentNode.insertBefore(player.chaptersButton,player.captionsButton)}player.trackToLoad=-1,player.selectedTrack=null,player.isLoadingTrack=!1;for(var _i2=0;_i2<total;_i2++){var _kind=player.tracks[_i2].kind;"subtitles"!==_kind&&"captions"!==_kind||player.addTrackButton(player.tracks[_i2].trackId,player.tracks[_i2].srclang,player.tracks[_i2].label)}player.loadNextTrack();var inEvents=["mouseenter","focusin"],outEvents=["mouseleave","focusout"];if(t.options.toggleCaptionsButtonWhenOnlyOne&&1===subtitleCount)player.captionsButton.addEventListener("click",function(){var trackId="none";null===player.selectedTrack&&(trackId=player.tracks[0].trackId),player.setTrack(trackId)});else{for(var labels=player.captionsButton.querySelectorAll("."+t.options.classPrefix+"captions-selector-label"),captions=player.captionsButton.querySelectorAll("input[type=radio]"),_i3=0,_total=inEvents.length;_i3<_total;_i3++)player.captionsButton.addEventListener(inEvents[_i3],function(){(0,_dom.removeClass)(this.querySelector("."+t.options.classPrefix+"captions-selector"),t.options.classPrefix+"offscreen")});for(var _i4=0,_total2=outEvents.length;_i4<_total2;_i4++)player.captionsButton.addEventListener(outEvents[_i4],function(){(0,_dom.addClass)(this.querySelector("."+t.options.classPrefix+"captions-selector"),t.options.classPrefix+"offscreen")});for(var _i5=0,_total3=captions.length;_i5<_total3;_i5++)captions[_i5].addEventListener("click",function(){player.setTrack(this.value)});for(var _i6=0,_total4=labels.length;_i6<_total4;_i6++)labels[_i6].addEventListener("click",function(){var radio=(0,_dom.siblings)(this,function(el){return"INPUT"===el.tagName})[0],event=(0,_general.createEvent)("click",radio);radio.dispatchEvent(event)});player.captionsButton.addEventListener("keydown",function(e){e.stopPropagation()})}for(var _i7=0,_total5=inEvents.length;_i7<_total5;_i7++)player.chaptersButton.addEventListener(inEvents[_i7],function(){this.querySelector("."+t.options.classPrefix+"chapters-selector-list").children.length&&(0,_dom.removeClass)(this.querySelector("."+t.options.classPrefix+"chapters-selector"),t.options.classPrefix+"offscreen")});for(var _i8=0,_total6=outEvents.length;_i8<_total6;_i8++)player.chaptersButton.addEventListener(outEvents[_i8],function(){(0,_dom.addClass)(this.querySelector("."+t.options.classPrefix+"chapters-selector"),t.options.classPrefix+"offscreen")});player.chaptersButton.addEventListener("keydown",function(e){e.stopPropagation()}),player.options.alwaysShowControls?(0,_dom.addClass)(player.container.querySelector("."+t.options.classPrefix+"captions-position"),t.options.classPrefix+"captions-position-hover"):(player.container.addEventListener("controlsshown",function(){(0,_dom.addClass)(player.container.querySelector("."+t.options.classPrefix+"captions-position"),t.options.classPrefix+"captions-position-hover")}),player.container.addEventListener("controlshidden",function(){media.paused||(0,_dom.removeClass)(player.container.querySelector("."+t.options.classPrefix+"captions-position"),t.options.classPrefix+"captions-position-hover")})),media.addEventListener("timeupdate",function(){player.displayCaptions()}),""!==player.options.slidesSelector&&(player.slidesContainer=_document2.default.querySelectorAll(player.options.slidesSelector),media.addEventListener("timeupdate",function(){player.displaySlides()}))}},cleartracks:function(player){player&&(player.captions&&player.captions.remove(),player.chapters&&player.chapters.remove(),player.captionsText&&player.captionsText.remove(),player.captionsButton&&player.captionsButton.remove(),player.chaptersButton&&player.chaptersButton.remove())},rebuildtracks:function(){var t=this;t.findTracks(),t.buildtracks(t,t.controls,t.layers,t.media)},findTracks:function(){var t=this,tracktags=null===t.trackFiles?t.node.querySelectorAll("track"):t.trackFiles,total=tracktags.length;t.tracks=[];for(var i=0;i<total;i++){var track=tracktags[i],srclang=track.getAttribute("srclang").toLowerCase()||"",trackId=t.id+"_track_"+i+"_"+track.getAttribute("kind")+"_"+srclang;t.tracks.push({trackId:trackId,srclang:srclang,src:track.getAttribute("src"),kind:track.getAttribute("kind"),label:track.getAttribute("label")||"",entries:[],isLoaded:!1})}},setTrack:function(trackId){for(var t=this,radios=t.captionsButton.querySelectorAll('input[type="radio"]'),captions=t.captionsButton.querySelectorAll("."+t.options.classPrefix+"captions-selected"),track=t.captionsButton.querySelector('input[value="'+trackId+'"]'),i=0,total=radios.length;i<total;i++)radios[i].checked=!1;for(var _i9=0,_total7=captions.length;_i9<_total7;_i9++)(0,_dom.removeClass)(captions[_i9],t.options.classPrefix+"captions-selected");track.checked=!0;for(var labels=(0,_dom.siblings)(track,function(el){return(0,_dom.hasClass)(el,t.options.classPrefix+"captions-selector-label")}),_i10=0,_total8=labels.length;_i10<_total8;_i10++)(0,_dom.addClass)(labels[_i10],t.options.classPrefix+"captions-selected");if("none"===trackId)t.selectedTrack=null,(0,_dom.removeClass)(t.captionsButton,t.options.classPrefix+"captions-enabled");else for(var _i11=0,_total9=t.tracks.length;_i11<_total9;_i11++){var _track=t.tracks[_i11];if(_track.trackId===trackId){null===t.selectedTrack&&(0,_dom.addClass)(t.captionsButton,t.options.classPrefix+"captions-enabled"),t.selectedTrack=_track,t.captions.setAttribute("lang",t.selectedTrack.srclang),t.displayCaptions();break}}var event=(0,_general.createEvent)("captionschange",t.media);event.detail.caption=t.selectedTrack,t.media.dispatchEvent(event)},loadNextTrack:function(){var t=this;t.trackToLoad++,t.trackToLoad<t.tracks.length?(t.isLoadingTrack=!0,t.loadTrack(t.trackToLoad)):(t.isLoadingTrack=!1,t.checkForTracks())},loadTrack:function(index){var t=this,track=t.tracks[index];void 0===track||void 0===track.src&&""===track.src||(0,_dom.ajax)(track.src,"text",function(d){track.entries="string"==typeof d&&/<tt\s+xml/gi.exec(d)?_mejs2.default.TrackFormatParser.dfxp.parse(d):_mejs2.default.TrackFormatParser.webvtt.parse(d),track.isLoaded=!0,t.enableTrackButton(track),t.loadNextTrack(),"slides"===track.kind?t.setupSlides(track):"chapters"!==track.kind||t.hasChapters||(t.drawChapters(track),t.hasChapters=!0)},function(){t.removeTrackButton(track.trackId),t.loadNextTrack()})},enableTrackButton:function(track){var t=this,lang=track.srclang,target=_document2.default.getElementById(""+track.trackId);if(target){var label=track.label;""===label&&(label=_i18n2.default.t(_mejs2.default.language.codes[lang])||lang),target.disabled=!1;for(var targetSiblings=(0,_dom.siblings)(target,function(el){return(0,_dom.hasClass)(el,t.options.classPrefix+"captions-selector-label")}),i=0,total=targetSiblings.length;i<total;i++)targetSiblings[i].innerHTML=label;if(t.options.startLanguage===lang){target.checked=!0;var event=(0,_general.createEvent)("click",target);target.dispatchEvent(event)}}},removeTrackButton:function(trackId){var element=_document2.default.getElementById(""+trackId);if(element){var button=element.closest("li");button&&button.remove()}},addTrackButton:function(trackId,lang,label){var t=this;""===label&&(label=_i18n2.default.t(_mejs2.default.language.codes[lang])||lang),t.captionsButton.querySelector("ul").innerHTML+='<li class="'+t.options.classPrefix+'captions-selector-list-item"><input type="radio" class="'+t.options.classPrefix+'captions-selector-input" name="'+t.id+'_captions" id="'+trackId+'" value="'+trackId+'" disabled><label class="'+t.options.classPrefix+'captions-selector-label"for="'+trackId+'">'+label+" (loading)</label></li>"},checkForTracks:function(){var t=this,hasSubtitles=!1;if(t.options.hideCaptionsButtonWhenEmpty){for(var i=0,total=t.tracks.length;i<total;i++){var kind=t.tracks[i].kind;if(("subtitles"===kind||"captions"===kind)&&t.tracks[i].isLoaded){hasSubtitles=!0;break}}t.captionsButton.style.display=hasSubtitles?"":"none",t.setControlsSize()}},displayCaptions:function(){if(void 0!==this.tracks){var t=this,track=t.selectedTrack;if(null!==track&&track.isLoaded){var i=t.searchTrackPosition(track.entries,t.media.currentTime);if(i>-1)return t.captionsText.innerHTML=function(html){var div=_document2.default.createElement("div");div.innerHTML=html;for(var scripts=div.getElementsByTagName("script"),i=scripts.length;i--;)scripts[i].remove();for(var allElements=div.getElementsByTagName("*"),_i12=0,n=allElements.length;_i12<n;_i12++)for(var attributesObj=allElements[_i12].attributes,attributes=Array.prototype.slice.call(attributesObj),j=0,total=attributes.length;j<total;j++)attributes[j].name.startsWith("on")||attributes[j].value.startsWith("javascript")?allElements[_i12].remove():"style"===attributes[j].name&&allElements[_i12].removeAttribute(attributes[j].name);return div.innerHTML}(track.entries[i].text),t.captionsText.className=t.options.classPrefix+"captions-text "+(track.entries[i].identifier||""),t.captions.style.display="",void(t.captions.style.height="0px");t.captions.style.display="none"}else t.captions.style.display="none"}},setupSlides:function(track){var t=this;t.slides=track,t.slides.entries.imgs=[t.slides.entries.length],t.showSlide(0)},showSlide:function(index){var _this=this,t=this;if(void 0!==t.tracks&&void 0!==t.slidesContainer){var url=t.slides.entries[index].text,img=t.slides.entries[index].imgs;if(void 0===img||void 0===img.fadeIn){var image=_document2.default.createElement("img");image.src=url,image.addEventListener("load",function(){var self=_this,visible=(0,_dom.siblings)(self,function(el){return visible(el)});self.style.display="none",t.slidesContainer.innerHTML+=self.innerHTML,(0,_dom.fadeIn)(t.slidesContainer.querySelector(image));for(var i=0,total=visible.length;i<total;i++)(0,_dom.fadeOut)(visible[i],400)}),t.slides.entries[index].imgs=img=image}else if(!(0,_dom.visible)(img)){var _visible=(0,_dom.siblings)(self,function(el){return _visible(el)});(0,_dom.fadeIn)(t.slidesContainer.querySelector(img));for(var i=0,total=_visible.length;i<total;i++)(0,_dom.fadeOut)(_visible[i])}}},displaySlides:function(){var t=this;if(void 0!==this.slides){var slides=t.slides,i=t.searchTrackPosition(slides.entries,t.media.currentTime);i>-1&&t.showSlide(i)}},drawChapters:function(chapters){var t=this,total=chapters.entries.length;if(total){t.chaptersButton.querySelector("ul").innerHTML="";for(var i=0;i<total;i++)t.chaptersButton.querySelector("ul").innerHTML+='<li class="'+t.options.classPrefix+'chapters-selector-list-item" role="menuitemcheckbox" aria-live="polite" aria-disabled="false" aria-checked="false"><input type="radio" class="'+t.options.classPrefix+'captions-selector-input" name="'+t.id+'_chapters" id="'+t.id+"_chapters_"+i+'" value="'+chapters.entries[i].start+'" disabled><label class="'+t.options.classPrefix+'chapters-selector-label"for="'+t.id+"_chapters_"+i+'">'+chapters.entries[i].text+"</label></li>";for(var radios=t.chaptersButton.querySelectorAll('input[type="radio"]'),labels=t.chaptersButton.querySelectorAll("."+t.options.classPrefix+"chapters-selector-label"),_i13=0,_total10=radios.length;_i13<_total10;_i13++)radios[_i13].disabled=!1,radios[_i13].checked=!1,radios[_i13].addEventListener("click",function(){var self=this,listItems=t.chaptersButton.querySelectorAll("li"),label=(0,_dom.siblings)(self,function(el){return(0,_dom.hasClass)(el,t.options.classPrefix+"chapters-selector-label")})[0];self.checked=!0,self.parentNode.setAttribute("aria-checked",!0),(0,_dom.addClass)(label,t.options.classPrefix+"chapters-selected"),(0,_dom.removeClass)(t.chaptersButton.querySelector("."+t.options.classPrefix+"chapters-selected"),t.options.classPrefix+"chapters-selected");for(var _i14=0,_total11=listItems.length;_i14<_total11;_i14++)listItems[_i14].setAttribute("aria-checked",!1);t.media.setCurrentTime(parseFloat(self.value)),t.media.paused&&t.media.play()});for(var _i15=0,_total12=labels.length;_i15<_total12;_i15++)labels[_i15].addEventListener("click",function(){var radio=(0,_dom.siblings)(this,function(el){return"INPUT"===el.tagName})[0],event=(0,_general.createEvent)("click",radio);radio.dispatchEvent(event)})}},searchTrackPosition:function(tracks,currentTime){for(var lo=0,hi=tracks.length-1,mid=void 0,start=void 0,stop=void 0;lo<=hi;){if(mid=lo+hi>>1,start=tracks[mid].start,stop=tracks[mid].stop,currentTime>=start&&currentTime<stop)return mid;start<currentTime?lo=mid+1:start>currentTime&&(hi=mid-1)}return-1}}),_mejs2.default.language={codes:{af:"mejs.afrikaans",sq:"mejs.albanian",ar:"mejs.arabic",be:"mejs.belarusian",bg:"mejs.bulgarian",ca:"mejs.catalan",zh:"mejs.chinese","zh-cn":"mejs.chinese-simplified","zh-tw":"mejs.chines-traditional",hr:"mejs.croatian",cs:"mejs.czech",da:"mejs.danish",nl:"mejs.dutch",en:"mejs.english",et:"mejs.estonian",fl:"mejs.filipino",fi:"mejs.finnish",fr:"mejs.french",gl:"mejs.galician",de:"mejs.german",el:"mejs.greek",ht:"mejs.haitian-creole",iw:"mejs.hebrew",hi:"mejs.hindi",hu:"mejs.hungarian",is:"mejs.icelandic",id:"mejs.indonesian",ga:"mejs.irish",it:"mejs.italian",ja:"mejs.japanese",ko:"mejs.korean",lv:"mejs.latvian",lt:"mejs.lithuanian",mk:"mejs.macedonian",ms:"mejs.malay",mt:"mejs.maltese",no:"mejs.norwegian",fa:"mejs.persian",pl:"mejs.polish",pt:"mejs.portuguese",ro:"mejs.romanian",ru:"mejs.russian",sr:"mejs.serbian",sk:"mejs.slovak",sl:"mejs.slovenian",es:"mejs.spanish",sw:"mejs.swahili",sv:"mejs.swedish",tl:"mejs.tagalog",th:"mejs.thai",tr:"mejs.turkish",uk:"mejs.ukrainian",vi:"mejs.vietnamese",cy:"mejs.welsh",yi:"mejs.yiddish"}},_mejs2.default.TrackFormatParser={webvtt:{pattern:/^((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ((?:[0-9]{1,2}:)?[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(trackText){for(var lines=trackText.split(/\r?\n/),entries=[],timecode=void 0,text=void 0,identifier=void 0,i=0,total=lines.length;i<total;i++){if((timecode=this.pattern.exec(lines[i]))&&i<lines.length){for(i-1>=0&&""!==lines[i-1]&&(identifier=lines[i-1]),i++,text=lines[i],i++;""!==lines[i]&&i<lines.length;)text=text+"\n"+lines[i],i++;text=text.trim().replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),entries.push({identifier:identifier,start:0===(0,_time.convertSMPTEtoSeconds)(timecode[1])?.2:(0,_time.convertSMPTEtoSeconds)(timecode[1]),stop:(0,_time.convertSMPTEtoSeconds)(timecode[3]),text:text,settings:timecode[5]})}identifier=""}return entries}},dfxp:{parse:function(trackText){trackText=$(trackText).filter("tt");var container=trackText.firstChild,lines=container.querySelectorAll("p"),styleNode=trackText.getElementById(""+container.attr("style")),entries=[],styles=void 0;if(styleNode.length){styleNode.removeAttribute("id");var attributes=styleNode.attributes;if(attributes.length){styles={};for(var i=0,total=attributes.length;i<total;i++)styles[attributes[i].name.split(":")[1]]=attributes[i].value}}for(var _i16=0,_total13=lines.length;_i16<_total13;_i16++){var style=void 0,_temp={start:null,stop:null,style:null,text:null};if(lines.eq(_i16).attr("begin")&&(_temp.start=(0,_time.convertSMPTEtoSeconds)(lines.eq(_i16).attr("begin"))),!_temp.start&&lines.eq(_i16-1).attr("end")&&(_temp.start=(0,_time.convertSMPTEtoSeconds)(lines.eq(_i16-1).attr("end"))),lines.eq(_i16).attr("end")&&(_temp.stop=(0,_time.convertSMPTEtoSeconds)(lines.eq(_i16).attr("end"))),!_temp.stop&&lines.eq(_i16+1).attr("begin")&&(_temp.stop=(0,_time.convertSMPTEtoSeconds)(lines.eq(_i16+1).attr("begin"))),styles){style="";for(var _style in styles)style+=_style+":"+styles[_style]+";"}style&&(_temp.style=style),0===_temp.start&&(_temp.start=.2),_temp.text=lines.eq(_i16).innerHTML.trim().replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),entries.push(_temp)}return entries}}}},{17:17,2:2,21:21,22:22,25:25,5:5,7:7}],14:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _document=_dereq_(2),_document2=_interopRequireDefault(_document),_player=_dereq_(17),_player2=_interopRequireDefault(_player),_i18n=_dereq_(5),_i18n2=_interopRequireDefault(_i18n),_constants=_dereq_(20),_general=_dereq_(22),_dom=_dereq_(21);Object.assign(_player.config,{muteText:null,unmuteText:null,allyVolumeControlText:null,hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical",startVolume:.8}),Object.assign(_player2.default.prototype,{buildvolume:function(player,controls,layers,media){if(!_constants.IS_ANDROID&&!_constants.IS_IOS||!this.options.hideVolumeOnTouchDevices){var t=this,mode=t.isVideo?t.options.videoVolume:t.options.audioVolume,muteText=(0,_general.isString)(t.options.muteText)?t.options.muteText:_i18n2.default.t("mejs.mute"),unmuteText=(0,_general.isString)(t.options.unmuteText)?t.options.unmuteText:_i18n2.default.t("mejs.unmute"),volumeControlText=(0,_general.isString)(t.options.allyVolumeControlText)?t.options.allyVolumeControlText:_i18n2.default.t("mejs.volume-help-text"),mute=_document2.default.createElement("div");if(mute.className=t.options.classPrefix+"button "+t.options.classPrefix+"volume-button "+t.options.classPrefix+"mute",mute.innerHTML="horizontal"===mode?'<button type="button" aria-controls="'+t.id+'" title="'+muteText+'" aria-label="'+muteText+'" tabindex="0"></button>':'<button type="button" aria-controls="'+t.id+'" title="'+muteText+'" aria-label="'+muteText+'" tabindex="0"></button><a href="javascript:void(0);" class="'+t.options.classPrefix+'volume-slider" aria-label="'+_i18n2.default.t("mejs.volume-slider")+'" aria-valuemin="0" aria-valuemax="100" role="slider" aria-orientation="vertical"><span class="'+t.options.classPrefix+'offscreen">'+volumeControlText+'</span><div class="'+t.options.classPrefix+'volume-total"><div class="'+t.options.classPrefix+'volume-current"></div><div class="'+t.options.classPrefix+'volume-handle"></div></div></a>',t.addControlElement(mute,"volume"),"horizontal"===mode){var anchor=_document2.default.createElement("a");anchor.className=t.options.classPrefix+"horizontal-volume-slider",anchor.href="javascript:void(0);",anchor.setAttribute("aria-label",_i18n2.default.t("mejs.volume-slider")),anchor.setAttribute("aria-valuemin",0),anchor.setAttribute("aria-valuemax",100),anchor.setAttribute("role","slider"),anchor.innerHTML+='<span class="'+t.options.classPrefix+'offscreen">'+volumeControlText+'</span><div class="'+t.options.classPrefix+'horizontal-volume-total"><div class="'+t.options.classPrefix+'horizontal-volume-current"></div><div class="'+t.options.classPrefix+'horizontal-volume-handle"></div></div>',mute.parentNode.insertBefore(anchor,mute.nextSibling)}var mouseIsDown=!1,mouseIsOver=!1,modified=!1,updateVolumeSlider=function(){var volume=Math.floor(100*media.volume);volumeSlider.setAttribute("aria-valuenow",volume),volumeSlider.setAttribute("aria-valuetext",volume+"%")},volumeSlider="vertical"===mode?t.container.querySelector("."+t.options.classPrefix+"volume-slider"):t.container.querySelector("."+t.options.classPrefix+"horizontal-volume-slider"),volumeTotal="vertical"===mode?t.container.querySelector("."+t.options.classPrefix+"volume-total"):t.container.querySelector("."+t.options.classPrefix+"horizontal-volume-total"),volumeCurrent="vertical"===mode?t.container.querySelector("."+t.options.classPrefix+"volume-current"):t.container.querySelector("."+t.options.classPrefix+"horizontal-volume-current"),volumeHandle="vertical"===mode?t.container.querySelector("."+t.options.classPrefix+"volume-handle"):t.container.querySelector("."+t.options.classPrefix+"horizontal-volume-handle"),positionVolumeHandle=function(volume){if(null!==volume&&!isNaN(volume)&&void 0!==volume){if(volume=Math.max(0,volume),0===(volume=Math.min(volume,1))){(0,_dom.removeClass)(mute,t.options.classPrefix+"mute"),(0,_dom.addClass)(mute,t.options.classPrefix+"unmute");var button=mute.firstElementChild;button.setAttribute("title",unmuteText),button.setAttribute("aria-label",unmuteText)}else{(0,_dom.removeClass)(mute,t.options.classPrefix+"unmute"),(0,_dom.addClass)(mute,t.options.classPrefix+"mute");var _button=mute.firstElementChild;_button.setAttribute("title",muteText),_button.setAttribute("aria-label",muteText)}var volumePercentage=100*volume+"%",volumeStyles=getComputedStyle(volumeHandle);"vertical"===mode?(volumeCurrent.style.bottom=0,volumeCurrent.style.height=volumePercentage,volumeHandle.style.bottom=volumePercentage,volumeHandle.style.marginBottom=-parseFloat(volumeStyles.height)/2+"px"):(volumeCurrent.style.left=0,volumeCurrent.style.width=volumePercentage,volumeHandle.style.left=volumePercentage,volumeHandle.style.marginLeft=-parseFloat(volumeStyles.width)/2+"px")}},handleVolumeMove=function(e){var totalOffset=(0,_dom.offset)(volumeTotal),volumeStyles=getComputedStyle(volumeTotal);modified=!0;var volume=null;if("vertical"===mode){var railHeight=parseFloat(volumeStyles.height);if(volume=(railHeight-(e.pageY-totalOffset.top))/railHeight,0===totalOffset.top||0===totalOffset.left)return}else{var railWidth=parseFloat(volumeStyles.width);volume=(e.pageX-totalOffset.left)/railWidth}volume=Math.max(0,volume),volume=Math.min(volume,1),positionVolumeHandle(volume),media.setMuted(0===volume),media.setVolume(volume),e.preventDefault(),e.stopPropagation()},toggleMute=function(){media.muted?(positionVolumeHandle(0),(0,_dom.removeClass)(mute,t.options.classPrefix+"mute"),(0,_dom.addClass)(mute,t.options.classPrefix+"unmute")):(positionVolumeHandle(media.volume),(0,_dom.removeClass)(mute,t.options.classPrefix+"unmute"),(0,_dom.addClass)(mute,t.options.classPrefix+"mute"))};mute.addEventListener("mouseenter",function(e){e.target===mute&&(volumeSlider.style.display="block",mouseIsOver=!0,e.preventDefault(),e.stopPropagation())}),mute.addEventListener("focusin",function(){volumeSlider.style.display="block",mouseIsOver=!0}),mute.addEventListener("focusout",function(e){e.relatedTarget&&(!e.relatedTarget||e.relatedTarget.matches("."+t.options.classPrefix+"volume-slider"))||"vertical"!==mode||(volumeSlider.style.display="none")}),mute.addEventListener("mouseleave",function(){mouseIsOver=!1,mouseIsDown||"vertical"!==mode||(volumeSlider.style.display="none")}),mute.addEventListener("focusout",function(){mouseIsOver=!1}),mute.addEventListener("keydown",function(e){if(t.options.keyActions.length){var keyCode=e.which||e.keyCode||0,volume=media.volume;switch(keyCode){case 38:volume=Math.min(volume+.1,1);break;case 40:volume=Math.max(0,volume-.1);break;default:return!0}mouseIsDown=!1,positionVolumeHandle(volume),media.setVolume(volume),e.preventDefault(),e.stopPropagation()}}),mute.querySelector("button").addEventListener("click",function(){media.setMuted(!media.muted);var event=(0,_general.createEvent)("volumechange",media);media.dispatchEvent(event)}),volumeSlider.addEventListener("dragstart",function(){return!1}),volumeSlider.addEventListener("mouseover",function(){mouseIsOver=!0}),volumeSlider.addEventListener("focusin",function(){volumeSlider.style.display="block",mouseIsOver=!0}),volumeSlider.addEventListener("focusout",function(){mouseIsOver=!1,mouseIsDown||"vertical"!==mode||(volumeSlider.style.display="none")}),volumeSlider.addEventListener("mousedown",function(e){handleVolumeMove(e),t.globalBind("mousemove.vol",function(event){var target=event.target;mouseIsDown&&(target===volumeSlider||target.closest("vertical"===mode?"."+t.options.classPrefix+"volume-slider":"."+t.options.classPrefix+"horizontal-volume-slider"))&&handleVolumeMove(event)}),t.globalBind("mouseup.vol",function(){mouseIsDown=!1,t.globalUnbind("mousemove.vol mouseup.vol"),mouseIsOver||"vertical"!==mode||(volumeSlider.style.display="none")}),mouseIsDown=!0,e.preventDefault(),e.stopPropagation()}),media.addEventListener("volumechange",function(e){mouseIsDown||toggleMute(),updateVolumeSlider()});var rendered=!1;media.addEventListener("rendererready",function(){modified||setTimeout(function(){rendered=!0,(0===player.options.startVolume||media.originalNode.muted)&&(media.setMuted(!0),player.options.startVolume=0),media.setVolume(player.options.startVolume),t.setControlsSize()},250)}),media.addEventListener("loadedmetadata",function(){setTimeout(function(){modified||rendered||((0===player.options.startVolume||media.originalNode.muted)&&(media.setMuted(!0),player.options.startVolume=0),media.setVolume(player.options.startVolume),t.setControlsSize()),rendered=!1},250)}),(0===player.options.startVolume||media.originalNode.muted)&&(media.setMuted(!0),player.options.startVolume=0,toggleMute()),t.container.addEventListener("controlsresize",function(){toggleMute()})}}})},{17:17,2:2,20:20,21:21,22:22,5:5}],15:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.EN={"mejs.plural-form":1,"mejs.download-file":"Download File","mejs.install-flash":"You are using a browser that does not have Flash player enabled or installed. Please turn on your Flash player plugin or download the latest version from https://get.adobe.com/flashplayer/","mejs.fullscreen":"Fullscreen","mejs.play":"Play","mejs.pause":"Pause","mejs.time-slider":"Time Slider","mejs.time-help-text":"Use Left/Right Arrow keys to advance one second, Up/Down arrows to advance ten seconds.","mejs.live-broadcast":"Live Broadcast","mejs.volume-help-text":"Use Up/Down Arrow keys to increase or decrease volume.","mejs.unmute":"Unmute","mejs.mute":"Mute","mejs.volume-slider":"Volume Slider","mejs.video-player":"Video Player","mejs.audio-player":"Audio Player","mejs.captions-subtitles":"Captions/Subtitles","mejs.captions-chapters":"Chapters","mejs.none":"None","mejs.afrikaans":"Afrikaans","mejs.albanian":"Albanian","mejs.arabic":"Arabic","mejs.belarusian":"Belarusian","mejs.bulgarian":"Bulgarian","mejs.catalan":"Catalan","mejs.chinese":"Chinese","mejs.chinese-simplified":"Chinese (Simplified)","mejs.chinese-traditional":"Chinese (Traditional)","mejs.croatian":"Croatian","mejs.czech":"Czech","mejs.danish":"Danish","mejs.dutch":"Dutch","mejs.english":"English","mejs.estonian":"Estonian","mejs.filipino":"Filipino","mejs.finnish":"Finnish","mejs.french":"French","mejs.galician":"Galician","mejs.german":"German","mejs.greek":"Greek","mejs.haitian-creole":"Haitian Creole","mejs.hebrew":"Hebrew","mejs.hindi":"Hindi","mejs.hungarian":"Hungarian","mejs.icelandic":"Icelandic","mejs.indonesian":"Indonesian","mejs.irish":"Irish","mejs.italian":"Italian","mejs.japanese":"Japanese","mejs.korean":"Korean","mejs.latvian":"Latvian","mejs.lithuanian":"Lithuanian","mejs.macedonian":"Macedonian","mejs.malay":"Malay","mejs.maltese":"Maltese","mejs.norwegian":"Norwegian","mejs.persian":"Persian","mejs.polish":"Polish","mejs.portuguese":"Portuguese","mejs.romanian":"Romanian","mejs.russian":"Russian","mejs.serbian":"Serbian","mejs.slovak":"Slovak","mejs.slovenian":"Slovenian","mejs.spanish":"Spanish","mejs.swahili":"Swahili","mejs.swedish":"Swedish","mejs.tagalog":"Tagalog","mejs.thai":"Thai","mejs.turkish":"Turkish","mejs.ukrainian":"Ukrainian","mejs.vietnamese":"Vietnamese","mejs.welsh":"Welsh","mejs.yiddish":"Yiddish"}},{}],16:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _window=_dereq_(3),_window2=_interopRequireDefault(_window),_mejs=_dereq_(7),_mejs2=_interopRequireDefault(_mejs);void 0!==jQuery?_mejs2.default.$=_window2.default.jQuery=_window2.default.$=jQuery:"undefined"!=typeof Zepto?_mejs2.default.$=_window2.default.Zepto=_window2.default.$=Zepto:"undefined"!=typeof ender&&(_mejs2.default.$=_window2.default.ender=_window2.default.$=ender)},{3:3,7:7}],17:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.config=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_window=_dereq_(3),_window2=_interopRequireDefault(_window),_document=_dereq_(2),_document2=_interopRequireDefault(_document),_mejs=_dereq_(7),_mejs2=_interopRequireDefault(_mejs),_mediaelement=_dereq_(6),_mediaelement2=_interopRequireDefault(_mediaelement),_i18n=_dereq_(5),_i18n2=_interopRequireDefault(_i18n),_constants=_dereq_(20),_general=_dereq_(22),_time=_dereq_(25),_media=_dereq_(23),_dom=_dereq_(21),dom=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_dom);_mejs2.default.mepIndex=0,_mejs2.default.players={};var config=exports.config={poster:"",showPosterWhenEnded:!1,showPosterWhenPaused:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:40,defaultSeekBackwardInterval:function(media){return.05*media.getDuration()},defaultSeekForwardInterval:function(media){return.05*media.getDuration()},setDimensions:!0,audioWidth:-1,audioHeight:-1,loop:!1,autoRewind:!0,enableAutosize:!0,timeFormat:"",alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,hideVideoControlsOnPause:!1,clickToPlayPause:!0,controlsTimeoutDefault:1500,controlsTimeoutMouseEnter:2500,controlsTimeoutMouseLeave:1e3,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,stretching:"auto",classPrefix:"mejs__",enableKeyboard:!0,pauseOtherPlayers:!0,secondsDecimalLength:0,keyActions:[{keys:[32,179],action:function(player,media){_constants.IS_FIREFOX||(media.paused||media.ended?media.play():media.pause())}},{keys:[38],action:function(player,media){(player.container.querySelector("."+config.classPrefix+"volume-button>button").matches(":focus")||player.container.querySelector("."+config.classPrefix+"volume-slider").matches(":focus"))&&(player.container.querySelector("."+config.classPrefix+"volume-slider").style.display=""),player.isVideo&&(player.showControls(),player.startControlsTimer());var newVolume=Math.min(media.volume+.1,1);media.setVolume(newVolume),newVolume>0&&media.setMuted(!1)}},{keys:[40],action:function(player,media){(player.container.querySelector("."+config.classPrefix+"volume-button>button").matches(":focus")||player.container.querySelector("."+config.classPrefix+"volume-slider").matches(":focus"))&&(player.container.querySelector("."+config.classPrefix+"volume-slider").style.display=""),player.isVideo&&(player.showControls(),player.startControlsTimer());var newVolume=Math.max(media.volume-.1,0);media.setVolume(newVolume),newVolume<=.1&&media.setMuted(!0)}},{keys:[37,227],action:function(player,media){if(!isNaN(media.duration)&&media.duration>0){player.isVideo&&(player.showControls(),player.startControlsTimer());var newTime=Math.max(media.currentTime-player.options.defaultSeekBackwardInterval(media),0);media.setCurrentTime(newTime)}}},{keys:[39,228],action:function(player,media){if(!isNaN(media.duration)&&media.duration>0){player.isVideo&&(player.showControls(),player.startControlsTimer());var newTime=Math.min(media.currentTime+player.options.defaultSeekForwardInterval(media),media.duration);media.setCurrentTime(newTime)}}},{keys:[70],action:function(player,media,key,event){event.ctrlKey||void 0!==player.enterFullScreen&&(player.isFullScreen?player.exitFullScreen():player.enterFullScreen())}},{keys:[77],action:function(player){player.container.querySelector("."+config.classPrefix+"volume-slider").style.display="",player.isVideo&&(player.showControls(),player.startControlsTimer()),player.media.muted?player.setMuted(!1):player.setMuted(!0)}}]};_mejs2.default.MepDefaults=config;var MediaElementPlayer=function(){function MediaElementPlayer(node,o){_classCallCheck(this,MediaElementPlayer);var t=this,element="string"==typeof node?_document2.default.getElementById(node):node;if(t.hasFocus=!1,t.controlsAreVisible=!0,t.controlsEnabled=!0,t.controlsTimer=null,!(t instanceof MediaElementPlayer))return new MediaElementPlayer(element,o);if(t.node=t.media=element,t.node){if(void 0!==t.media.player)return t.media.player;if(void 0===o){var options=t.node.getAttribute("data-mejsoptions");o=options?JSON.parse(options):{}}t.options=Object.assign({},config,o),t.options.loop&&!t.media.getAttribute("loop")?(t.media.loop=!0,t.node.loop=!0):t.media.loop&&(t.options.loop=!0),t.options.timeFormat||(t.options.timeFormat="mm:ss",t.options.alwaysShowHours&&(t.options.timeFormat="hh:mm:ss"),t.options.showTimecodeFrameCount&&(t.options.timeFormat+=":ff")),(0,_time.calculateTimeFormat)(0,t.options,t.options.framesPerSecond||25),t.id="mep_"+_mejs2.default.mepIndex++,_mejs2.default.players[t.id]=t;var meOptions=Object.assign({},t.options,{success:function(media,domNode){t._meReady(media,domNode)},error:function(e){t._handleError(e)}}),tagName=t.node.tagName.toLowerCase();if(t.isDynamic="audio"!==tagName&&"video"!==tagName,t.isVideo=t.isDynamic?t.options.isVideo:"audio"!==tagName&&t.options.isVideo,t.mediaFiles=null,t.trackFiles=null,_constants.IS_IPAD&&t.options.iPadUseNativeControls||_constants.IS_IPHONE&&t.options.iPhoneUseNativeControls)t.node.setAttribute("controls",!0),_constants.IS_IPAD&&t.node.getAttribute("autoplay")&&t.play();else if(!(t.isVideo||!t.isVideo&&t.options.features.length)||_constants.IS_ANDROID&&t.options.AndroidUseNativeControls)t.isVideo||t.options.features.length||(t.node.style.display="none");else{t.node.removeAttribute("controls");var videoPlayerTitle=t.isVideo?_i18n2.default.t("mejs.video-player"):_i18n2.default.t("mejs.audio-player"),offscreen=_document2.default.createElement("span");if(offscreen.className=t.options.classPrefix+"offscreen",offscreen.innerText=videoPlayerTitle,t.media.parentNode.insertBefore(offscreen,t.media),t.container=_document2.default.createElement("div"),t.container.id=t.id,t.container.className=t.options.classPrefix+"container "+t.options.classPrefix+"container-keyboard-inactive "+t.media.className,t.container.tabIndex=0,t.container.setAttribute("role","application"),t.container.setAttribute("aria-label",videoPlayerTitle),t.container.innerHTML='<div class="'+t.options.classPrefix+'inner"><div class="'+t.options.classPrefix+'mediaelement"></div><div class="'+t.options.classPrefix+'layers"></div><div class="'+t.options.classPrefix+'controls"></div><div class="'+t.options.classPrefix+'clear"></div></div>',t.container.addEventListener("focus",function(e){if(!t.controlsAreVisible&&!t.hasFocus&&t.controlsEnabled){t.showControls(!0);var btnSelector=(0,_general.isNodeAfter)(e.relatedTarget,t.container)?"."+t.options.classPrefix+"controls ."+t.options.classPrefix+"button:last-child > button":"."+t.options.classPrefix+"playpause-button > button";t.container.querySelector(btnSelector).focus()}}),t.node.parentNode.insertBefore(t.container,t.node),t.options.features.length||(t.container.style.background="transparent",t.container.querySelector("."+t.options.classPrefix+"controls").style.display="none"),t.isVideo&&"fill"===t.options.stretching&&!dom.hasClass(t.container.parentNode,t.options.classPrefix+"fill-container")){t.outerContainer=t.media.parentNode;var wrapper=_document2.default.createElement("div");wrapper.className=t.options.classPrefix+"fill-container",t.container.parentNode.insertBefore(wrapper,t.container),wrapper.appendChild(t.container)}if(_constants.IS_ANDROID&&dom.addClass(t.container,t.options.classPrefix+"android"),_constants.IS_IOS&&dom.addClass(t.container,t.options.classPrefix+"ios"),_constants.IS_IPAD&&dom.addClass(t.container,t.options.classPrefix+"ipad"),_constants.IS_IPHONE&&dom.addClass(t.container,t.options.classPrefix+"iphone"),dom.addClass(t.container,t.isVideo?t.options.classPrefix+"video":t.options.classPrefix+"audio"),_constants.IS_SAFARI&&!_constants.IS_IOS){dom.addClass(t.container,t.options.classPrefix+"hide-cues");for(var cloneNode=t.node.cloneNode(),children=t.node.children,mediaFiles=[],tracks=[],i=0,total=children.length;i<total;i++){var childNode=children[i];!function(){switch(childNode.tagName.toLowerCase()){case"source":var elements={};Array.prototype.slice.call(childNode.attributes).forEach(function(item){elements[item.name]=item.value}),elements.type=(0,_media.formatType)(elements.src,elements.type),mediaFiles.push(elements);break;case"track":childNode.mode="hidden",tracks.push(childNode);break;default:cloneNode.appendChild(childNode)}}()}t.node.remove(),t.node=t.media=cloneNode,mediaFiles.length&&(t.mediaFiles=mediaFiles),tracks.length&&(t.trackFiles=tracks)}t.container.querySelector("."+t.options.classPrefix+"mediaelement").appendChild(t.node),t.media.player=t,t.controls=t.container.querySelector("."+t.options.classPrefix+"controls"),t.layers=t.container.querySelector("."+t.options.classPrefix+"layers");var tagType=t.isVideo?"video":"audio",capsTagName=tagType.substring(0,1).toUpperCase()+tagType.substring(1);t.options[tagType+"Width"]>0||t.options[tagType+"Width"].toString().indexOf("%")>-1?t.width=t.options[tagType+"Width"]:""!==t.node.style.width&&null!==t.node.style.width?t.width=t.node.style.width:t.node.getAttribute("width")?t.width=t.node.getAttribute("width"):t.width=t.options["default"+capsTagName+"Width"],t.options[tagType+"Height"]>0||t.options[tagType+"Height"].toString().indexOf("%")>-1?t.height=t.options[tagType+"Height"]:""!==t.node.style.height&&null!==t.node.style.height?t.height=t.node.style.height:t.node.getAttribute("height")?t.height=t.node.getAttribute("height"):t.height=t.options["default"+capsTagName+"Height"],t.initialAspectRatio=t.height>=t.width?t.width/t.height:t.height/t.width,t.setPlayerSize(t.width,t.height),meOptions.pluginWidth=t.width,meOptions.pluginHeight=t.height}if(new _mediaelement2.default(t.media,meOptions,t.mediaFiles),void 0!==t.container&&t.options.features.length&&t.controlsAreVisible&&!t.options.hideVideoControlsOnLoad){var event=(0,_general.createEvent)("controlsshown",t.container);t.container.dispatchEvent(event)}return t}}return _createClass(MediaElementPlayer,[{key:"showControls",value:function(doAnimation){var t=this;if(doAnimation=void 0===doAnimation||doAnimation,!t.controlsAreVisible&&t.isVideo){if(doAnimation)!function(){dom.fadeIn(t.controls,200,function(){dom.removeClass(t.controls,t.options.classPrefix+"offscreen");var event=(0,_general.createEvent)("controlsshown",t.container);t.container.dispatchEvent(event)});for(var controls=t.container.querySelectorAll("."+t.options.classPrefix+"control"),i=0,total=controls.length;i<total;i++)!function(i,total){dom.fadeIn(controls[i],200,function(){dom.removeClass(controls[i],t.options.classPrefix+"offscreen")})}(i)}();else{dom.removeClass(t.controls,t.options.classPrefix+"offscreen"),t.controls.style.display="",t.controls.style.opacity=1;for(var controls=t.container.querySelectorAll("."+t.options.classPrefix+"control"),i=0,total=controls.length;i<total;i++)dom.removeClass(controls[i],t.options.classPrefix+"offscreen"),controls[i].style.display="";var event=(0,_general.createEvent)("controlsshown",t.container);t.container.dispatchEvent(event)}t.controlsAreVisible=!0,t.setControlsSize()}}},{key:"hideControls",value:function(doAnimation,forceHide){var t=this;if(doAnimation=void 0===doAnimation||doAnimation,!0===forceHide||!(!t.controlsAreVisible||t.options.alwaysShowControls||t.keyboardAction||t.media.paused&&4===t.media.readyState&&(!t.options.hideVideoControlsOnLoad&&t.media.currentTime<=0||!t.options.hideVideoControlsOnPause&&t.media.currentTime>0)||t.isVideo&&!t.options.hideVideoControlsOnLoad&&!t.media.readyState||t.media.ended)){if(doAnimation)!function(){dom.fadeOut(t.controls,200,function(){dom.addClass(t.controls,t.options.classPrefix+"offscreen"),t.controls.style.display="";var event=(0,_general.createEvent)("controlshidden",t.container);t.container.dispatchEvent(event)});for(var controls=t.container.querySelectorAll("."+t.options.classPrefix+"control"),i=0,total=controls.length;i<total;i++)!function(i,total){dom.fadeOut(controls[i],200,function(){dom.addClass(controls[i],t.options.classPrefix+"offscreen"),controls[i].style.display=""})}(i)}();else{dom.addClass(t.controls,t.options.classPrefix+"offscreen"),t.controls.style.display="",t.controls.style.opacity=0;for(var controls=t.container.querySelectorAll("."+t.options.classPrefix+"control"),i=0,total=controls.length;i<total;i++)dom.addClass(controls[i],t.options.classPrefix+"offscreen"),controls[i].style.display="";var event=(0,_general.createEvent)("controlshidden",t.container);t.container.dispatchEvent(event)}t.controlsAreVisible=!1}}},{key:"startControlsTimer",value:function(timeout){var t=this;timeout=void 0!==timeout?timeout:t.options.controlsTimeoutDefault,t.killControlsTimer("start"),t.controlsTimer=setTimeout(function(){t.hideControls(),t.killControlsTimer("hide")},timeout)}},{key:"killControlsTimer",value:function(){var t=this;null!==t.controlsTimer&&(clearTimeout(t.controlsTimer),delete t.controlsTimer,t.controlsTimer=null)}},{key:"disableControls",value:function(){var t=this;t.killControlsTimer(),t.controlsEnabled=!1,t.hideControls(!1,!0)}},{key:"enableControls",value:function(){var t=this;t.controlsEnabled=!0,t.showControls(!1)}},{key:"_meReady",value:function(media,domNode){var t=this,autoplayAttr=domNode.getAttribute("autoplay"),autoplay=!(void 0===autoplayAttr||null===autoplayAttr||"false"===autoplayAttr),isNative=null!==media.rendererName&&/(native|html5)/i.test(t.media.rendererName);if(t.controls&&t.enableControls(),t.container&&t.container.querySelector("."+t.options.classPrefix+"overlay-play")&&(t.container.querySelector("."+t.options.classPrefix+"overlay-play").style.display=""),!t.created){if(t.created=!0,t.media=media,t.domNode=domNode,!(_constants.IS_ANDROID&&t.options.AndroidUseNativeControls||_constants.IS_IPAD&&t.options.iPadUseNativeControls||_constants.IS_IPHONE&&t.options.iPhoneUseNativeControls)){if(!t.isVideo&&!t.options.features.length)return autoplay&&isNative&&t.play(),void(t.options.success&&("string"==typeof t.options.success?_window2.default[t.options.success](t.media,t.domNode,t):t.options.success(t.media,t.domNode,t)));t.buildposter(t,t.controls,t.layers,t.media),t.buildkeyboard(t,t.controls,t.layers,t.media),t.buildoverlays(t,t.controls,t.layers,t.media),t.findTracks(),t.featurePosition={};for(var i=0,total=t.options.features.length;i<total;i++){var feature=t.options.features[i];if(t["build"+feature])try{t["build"+feature](t,t.controls,t.layers,t.media)}catch(e){console.error("error building "+feature,e)}}var event=(0,_general.createEvent)("controlsready",t.container);t.container.dispatchEvent(event),t.setPlayerSize(t.width,t.height),t.setControlsSize(),t.isVideo&&(t.clickToPlayPauseCallback=function(){if(t.options.clickToPlayPause){var button=t.container.querySelector("."+t.options.classPrefix+"overlay-button"),pressed=button.getAttribute("aria-pressed");t.media.paused&&pressed?t.pause():t.media.paused?t.play():t.pause(),button.setAttribute("aria-pressed",!pressed)}},t.createIframeLayer(),t.media.addEventListener("click",t.clickToPlayPauseCallback),!_constants.IS_ANDROID&&!_constants.IS_IOS||t.options.alwaysShowControls?(t.container.addEventListener("mouseenter",function(){t.controlsEnabled&&(t.options.alwaysShowControls||(t.killControlsTimer("enter"),t.showControls(),t.startControlsTimer(t.options.controlsTimeoutMouseEnter)))}),t.container.addEventListener("mousemove",function(){t.controlsEnabled&&(t.controlsAreVisible||t.showControls(),t.options.alwaysShowControls||t.startControlsTimer(t.options.controlsTimeoutMouseEnter))}),t.container.addEventListener("mouseleave",function(){t.controlsEnabled&&(t.media.paused||t.options.alwaysShowControls||t.startControlsTimer(t.options.controlsTimeoutMouseLeave))})):t.node.addEventListener("touchstart",function(){t.controlsAreVisible?t.hideControls(!1):t.controlsEnabled&&t.showControls(!1)}),t.options.hideVideoControlsOnLoad&&t.hideControls(!1),autoplay&&!t.options.alwaysShowControls&&t.hideControls(),t.options.enableAutosize&&t.media.addEventListener("loadedmetadata",function(e){var target=void 0!==e?e.detail.target||e.target:t.media;t.options.videoHeight<=0&&!t.domNode.getAttribute("height")&&null!==target&&!isNaN(target.videoHeight)&&(t.setPlayerSize(target.videoWidth,target.videoHeight),t.setControlsSize(),t.media.setSize(target.videoWidth,target.videoHeight))})),t.media.addEventListener("play",function(){t.hasFocus=!0;for(var playerIndex in _mejs2.default.players)if(_mejs2.default.players.hasOwnProperty(playerIndex)){var p=_mejs2.default.players[playerIndex];p.id===t.id||!t.options.pauseOtherPlayers||p.paused||p.ended||(p.pause(),p.hasFocus=!1)}}),t.media.addEventListener("ended",function(){if(t.options.autoRewind)try{t.media.setCurrentTime(0),setTimeout(function(){var loadingElement=t.container.querySelector("."+t.options.classPrefix+"overlay-loading");loadingElement&&loadingElement.parentNode&&(loadingElement.parentNode.style.display="none")},20)}catch(exp){}"function"==typeof t.media.stop?t.media.stop():t.media.pause(),t.setProgressRail&&t.setProgressRail(),t.setCurrentRail&&t.setCurrentRail(),t.options.loop?t.play():!t.options.alwaysShowControls&&t.controlsEnabled&&t.showControls()}),t.media.addEventListener("loadedmetadata",function(){(0,_time.calculateTimeFormat)(t.duration,t.options,t.options.framesPerSecond||25),t.updateDuration&&t.updateDuration(),t.updateCurrent&&t.updateCurrent(),t.isFullScreen||(t.setPlayerSize(t.width,t.height),t.setControlsSize())});var duration=null;t.media.addEventListener("timeupdate",function(){isNaN(t.media.getDuration())||duration===t.media.getDuration()||(duration=t.media.getDuration(),(0,_time.calculateTimeFormat)(duration,t.options,t.options.framesPerSecond||25),t.updateDuration&&t.updateDuration(),t.updateCurrent&&t.updateCurrent(),t.setControlsSize())}),t.container.addEventListener("click",function(e){dom.addClass(e.currentTarget,t.options.classPrefix+"container-keyboard-inactive")}),t.container.addEventListener("focusin",function(e){dom.removeClass(e.currentTarget,t.options.classPrefix+"container-keyboard-inactive"),t.controlsEnabled&&!t.options.alwaysShowControls&&t.showControls(!1)}),t.container.addEventListener("focusout",function(e){setTimeout(function(){e.relatedTarget&&t.keyboardAction&&!e.relatedTarget.closest("."+t.options.classPrefix+"container")&&(t.keyboardAction=!1,t.isVideo&&!t.options.alwaysShowControls&&t.hideControls(!0))},0)}),setTimeout(function(){t.setPlayerSize(t.width,t.height),t.setControlsSize()},0),t.globalBind("resize",function(){t.isFullScreen||_constants.HAS_TRUE_NATIVE_FULLSCREEN&&_document2.default.webkitIsFullScreen||t.setPlayerSize(t.width,t.height),t.setControlsSize()})}autoplay&&isNative&&t.play(),t.options.success&&("string"==typeof t.options.success?_window2.default[t.options.success](t.media,t.domNode,t):t.options.success(t.media,t.domNode,t))}}},{key:"_handleError",value:function(e){var t=this;t.controls&&t.disableControls();var play=t.layers.querySelector("."+t.options.classPrefix+"overlay-play");play&&(play.style.display="none"),t.options.error&&t.options.error(e)}},{key:"setPlayerSize",value:function(width,height){var t=this;if(!t.options.setDimensions)return!1;switch(void 0!==width&&(t.width=width),void 0!==height&&(t.height=height),t.options.stretching){case"fill":t.isVideo?t.setFillMode():t.setDimensions(t.width,t.height);break;case"responsive":t.setResponsiveMode();break;case"none":t.setDimensions(t.width,t.height);break;default:!0===t.hasFluidMode()?t.setResponsiveMode():t.setDimensions(t.width,t.height)}}},{key:"hasFluidMode",value:function(){var t=this;return-1!==t.height.toString().indexOf("%")||t.node&&t.node.style.maxWidth&&"none"!==t.node.style.maxWidth&&t.node.style.maxWidth!==t.width||t.node&&t.node.currentStyle&&"100%"===t.node.currentStyle.maxWidth}},{key:"setResponsiveMode",value:function(){var t=this,parent=function(){for(var parentEl=void 0,el=t.container;el;){try{if(_constants.IS_FIREFOX&&"html"===el.tagName.toLowerCase()&&_window2.default.self!==_window2.default.top&&null!==_window2.default.frameElement)return _window2.default.frameElement;parentEl=el.parentElement}catch(e){parentEl=el.parentElement}if(parentEl&&dom.visible(parentEl))return parentEl;el=parentEl}return null}(),parentStyles=parent?getComputedStyle(parent,null):getComputedStyle(_document2.default.body,null),nativeWidth=function(){return t.isVideo?t.media.videoWidth&&t.media.videoWidth>0?t.media.videoWidth:t.node.getAttribute("width")?t.node.getAttribute("width"):t.options.defaultVideoWidth:t.options.defaultAudioWidth}(),nativeHeight=function(){return t.isVideo?t.media.videoHeight&&t.media.videoHeight>0?t.media.videoHeight:t.node.getAttribute("height")?t.node.getAttribute("height"):t.options.defaultVideoHeight:t.options.defaultAudioHeight}(),aspectRatio=function(){var ratio=1;return t.isVideo?(ratio=t.media.videoWidth&&t.media.videoWidth>0&&t.media.videoHeight&&t.media.videoHeight>0?t.height>=t.width?t.media.videoWidth/t.media.videoHeight:t.media.videoHeight/t.media.videoWidth:t.initialAspectRatio,(isNaN(ratio)||ratio<.01||ratio>100)&&(ratio=1),ratio):ratio}(),parentHeight=parseFloat(parentStyles.height),newHeight=void 0,parentWidth=parseFloat(parentStyles.width);if(newHeight=t.isVideo?"100%"===t.height?parseFloat(parentWidth*nativeHeight/nativeWidth,10):t.height>=t.width?parseFloat(parentWidth/aspectRatio,10):parseFloat(parentWidth*aspectRatio,10):nativeHeight,isNaN(newHeight)&&(newHeight=parentHeight),t.container.parentNode.length>0&&"body"===t.container.parentNode.tagName.toLowerCase()&&(parentWidth=_window2.default.innerWidth||_document2.default.documentElement.clientWidth||_document2.default.body.clientWidth,newHeight=_window2.default.innerHeight||_document2.default.documentElement.clientHeight||_document2.default.body.clientHeight),newHeight&&parentWidth){t.container.style.width=parentWidth+"px",t.container.style.height=newHeight+"px",t.node.style.width="100%",t.node.style.height="100%",t.isVideo&&t.media.setSize&&t.media.setSize(parentWidth,newHeight);for(var layerChildren=t.layers.children,i=0,total=layerChildren.length;i<total;i++)layerChildren[i].style.width="100%",layerChildren[i].style.height="100%"}}},{key:"setFillMode",value:function(){var t=this,parent=void 0,isIframe=!1;try{_window2.default.self!==_window2.default.top?(isIframe=!0,parent=_window2.default.frameElement):parent=t.outerContainer}catch(e){parent=t.outerContainer}var parentStyles=getComputedStyle(parent);"none"!==t.node.style.height&&t.node.style.height!==t.height&&(t.node.style.height="auto"),"none"!==t.node.style.maxWidth&&t.node.style.maxWidth!==t.width&&(t.node.style.maxWidth="none"),"none"!==t.node.style.maxHeight&&t.node.style.maxHeight!==t.height&&(t.node.style.maxHeight="none"),t.node.currentStyle&&("100%"===t.node.currentStyle.height&&(t.node.currentStyle.height="auto"),"100%"===t.node.currentStyle.maxWidth&&(t.node.currentStyle.maxWidth="none"),"100%"===t.node.currentStyle.maxHeight&&(t.node.currentStyle.maxHeight="none")),isIframe||parseFloat(parentStyles.width)||(parent.style.width=t.media.offsetWidth+"px"),isIframe||parseFloat(parentStyles.height)||(parent.style.height=t.media.offsetHeight+"px"),parentStyles=getComputedStyle(parent);var parentWidth=parseFloat(parentStyles.width),parentHeight=parseFloat(parentStyles.height);t.setDimensions("100%","100%");var poster=t.container.querySelector(t.options.classPrefix+"poster img");poster&&(poster.style.display="");for(var targetElement=t.container.querySelectorAll("object, embed, iframe, video"),initHeight=t.height,initWidth=t.width,scaleX1=parentWidth,scaleY1=initHeight*parentWidth/initWidth,scaleX2=initWidth*parentHeight/initHeight,scaleY2=parentHeight,bScaleOnWidth=scaleX2>parentWidth==!1,finalWidth=bScaleOnWidth?Math.floor(scaleX1):Math.floor(scaleX2),finalHeight=bScaleOnWidth?Math.floor(scaleY1):Math.floor(scaleY2),width=bScaleOnWidth?parentWidth+"px":finalWidth+"px",height=bScaleOnWidth?finalHeight+"px":parentHeight+"px",i=0,total=targetElement.length;i<total;i++)targetElement[i].style.height=height,targetElement[i].style.width=width,t.media.setSize&&t.media.setSize(width,height),targetElement[i].style.marginLeft=Math.floor((parentWidth-finalWidth)/2)+"px",targetElement[i].style.marginTop=0}},{key:"setDimensions",value:function(width,height){var t=this;width=(0,_general.isString)(width)&&width.indexOf("%")>-1?width:parseFloat(width)+"px",height=(0,_general.isString)(height)&&height.indexOf("%")>-1?height:parseFloat(height)+"px",t.container.style.width=width,t.container.style.height=height;for(var layers=t.layers.children,i=0,total=layers.length;i<total;i++)layers[i].style.width=width,layers[i].style.height=height}},{key:"setControlsSize",value:function(){var t=this;if(dom.visible(t.container))if(t.rail&&dom.visible(t.rail)){for(var totalStyles=t.total?getComputedStyle(t.total,null):null,totalMargin=totalStyles?parseFloat(totalStyles.marginLeft)+parseFloat(totalStyles.marginRight):0,railStyles=getComputedStyle(t.rail),railMargin=parseFloat(railStyles.marginLeft)+parseFloat(railStyles.marginRight),siblingsWidth=0,siblings=dom.siblings(t.rail,function(el){return el!==t.rail}),total=siblings.length,i=0;i<total;i++)siblingsWidth+=siblings[i].offsetWidth;siblingsWidth+=totalMargin+(0===totalMargin?2*railMargin:railMargin)+1,t.container.style.minWidth=siblingsWidth+"px";var controlsWidth=parseFloat(t.controls.offsetWidth);t.rail.style.width=(siblingsWidth>controlsWidth?0:controlsWidth-siblingsWidth)+"px";var event=(0,_general.createEvent)("controlsresize",t.container);t.container.dispatchEvent(event)}else{for(var children=t.controls.children,minWidth=0,_i=0,_total=children.length;_i<_total;_i++)minWidth+=children[_i].offsetWidth;t.container.style.minWidth=minWidth+"px"}}},{key:"addControlElement",value:function(element,key){var t=this;if(void 0!==t.featurePosition[key]){var child=t.controls.children[t.featurePosition[key]-1];child.parentNode.insertBefore(element,child.nextSibling)}else{t.controls.appendChild(element);for(var children=t.controls.children,i=0,total=children.length;i<total;i++)if(element==children[i]){t.featurePosition[key]=i;break}}}},{key:"createIframeLayer",value:function(){var t=this;if(t.isVideo&&null!==t.media.rendererName&&t.media.rendererName.indexOf("iframe")>-1&&!_document2.default.getElementById(t.media.id+"-iframe-overlay")){var layer=_document2.default.createElement("div"),target=_document2.default.getElementById(t.media.id+"_"+t.media.rendererName);layer.id=t.media.id+"-iframe-overlay",layer.className=t.options.classPrefix+"iframe-overlay",layer.addEventListener("click",function(e){t.options.clickToPlayPause&&(t.media.paused?t.media.play():t.media.pause(),e.preventDefault(),e.stopPropagation())}),target.parentNode.insertBefore(layer,target)}}},{key:"resetSize",value:function(){var t=this;setTimeout(function(){t.setPlayerSize(t.width,t.height),t.setControlsSize()},50)}},{key:"setPoster",value:function(url){var t=this,posterDiv=t.container.querySelector("."+t.options.classPrefix+"poster"),posterImg=posterDiv.querySelector("img");posterImg||(posterImg=_document2.default.createElement("img"),posterImg.className=t.options.classPrefix+"poster-img",posterImg.width="100%",posterImg.height="100%",posterDiv.appendChild(posterImg)),posterImg.setAttribute("src",url),posterDiv.style.backgroundImage='url("'+url+'")'}},{key:"changeSkin",value:function(className){var t=this;t.container.className=t.options.classPrefix+"container "+className,t.setPlayerSize(t.width,t.height),t.setControlsSize()}},{key:"globalBind",value:function(events,callback){var t=this,doc=t.node?t.node.ownerDocument:_document2.default;if(events=(0,_general.splitEvents)(events,t.id),events.d)for(var eventList=events.d.split(" "),i=0,total=eventList.length;i<total;i++)eventList[i].split(".").reduce(function(part,e){return doc.addEventListener(e,callback,!1),e},"");if(events.w)for(var _eventList=events.w.split(" "),_i2=0,_total2=_eventList.length;_i2<_total2;_i2++)_eventList[_i2].split(".").reduce(function(part,e){return _window2.default.addEventListener(e,callback,!1),e},"")}},{key:"globalUnbind",value:function(events,callback){var t=this,doc=t.node?t.node.ownerDocument:_document2.default;if(events=(0,_general.splitEvents)(events,t.id),events.d)for(var eventList=events.d.split(" "),i=0,total=eventList.length;i<total;i++)eventList[i].split(".").reduce(function(part,e){return doc.removeEventListener(e,callback,!1),e},"");if(events.w)for(var _eventList2=events.d.split(" "),_i3=0,_total3=_eventList2.length;_i3<_total3;_i3++)_eventList2[_i3].split(".").reduce(function(part,e){return _window2.default.removeEventListener(e,callback,!1),e},"")}},{key:"buildposter",value:function(player,controls,layers,media){var t=this,poster=_document2.default.createElement("div");poster.className=t.options.classPrefix+"poster "+t.options.classPrefix+"layer",layers.appendChild(poster);var posterUrl=player.media.getAttribute("poster");""!==player.options.poster&&(posterUrl=player.options.poster),posterUrl?t.setPoster(posterUrl):poster.style.display="none",media.addEventListener("play",function(){poster.style.display="none"}),media.addEventListener("playing",function(){poster.style.display="none"}),player.options.showPosterWhenEnded&&player.options.autoRewind&&media.addEventListener("ended",function(){poster.style.display=""}),media.addEventListener("error",function(){poster.style.display="none"}),player.options.showPosterWhenPaused&&media.addEventListener("pause",function(){media.ended||(poster.style.display="")})}},{key:"buildoverlays",value:function(player,controls,layers,media){if(player.isVideo){var t=this,loading=_document2.default.createElement("div"),error=_document2.default.createElement("div"),bigPlay=_document2.default.createElement("div"),buffer=controls.querySelector("."+t.options.classPrefix+"time-buffering");loading.style.display="none",loading.className=t.options.classPrefix+"overlay "+t.options.classPrefix+"layer",loading.innerHTML='<div class="'+t.options.classPrefix+'overlay-loading"><span class="'+t.options.classPrefix+'overlay-loading-bg-img"></span></div>',layers.appendChild(loading),error.style.display="none",error.className=t.options.classPrefix+"overlay "+t.options.classPrefix+"layer",error.innerHTML='<div class="'+t.options.classPrefix+'overlay-error"></div>',layers.appendChild(error),bigPlay.className=t.options.classPrefix+"overlay "+t.options.classPrefix+"layer "+t.options.classPrefix+"overlay-play",bigPlay.innerHTML='<div class="'+t.options.classPrefix+'overlay-button" role="button" tabindex="0"aria-label="'+_i18n2.default.t("mejs.play")+'" aria-pressed="false"></div>',bigPlay.addEventListener("click",function(){if(t.options.clickToPlayPause){var button=t.container.querySelector("."+t.options.classPrefix+"overlay-button"),pressed=button.getAttribute("aria-pressed");media.paused?media.play():media.pause(),button.setAttribute("aria-pressed",!!pressed)}}),bigPlay.addEventListener("keydown",function(e){var keyPressed=e.keyCode||e.which||0;if(13===keyPressed||_constants.IS_FIREFOX&&32===keyPressed){var event=(0,_general.createEvent)("click",bigPlay);return bigPlay.dispatchEvent(event),!1}}),layers.appendChild(bigPlay),null!==t.media.rendererName&&(/(youtube|facebook)/i.test(t.media.rendererName)&&!player.media.originalNode.getAttribute("poster")&&!player.options.poster||_constants.IS_STOCK_ANDROID)&&(bigPlay.style.display="none"),media.addEventListener("play",function(){bigPlay.style.display="none",loading.style.display="none",buffer&&(buffer.style.display="none"),error.style.display="none"}),media.addEventListener("playing",function(){bigPlay.style.display="none",loading.style.display="none",buffer&&(buffer.style.display="none"),error.style.display="none"}),media.addEventListener("seeking",function(){bigPlay.style.display="none",loading.style.display="",buffer&&(buffer.style.display="")}),media.addEventListener("seeked",function(){bigPlay.style.display=media.paused&&!_constants.IS_STOCK_ANDROID?"":"none",loading.style.display="none",buffer&&(buffer.style.display="")}),media.addEventListener("pause",function(){loading.style.display="none",_constants.IS_STOCK_ANDROID||(bigPlay.style.display=""),buffer&&(buffer.style.display="none")}),media.addEventListener("waiting",function(){loading.style.display="",buffer&&(buffer.style.display="")}),media.addEventListener("loadeddata",function(){loading.style.display="",buffer&&(buffer.style.display=""),_constants.IS_ANDROID&&(media.canplayTimeout=setTimeout(function(){if(_document2.default.createEvent){var evt=_document2.default.createEvent("HTMLEvents");return evt.initEvent("canplay",!0,!0),media.dispatchEvent(evt)}},300))}),media.addEventListener("canplay",function(){loading.style.display="none",buffer&&(buffer.style.display="none"),clearTimeout(media.canplayTimeout)}),media.addEventListener("error",function(e){t._handleError(e),loading.style.display="none",bigPlay.style.display="none",buffer&&(buffer.style.display="none"),e.message&&(error.style.display="block",error.querySelector("."+t.options.classPrefix+"overlay-error").innerHTML=e.message)}),media.addEventListener("keydown",function(e){t.onkeydown(player,media,e)})}}},{key:"buildkeyboard",value:function(player,controls,layers,media){var t=this;t.container.addEventListener("keydown",function(){t.keyboardAction=!0}),t.globalBind("keydown",function(event){var container=_document2.default.activeElement.closest("."+t.options.classPrefix+"container"),target=t.media.closest("."+t.options.classPrefix+"container");return t.hasFocus=!(!container||!target||container.id!==target.id),t.onkeydown(player,media,event)}),t.globalBind("click",function(event){t.hasFocus=!!event.target.closest("."+t.options.classPrefix+"container")})}},{key:"onkeydown",value:function(player,media,e){if(player.hasFocus&&player.options.enableKeyboard)for(var i=0,total=player.options.keyActions.length;i<total;i++)for(var keyAction=player.options.keyActions[i],j=0,jl=keyAction.keys.length;j<jl;j++)e.keyCode===keyAction.keys[j]&&(keyAction.action(player,media,e.keyCode,e),e.preventDefault(),e.stopPropagation());return!0}},{key:"play",value:function(){var t=this;t.media.getCurrentTime()<=0&&t.load(),t.media.play()}},{key:"pause",value:function(){try{this.media.pause()}catch(e){}}},{key:"load",value:function(){var t=this;t.isLoaded||t.media.load(),t.isLoaded=!0}},{key:"setMuted",value:function(muted){this.media.setMuted(muted)}},{key:"setCurrentTime",value:function(time){this.media.setCurrentTime(time)}},{key:"getCurrentTime",value:function(){return this.media.currentTime}},{key:"getDuration",value:function(){return this.media.duration}},{key:"setVolume",value:function(volume){this.media.setVolume(volume)}},{key:"getVolume",value:function(){return this.media.volume}},{key:"setSrc",value:function(src){var t=this,layer=_document2.default.getElementById(t.media.id+"-iframe-overlay");layer&&layer.remove(),t.media.setSrc(src),t.createIframeLayer()}},{key:"remove",value:function(){var t=this,rendererName=t.media.rendererName;t.media.paused||t.media.pause();var src=t.media.getSrc();t.media.setSrc("");for(var featureIndex in t.options.features){var feature=t.options.features[featureIndex];if(t["clean"+feature])try{t["clean"+feature](t)}catch(e){console.error("error cleaning "+feature,e)}}var nativeWidth=t.node.getAttribute("width"),nativeHeight=t.node.getAttribute("height");if(nativeWidth?-1===nativeWidth.indexOf("%")&&(nativeWidth+="px"):nativeWidth="auto",nativeHeight?-1===nativeHeight.indexOf("%")&&(nativeHeight+="px"):nativeHeight="auto",t.node.style.width=nativeWidth,t.node.style.height=nativeHeight,t.isDynamic?t.container.parentNode.insertBefore(t.node,t.container):function(){if(t.node.setAttribute("controls",!0),t.node.setAttribute("id",t.node.getAttribute("id").replace("_"+rendererName,"").replace("_from_mejs","")),delete t.node.autoplay,""!==t.media.canPlayType((0,_media.getTypeFromFile)(src))&&t.node.setAttribute("src",src),~rendererName.indexOf("iframe")){_document2.default.getElementById(t.media.id+"-iframe-overlay").remove()}var node=t.node.cloneNode();if(node.style.display="",t.container.parentNode.insertBefore(node,t.container),t.node.remove(),t.mediaFiles)for(var i=0,total=t.mediaFiles.length;i<total;i++){var source=_document2.default.createElement("source");source.setAttribute("src",t.mediaFiles[i].src),source.setAttribute("type",t.mediaFiles[i].type),node.appendChild(source)}if(t.trackFiles)for(var _i4=0,_total4=t.trackFiles.length;_i4<_total4;_i4++)!function(_i4,_total4){var track=t.trackFiles[_i4],newTrack=_document2.default.createElement("track");newTrack.kind=track.kind,newTrack.label=track.label,newTrack.srclang=track.srclang,newTrack.src=track.src,node.appendChild(newTrack),newTrack.addEventListener("load",function(){this.mode="showing",node.textTracks[_i4].mode="showing"})}(_i4);delete t.node,delete t.mediaFiles,delete t.trackFiles}(),"function"==typeof t.media.destroy&&t.media.destroy(),delete _mejs2.default.players[t.id],"object"===_typeof(t.container)){t.container.parentNode.querySelector("."+t.options.classPrefix+"offscreen").remove(),t.container.remove()}t.globalUnbind(),delete t.media.player}}]),MediaElementPlayer}();_window2.default.MediaElementPlayer=MediaElementPlayer,exports.default=MediaElementPlayer,function($){void 0!==$&&($.fn.mediaelementplayer=function(options){return!1===options?this.each(function(){var player=$(this).data("mediaelementplayer");player&&player.remove(),$(this).removeData("mediaelementplayer")}):this.each(function(){$(this).data("mediaelementplayer",new MediaElementPlayer(this,options))}),this},$(_document2.default).ready(function(){$("."+config.classPrefix+"player").mediaelementplayer()}))}(_mejs2.default.$)},{2:2,20:20,21:21,22:22,23:23,25:25,3:3,5:5,6:6,7:7}],18:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PluginDetector=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_window=_dereq_(3),_window2=_interopRequireDefault(_window),_document=_dereq_(2),_document2=_interopRequireDefault(_document),_mejs=_dereq_(7),_mejs2=_interopRequireDefault(_mejs),_i18n=_dereq_(5),_i18n2=_interopRequireDefault(_i18n),_renderer=_dereq_(8),_general=_dereq_(22),_constants=_dereq_(20),_media=_dereq_(23),PluginDetector=exports.PluginDetector={plugins:[],hasPluginVersion:function(plugin,v){var pv=PluginDetector.plugins[plugin];return v[1]=v[1]||0,v[2]=v[2]||0,pv[0]>v[0]||pv[0]===v[0]&&pv[1]>v[1]||pv[0]===v[0]&&pv[1]===v[1]&&pv[2]>=v[2]},addPlugin:function(p,pluginName,mimeType,activeX,axDetect){PluginDetector.plugins[p]=PluginDetector.detectPlugin(pluginName,mimeType,activeX,axDetect)},detectPlugin:function(pluginName,mimeType,activeX,axDetect){var version=[0,0,0],description=void 0,ax=void 0;if(null!==_constants.NAV.plugins&&void 0!==_constants.NAV.plugins&&"object"===_typeof(_constants.NAV.plugins[pluginName])){if((description=_constants.NAV.plugins[pluginName].description)&&(void 0===_constants.NAV.mimeTypes||!_constants.NAV.mimeTypes[mimeType]||_constants.NAV.mimeTypes[mimeType].enabledPlugin)){version=description.replace(pluginName,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(var i=0,total=version.length;i<total;i++)version[i]=parseInt(version[i].match(/\d+/),10)}}else if(void 0!==_window2.default.ActiveXObject)try{ax=new ActiveXObject(activeX),ax&&(version=axDetect(ax))}catch(e){}return version}};PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(ax){var version=[],d=ax.GetVariable("$version");return d&&(d=d.split(" ")[1].split(","),version=[parseInt(d[0],10),parseInt(d[1],10),parseInt(d[2],10)]),version});var FlashMediaElementRenderer={create:function(mediaElement,options,mediaFiles){var flash={};flash.options=options,flash.id=mediaElement.id+"_"+flash.options.prefix,flash.mediaElement=mediaElement,flash.flashState={},flash.flashApi=null,flash.flashApiStack=[];for(var props=_mejs2.default.html5media.properties,i=0,total=props.length;i<total;i++)!function(propName){flash.flashState[propName]=null;var capName=""+propName.substring(0,1).toUpperCase()+propName.substring(1);flash["get"+capName]=function(){if(null!==flash.flashApi){if("function"==typeof flash.flashApi["get_"+propName]){var value=flash.flashApi["get_"+propName]();return"buffered"===propName?{start:function(){return 0},end:function(){return value},length:1}:value}return null}return null},flash["set"+capName]=function(value){if("src"===propName&&(value=(0,_media.absolutizeUrl)(value)),null!==flash.flashApi&&void 0!==flash.flashApi["set_"+propName])try{flash.flashApi["set_"+propName](value)}catch(e){}else flash.flashApiStack.push({type:"set",propName:propName,value:value})}}(props[i]);var methods=_mejs2.default.html5media.methods;methods.push("stop");for(var _i=0,_total=methods.length;_i<_total;_i++)!function(methodName){flash[methodName]=function(){if(null!==flash.flashApi){if(flash.flashApi["fire_"+methodName])try{flash.flashApi["fire_"+methodName]()}catch(e){}}else flash.flashApiStack.push({type:"call",methodName:methodName})}}(methods[_i]);for(var initEvents=["rendererready"],_i2=0,_total2=initEvents.length;_i2<_total2;_i2++){var event=(0,_general.createEvent)(initEvents[_i2],flash);mediaElement.dispatchEvent(event)}_window2.default["__ready__"+flash.id]=function(){if(flash.flashReady=!0,flash.flashApi=_document2.default.getElementById("__"+flash.id),flash.flashApiStack.length)for(var _i3=0,_total3=flash.flashApiStack.length;_i3<_total3;_i3++){var stackItem=flash.flashApiStack[_i3];if("set"===stackItem.type){var propName=stackItem.propName,capName=""+propName.substring(0,1).toUpperCase()+propName.substring(1);flash["set"+capName](stackItem.value)}else"call"===stackItem.type&&flash[stackItem.methodName]()}},_window2.default["__event__"+flash.id]=function(eventName,message){var event=(0,_general.createEvent)(eventName,flash);event.message=message||"",flash.mediaElement.dispatchEvent(event)},flash.flashWrapper=_document2.default.createElement("div"),-1===["always","sameDomain"].indexOf(flash.options.shimScriptAccess)&&(flash.options.shimScriptAccess="sameDomain");var autoplay=mediaElement.originalNode.autoplay,flashVars=["uid="+flash.id,"autoplay="+autoplay,"allowScriptAccess="+flash.options.shimScriptAccess],isVideo=null!==mediaElement.originalNode&&"video"===mediaElement.originalNode.tagName.toLowerCase(),flashHeight=isVideo?mediaElement.originalNode.height:1,flashWidth=isVideo?mediaElement.originalNode.width:1;mediaElement.originalNode.getAttribute("src")&&flashVars.push("src="+mediaElement.originalNode.getAttribute("src")),!0===flash.options.enablePseudoStreaming&&(flashVars.push("pseudostreamstart="+flash.options.pseudoStreamingStartQueryParam),flashVars.push("pseudostreamtype="+flash.options.pseudoStreamingType)),mediaElement.appendChild(flash.flashWrapper),null!==mediaElement.originalNode&&(mediaElement.originalNode.style.display="none");var settings=[];if(_constants.IS_IE){var specialIEContainer=_document2.default.createElement("div");flash.flashWrapper.appendChild(specialIEContainer),settings=['classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"','codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"','id="__'+flash.id+'"','width="'+flashWidth+'"','height="'+flashHeight+'"'],isVideo||settings.push('style="clip: rect(0 0 0 0); position: absolute;"'),specialIEContainer.outerHTML="<object "+settings.join(" ")+'><param name="movie" value="'+flash.options.pluginPath+flash.options.filename+"?x="+new Date+'" /><param name="flashvars" value="'+flashVars.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="'+flash.options.shimScriptAccess+'" /><param name="allowFullScreen" value="true" /><div>'+_i18n2.default.t("mejs.install-flash")+"</div></object>"}else settings=['id="__'+flash.id+'"','name="__'+flash.id+'"','play="true"','loop="false"','quality="high"','bgcolor="#000000"','wmode="transparent"','allowScriptAccess="'+flash.options.shimScriptAccess+'"','allowFullScreen="true"','type="application/x-shockwave-flash"','pluginspage="//www.macromedia.com/go/getflashplayer"','src="'+flash.options.pluginPath+flash.options.filename+'"','flashvars="'+flashVars.join("&")+'"','width="'+flashWidth+'"','height="'+flashHeight+'"'],isVideo||settings.push('style="clip: rect(0 0 0 0); position: absolute;"'),flash.flashWrapper.innerHTML="<embed "+settings.join(" ")+">";if(flash.flashNode=flash.flashWrapper.lastChild,flash.hide=function(){isVideo&&(flash.flashNode.style.display="none")},flash.show=function(){isVideo&&(flash.flashNode.style.display="")},flash.setSize=function(width,height){flash.flashNode.style.width=width+"px",flash.flashNode.style.height=height+"px",null!==flash.flashApi&&"function"==typeof flash.flashApi.fire_setSize&&flash.flashApi.fire_setSize(width,height)},flash.destroy=function(){flash.flashNode.remove()},mediaFiles&&mediaFiles.length>0)for(var _i4=0,_total4=mediaFiles.length;_i4<_total4;_i4++)if(_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[_i4].type)){flash.setSrc(mediaFiles[_i4].src);break}return flash}};if(PluginDetector.hasPluginVersion("flash",[10,0,0])){_media.typeChecks.push(function(url){return url=url.toLowerCase(),url.startsWith("rtmp")?~url.indexOf(".mp3")?"audio/rtmp":"video/rtmp":/\.og(a|g)/i.test(url)?"audio/ogg":~url.indexOf(".m3u8")?"application/x-mpegURL":~url.indexOf(".mpd")?"application/dash+xml":~url.indexOf(".flv")?"video/flv":null});var FlashMediaElementVideoRenderer={name:"flash_video",options:{prefix:"flash_video",filename:"mediaelement-flash-video.swf",enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",pseudoStreamingType:"byte"},canPlayType:function(type){return~["video/mp4","video/rtmp","audio/rtmp","rtmp/mp4","audio/mp4","video/flv","video/x-flv"].indexOf(type.toLowerCase())},create:FlashMediaElementRenderer.create};_renderer.renderer.add(FlashMediaElementVideoRenderer);var FlashMediaElementHlsVideoRenderer={name:"flash_hls",options:{prefix:"flash_hls",filename:"mediaelement-flash-video-hls.swf"},canPlayType:function(type){return~["application/x-mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(type.toLowerCase())},create:FlashMediaElementRenderer.create};_renderer.renderer.add(FlashMediaElementHlsVideoRenderer);var FlashMediaElementMdashVideoRenderer={name:"flash_dash",options:{prefix:"flash_dash",filename:"mediaelement-flash-video-mdash.swf"},canPlayType:function(type){return~["application/dash+xml"].indexOf(type.toLowerCase())},create:FlashMediaElementRenderer.create};_renderer.renderer.add(FlashMediaElementMdashVideoRenderer);var FlashMediaElementAudioRenderer={name:"flash_audio",options:{prefix:"flash_audio",filename:"mediaelement-flash-audio.swf"},canPlayType:function(type){return~["audio/mp3"].indexOf(type.toLowerCase())},create:FlashMediaElementRenderer.create};_renderer.renderer.add(FlashMediaElementAudioRenderer);var FlashMediaElementAudioOggRenderer={name:"flash_audio_ogg",options:{prefix:"flash_audio_ogg",filename:"mediaelement-flash-audio-ogg.swf"},canPlayType:function(type){return~["audio/ogg","audio/oga","audio/ogv"].indexOf(type.toLowerCase())},create:FlashMediaElementRenderer.create};_renderer.renderer.add(FlashMediaElementAudioOggRenderer)}},{2:2,20:20,22:22,23:23,3:3,5:5,7:7,8:8}],19:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _window=_dereq_(3),_window2=_interopRequireDefault(_window),_document=_dereq_(2),_document2=_interopRequireDefault(_document),_mejs=_dereq_(7),_mejs2=_interopRequireDefault(_mejs),_renderer=_dereq_(8),_general=_dereq_(22),_constants=_dereq_(20),HtmlMediaElement={name:"html5",options:{prefix:"html5"},canPlayType:function(type){var mediaElement=_document2.default.createElement("video");return _constants.IS_ANDROID&&/\/mp(3|4)$/i.test(type)||~["application/x-mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(type.toLowerCase())&&_constants.SUPPORTS_NATIVE_HLS?"yes":mediaElement.canPlayType?mediaElement.canPlayType(type.toLowerCase()).replace(/no/,""):""},create:function(mediaElement,options,mediaFiles){var id=mediaElement.id+"_"+options.prefix,node=null;void 0===mediaElement.originalNode||null===mediaElement.originalNode?(node=_document2.default.createElement("audio"),mediaElement.appendChild(node)):node=mediaElement.originalNode,node.setAttribute("id",id);for(var props=_mejs2.default.html5media.properties,i=0,total=props.length;i<total;i++)!function(propName){var capName=""+propName.substring(0,1).toUpperCase()+propName.substring(1);node["get"+capName]=function(){return node[propName]},node["set"+capName]=function(value){-1===_mejs2.default.html5media.readOnlyProperties.indexOf(propName)&&(node[propName]=value)}}(props[i]);for(var events=_mejs2.default.html5media.events.concat(["click","mouseover","mouseout"]),_i=0,_total=events.length;_i<_total;_i++)!function(eventName){node.addEventListener(eventName,function(e){var event=(0,_general.createEvent)(e.type,mediaElement);mediaElement.dispatchEvent(event)})}(events[_i]);if(node.setSize=function(width,height){return node.style.width=width+"px",node.style.height=height+"px",node},node.hide=function(){return node.style.display="none",node},node.show=function(){return node.style.display="",node},mediaFiles&&mediaFiles.length>0)for(var _i2=0,_total2=mediaFiles.length;_i2<_total2;_i2++)if(_renderer.renderer.renderers[options.prefix].canPlayType(mediaFiles[_i2].type)){node.setAttribute("src",mediaFiles[_i2].src);break}var event=(0,_general.createEvent)("rendererready",node);return mediaElement.dispatchEvent(event),node}};_window2.default.HtmlMediaElement=_mejs2.default.HtmlMediaElement=HtmlMediaElement,_renderer.renderer.add(HtmlMediaElement)},{2:2,20:20,22:22,3:3,7:7,8:8}],20:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.cancelFullScreen=exports.requestFullScreen=exports.isFullScreen=exports.FULLSCREEN_EVENT_NAME=exports.HAS_NATIVE_FULLSCREEN_ENABLED=exports.HAS_TRUE_NATIVE_FULLSCREEN=exports.HAS_IOS_FULLSCREEN=exports.HAS_MS_NATIVE_FULLSCREEN=exports.HAS_MOZ_NATIVE_FULLSCREEN=exports.HAS_WEBKIT_NATIVE_FULLSCREEN=exports.HAS_NATIVE_FULLSCREEN=exports.SUPPORTS_NATIVE_HLS=exports.SUPPORT_POINTER_EVENTS=exports.HAS_MSE=exports.IS_STOCK_ANDROID=exports.IS_SAFARI=exports.IS_FIREFOX=exports.IS_CHROME=exports.IS_EDGE=exports.IS_IE=exports.IS_ANDROID=exports.IS_IOS=exports.IS_IPOD=exports.IS_IPHONE=exports.IS_IPAD=exports.UA=exports.NAV=void 0;for(var _window=_dereq_(3),_window2=_interopRequireDefault(_window),_document=_dereq_(2),_document2=_interopRequireDefault(_document),_mejs=_dereq_(7),_mejs2=_interopRequireDefault(_mejs),NAV=exports.NAV=_window2.default.navigator,UA=exports.UA=NAV.userAgent.toLowerCase(),IS_IPAD=exports.IS_IPAD=/ipad/i.test(UA)&&!_window2.default.MSStream,IS_IPHONE=exports.IS_IPHONE=/iphone/i.test(UA)&&!_window2.default.MSStream,IS_IPOD=exports.IS_IPOD=/ipod/i.test(UA)&&!_window2.default.MSStream,IS_ANDROID=(exports.IS_IOS=/ipad|iphone|ipod/i.test(UA)&&!_window2.default.MSStream,exports.IS_ANDROID=/android/i.test(UA)),IS_IE=exports.IS_IE=/(trident|microsoft)/i.test(NAV.appName),IS_EDGE=(exports.IS_EDGE="msLaunchUri"in NAV&&!("documentMode"in _document2.default)),IS_CHROME=exports.IS_CHROME=/chrome/i.test(UA),IS_FIREFOX=exports.IS_FIREFOX=/firefox/i.test(UA),IS_SAFARI=exports.IS_SAFARI=/safari/i.test(UA)&&!IS_CHROME,IS_STOCK_ANDROID=exports.IS_STOCK_ANDROID=/^mozilla\/\d+\.\d+\s\(linux;\su;/i.test(UA),HAS_MSE=(exports.HAS_MSE="MediaSource"in _window2.default),SUPPORT_POINTER_EVENTS=(exports.SUPPORT_POINTER_EVENTS=function(){var element=_document2.default.createElement("x"),documentElement=_document2.default.documentElement,getComputedStyle=_window2.default.getComputedStyle;if(!("pointerEvents"in element.style))return!1;element.style.pointerEvents="auto",element.style.pointerEvents="x",documentElement.appendChild(element);var supports=getComputedStyle&&"auto"===getComputedStyle(element,"").pointerEvents;return element.remove(),!!supports}()),html5Elements=["source","track","audio","video"],video=void 0,i=0,total=html5Elements.length;i<total;i++)video=_document2.default.createElement(html5Elements[i]);var SUPPORTS_NATIVE_HLS=exports.SUPPORTS_NATIVE_HLS=IS_SAFARI||IS_ANDROID&&(IS_CHROME||IS_STOCK_ANDROID)||IS_IE&&/edge/i.test(UA),hasiOSFullScreen=void 0!==video.webkitEnterFullscreen,hasNativeFullscreen=void 0!==video.requestFullscreen;hasiOSFullScreen&&/mac os x 10_5/i.test(UA)&&(hasNativeFullscreen=!1,hasiOSFullScreen=!1);var hasWebkitNativeFullScreen=void 0!==video.webkitRequestFullScreen,hasMozNativeFullScreen=void 0!==video.mozRequestFullScreen,hasMsNativeFullScreen=void 0!==video.msRequestFullscreen,hasTrueNativeFullScreen=hasWebkitNativeFullScreen||hasMozNativeFullScreen||hasMsNativeFullScreen,nativeFullScreenEnabled=hasTrueNativeFullScreen,fullScreenEventName="",isFullScreen=void 0,requestFullScreen=void 0,cancelFullScreen=void 0;hasMozNativeFullScreen?nativeFullScreenEnabled=_document2.default.mozFullScreenEnabled:hasMsNativeFullScreen&&(nativeFullScreenEnabled=_document2.default.msFullscreenEnabled),IS_CHROME&&(hasiOSFullScreen=!1),hasTrueNativeFullScreen&&(hasWebkitNativeFullScreen?fullScreenEventName="webkitfullscreenchange":hasMozNativeFullScreen?fullScreenEventName="mozfullscreenchange":hasMsNativeFullScreen&&(fullScreenEventName="MSFullscreenChange"),exports.isFullScreen=isFullScreen=function(){return hasMozNativeFullScreen?_document2.default.mozFullScreen:hasWebkitNativeFullScreen?_document2.default.webkitIsFullScreen:hasMsNativeFullScreen?null!==_document2.default.msFullscreenElement:void 0},exports.requestFullScreen=requestFullScreen=function(el){hasWebkitNativeFullScreen?el.webkitRequestFullScreen():hasMozNativeFullScreen?el.mozRequestFullScreen():hasMsNativeFullScreen&&el.msRequestFullscreen()},exports.cancelFullScreen=cancelFullScreen=function(){hasWebkitNativeFullScreen?_document2.default.webkitCancelFullScreen():hasMozNativeFullScreen?_document2.default.mozCancelFullScreen():hasMsNativeFullScreen&&_document2.default.msExitFullscreen()});var HAS_NATIVE_FULLSCREEN=exports.HAS_NATIVE_FULLSCREEN=hasNativeFullscreen,HAS_WEBKIT_NATIVE_FULLSCREEN=exports.HAS_WEBKIT_NATIVE_FULLSCREEN=hasWebkitNativeFullScreen,HAS_MOZ_NATIVE_FULLSCREEN=exports.HAS_MOZ_NATIVE_FULLSCREEN=hasMozNativeFullScreen,HAS_MS_NATIVE_FULLSCREEN=exports.HAS_MS_NATIVE_FULLSCREEN=hasMsNativeFullScreen,HAS_IOS_FULLSCREEN=exports.HAS_IOS_FULLSCREEN=hasiOSFullScreen,HAS_TRUE_NATIVE_FULLSCREEN=exports.HAS_TRUE_NATIVE_FULLSCREEN=hasTrueNativeFullScreen,HAS_NATIVE_FULLSCREEN_ENABLED=exports.HAS_NATIVE_FULLSCREEN_ENABLED=nativeFullScreenEnabled,FULLSCREEN_EVENT_NAME=exports.FULLSCREEN_EVENT_NAME=fullScreenEventName;exports.isFullScreen=isFullScreen,exports.requestFullScreen=requestFullScreen,exports.cancelFullScreen=cancelFullScreen,_mejs2.default.Features=_mejs2.default.Features||{},_mejs2.default.Features.isiPad=IS_IPAD,_mejs2.default.Features.isiPod=IS_IPOD,_mejs2.default.Features.isiPhone=IS_IPHONE,_mejs2.default.Features.isiOS=_mejs2.default.Features.isiPhone||_mejs2.default.Features.isiPad,_mejs2.default.Features.isAndroid=IS_ANDROID,_mejs2.default.Features.isIE=IS_IE,_mejs2.default.Features.isEdge=IS_EDGE,_mejs2.default.Features.isChrome=IS_CHROME,_mejs2.default.Features.isFirefox=IS_FIREFOX,_mejs2.default.Features.isSafari=IS_SAFARI,_mejs2.default.Features.isStockAndroid=IS_STOCK_ANDROID,_mejs2.default.Features.hasMSE=HAS_MSE,_mejs2.default.Features.supportsNativeHLS=SUPPORTS_NATIVE_HLS,_mejs2.default.Features.supportsPointerEvents=SUPPORT_POINTER_EVENTS,_mejs2.default.Features.hasiOSFullScreen=HAS_IOS_FULLSCREEN,_mejs2.default.Features.hasNativeFullscreen=HAS_NATIVE_FULLSCREEN,_mejs2.default.Features.hasWebkitNativeFullScreen=HAS_WEBKIT_NATIVE_FULLSCREEN,_mejs2.default.Features.hasMozNativeFullScreen=HAS_MOZ_NATIVE_FULLSCREEN,_mejs2.default.Features.hasMsNativeFullScreen=HAS_MS_NATIVE_FULLSCREEN,_mejs2.default.Features.hasTrueNativeFullScreen=HAS_TRUE_NATIVE_FULLSCREEN,_mejs2.default.Features.nativeFullScreenEnabled=HAS_NATIVE_FULLSCREEN_ENABLED,_mejs2.default.Features.fullScreenEventName=FULLSCREEN_EVENT_NAME,_mejs2.default.Features.isFullScreen=isFullScreen,_mejs2.default.Features.requestFullScreen=requestFullScreen,_mejs2.default.Features.cancelFullScreen=cancelFullScreen},{2:2,3:3,7:7}],21:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function loadScript(url){return new Promise(function(resolve,reject){var script=_document2.default.createElement("script");script.src=url,script.async=!0,script.onload=function(){script.remove(),resolve()},script.onerror=function(){script.remove(),reject()},_document2.default.head.appendChild(script)})}function offset(el){var rect=el.getBoundingClientRect(),scrollLeft=_window2.default.pageXOffset||_document2.default.documentElement.scrollLeft,scrollTop=_window2.default.pageYOffset||_document2.default.documentElement.scrollTop;return{top:rect.top+scrollTop,left:rect.left+scrollLeft}}function toggleClass(el,className){hasClass(el,className)?removeClass(el,className):addClass(el,className)}function fadeOut(el){var duration=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,callback=arguments[2];el.style.opacity||(el.style.opacity=1);var start=null;_window2.default.requestAnimationFrame(function animate(timestamp){start=start||timestamp;var progress=timestamp-start,opacity=parseFloat(1-progress/duration,2);el.style.opacity=opacity<0?0:opacity,progress>duration?callback&&"function"==typeof callback&&callback():_window2.default.requestAnimationFrame(animate)})}function fadeIn(el){var duration=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,callback=arguments[2];el.style.opacity||(el.style.opacity=0);var start=null;_window2.default.requestAnimationFrame(function animate(timestamp){start=start||timestamp;var progress=timestamp-start,opacity=parseFloat(progress/duration,2);el.style.opacity=opacity>1?1:opacity,progress>duration?callback&&"function"==typeof callback&&callback():_window2.default.requestAnimationFrame(animate)})}function siblings(el,filter){var siblings=[];el=el.parentNode.firstChild;do{filter&&!filter(el)||siblings.push(el)}while(el=el.nextSibling);return siblings}function visible(elem){return!!(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length)}function ajax(url,dataType,success,error){var xhr=_window2.default.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),type="application/x-www-form-urlencoded; charset=UTF-8",completed=!1,accept="*/".concat("*");switch(dataType){case"text":type="text/plain";break;case"json":type="application/json, text/javascript";break;case"html":type="text/html";break;case"xml":type="application/xml, text/xml"}"application/x-www-form-urlencoded"!==type&&(accept=type+", */*; q=0.01"),xhr&&(xhr.open("GET",url,!0),xhr.setRequestHeader("Accept",accept),xhr.onreadystatechange=function(){if(!completed&&4===xhr.readyState)if(200===xhr.status){completed=!0;var data=void 0;switch(dataType){case"json":data=JSON.parse(xhr.responseText);break;case"xml":data=xhr.responseXML;break;default:data=xhr.responseText}success(data)}else"function"==typeof error&&error(xhr.status)},xhr.send())}Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeClass=exports.addClass=exports.hasClass=void 0,exports.loadScript=loadScript,exports.offset=offset,exports.toggleClass=toggleClass,exports.fadeOut=fadeOut,exports.fadeIn=fadeIn,exports.siblings=siblings,exports.visible=visible,exports.ajax=ajax;var _window=_dereq_(3),_window2=_interopRequireDefault(_window),_document=_dereq_(2),_document2=_interopRequireDefault(_document),_mejs=_dereq_(7),_mejs2=_interopRequireDefault(_mejs),hasClassMethod=void 0,addClassMethod=void 0,removeClassMethod=void 0;"classList"in _document2.default.documentElement?(hasClassMethod=function(el,className){return void 0!==el.classList&&el.classList.contains(className)},addClassMethod=function(el,className){return el.classList.add(className)},removeClassMethod=function(el,className){return el.classList.remove(className)}):(hasClassMethod=function(el,className){return new RegExp("\\b"+className+"\\b").test(el.className)},addClassMethod=function(el,className){hasClass(el,className)||(el.className+=" "+className)},removeClassMethod=function(el,className){el.className=el.className.replace(new RegExp("\\b"+className+"\\b","g"),"")});var hasClass=exports.hasClass=hasClassMethod,addClass=exports.addClass=addClassMethod,removeClass=exports.removeClass=removeClassMethod;_mejs2.default.Utils=_mejs2.default.Utils||{},_mejs2.default.Utils.offset=offset,_mejs2.default.Utils.hasClass=hasClass,_mejs2.default.Utils.addClass=addClass,_mejs2.default.Utils.removeClass=removeClass,_mejs2.default.Utils.toggleClass=toggleClass,_mejs2.default.Utils.fadeIn=fadeIn,_mejs2.default.Utils.fadeOut=fadeOut,_mejs2.default.Utils.siblings=siblings,_mejs2.default.Utils.visible=visible,_mejs2.default.Utils.ajax=ajax,_mejs2.default.Utils.loadScript=loadScript},{2:2,3:3,7:7}],22:[function(_dereq_,module,exports){"use strict";function escapeHTML(input){if("string"!=typeof input)throw new Error("Argument passed must be a string");var map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return input.replace(/[&<>"]/g,function(c){return map[c]})}function debounce(func,wait){var _this=this,_arguments=arguments,immediate=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"!=typeof func)throw new Error("First argument must be a function");if("number"!=typeof wait)throw new Error("Second argument must be a numeric value");var timeout=void 0;return function(){var context=_this,args=_arguments,later=function(){timeout=null,immediate||func.apply(context,args)},callNow=immediate&&!timeout;clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&func.apply(context,args)}}function isObjectEmpty(instance){return Object.getOwnPropertyNames(instance).length<=0}function splitEvents(events,id){var rwindow=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/,ret={d:[],w:[]};return(events||"").split(" ").forEach(function(v){var eventName=v+(id?"."+id:"");eventName.startsWith(".")?(ret.d.push(eventName),ret.w.push(eventName)):ret[rwindow.test(v)?"w":"d"].push(eventName)}),ret.d=ret.d.join(" "),ret.w=ret.w.join(" "),ret}function createEvent(eventName,target){if("string"!=typeof eventName)throw new Error("Event name must be a string");var eventFrags=eventName.match(/([a-z]+\.([a-z]+))/i),detail={target:target};return null!==eventFrags&&(eventName=eventFrags[1],detail.namespace=eventFrags[2]),new window.CustomEvent(eventName,{detail:detail})}function isNodeAfter(sourceNode,targetNode){return!!(sourceNode&&targetNode&&2&sourceNode.compareDocumentPosition(targetNode))}function isString(value){return"string"==typeof value}Object.defineProperty(exports,"__esModule",{value:!0}),exports.escapeHTML=escapeHTML,exports.debounce=debounce,exports.isObjectEmpty=isObjectEmpty,exports.splitEvents=splitEvents,exports.createEvent=createEvent,exports.isNodeAfter=isNodeAfter,exports.isString=isString;var _mejs=_dereq_(7),_mejs2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_mejs);_mejs2.default.Utils=_mejs2.default.Utils||{},_mejs2.default.Utils.escapeHTML=escapeHTML,_mejs2.default.Utils.debounce=debounce,_mejs2.default.Utils.isObjectEmpty=isObjectEmpty,_mejs2.default.Utils.splitEvents=splitEvents,_mejs2.default.Utils.createEvent=createEvent,_mejs2.default.Utils.isNodeAfter=isNodeAfter,_mejs2.default.Utils.isString=isString},{7:7}],23:[function(_dereq_,module,exports){"use strict";function absolutizeUrl(url){if("string"!=typeof url)throw new Error("`url` argument must be a string");var el=document.createElement("div");return el.innerHTML='<a href="'+(0,_general.escapeHTML)(url)+'">x</a>',el.firstChild.href}function formatType(url){var type=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return url&&!type?getTypeFromFile(url):getMimeFromType(type)}function getMimeFromType(type){if("string"!=typeof type)throw new Error("`type` argument must be a string");return type&&type.indexOf(";")>-1?type.substr(0,type.indexOf(";")):type}function getTypeFromFile(url){if("string"!=typeof url)throw new Error("`url` argument must be a string");for(var i=0,total=typeChecks.length;i<total;i++){var type=typeChecks[i](url);if(type)return type}var ext=getExtension(url),normalizedExt=normalizeExtension(ext),mime="video/mp4";return normalizedExt&&(~["mp4","m4v","ogg","ogv","webm","flv","mpeg","mov"].indexOf(normalizedExt)?mime="video/"+normalizedExt:~["mp3","oga","wav","mid","midi"].indexOf(normalizedExt)&&(mime="audio/"+normalizedExt)),mime}function getExtension(url){if("string"!=typeof url)throw new Error("`url` argument must be a string");var baseUrl=url.split("?")[0],baseName=baseUrl.split("\\").pop().split("/").pop();return~baseName.indexOf(".")?baseName.substring(baseName.lastIndexOf(".")+1):""}function normalizeExtension(extension){if("string"!=typeof extension)throw new Error("`extension` argument must be a string");switch(extension){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return extension}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.typeChecks=void 0,exports.absolutizeUrl=absolutizeUrl,exports.formatType=formatType,exports.getMimeFromType=getMimeFromType,exports.getTypeFromFile=getTypeFromFile,exports.getExtension=getExtension,exports.normalizeExtension=normalizeExtension;var _mejs=_dereq_(7),_mejs2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_mejs),_general=_dereq_(22),typeChecks=exports.typeChecks=[];_mejs2.default.Utils=_mejs2.default.Utils||{},_mejs2.default.Utils.typeChecks=typeChecks,_mejs2.default.Utils.absolutizeUrl=absolutizeUrl,_mejs2.default.Utils.formatType=formatType,_mejs2.default.Utils.getMimeFromType=getMimeFromType,_mejs2.default.Utils.getTypeFromFile=getTypeFromFile,_mejs2.default.Utils.getExtension=getExtension,_mejs2.default.Utils.normalizeExtension=normalizeExtension},{22:22,7:7}],24:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _document=_dereq_(2),_document2=_interopRequireDefault(_document),_promisePolyfill=_dereq_(4),_promisePolyfill2=_interopRequireDefault(_promisePolyfill);!function(arr){arr.forEach(function(item){item.hasOwnProperty("remove")||Object.defineProperty(item,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),function(){function CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:void 0};var evt=_document2.default.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt}if("function"==typeof window.CustomEvent)return!1;CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent}(),"function"!=typeof Object.assign&&(Object.assign=function(target){if(null===target||void 0===target)throw new TypeError("Cannot convert undefined or null to object");for(var to=Object(target),index=1,total=arguments.length;index<total;index++){var nextSource=arguments[index];if(null!==nextSource)for(var nextKey in nextSource)Object.prototype.hasOwnProperty.call(nextSource,nextKey)&&(to[nextKey]=nextSource[nextKey])}return to}),String.prototype.startsWith||(String.prototype.startsWith=function(searchString,position){return position=position||0,this.substr(position,searchString.length)===searchString}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(s){for(var matches=(this.document||this.ownerDocument).querySelectorAll(s),i=matches.length-1;--i>=0&&matches.item(i)!==this;);return i>-1}),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(s){var matches=(this.document||this.ownerDocument).querySelectorAll(s),i=void 0,el=this;do{for(i=matches.length;--i>=0&&matches.item(i)!==el;);}while(i<0&&(el=el.parentElement));return el}),function(){for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}(),/firefox/i.test(navigator.userAgent)&&(window.mediaElementJsOldGetComputedStyle=window.getComputedStyle,window.getComputedStyle=function(el,pseudoEl){var t=window.mediaElementJsOldGetComputedStyle(el,pseudoEl);return null===t?{getPropertyValue:function(){}}:t}),window.Promise||(window.Promise=_promisePolyfill2.default),function(constructor){constructor&&constructor.prototype&&null===constructor.prototype.children&&Object.defineProperty(constructor.prototype,"children",{get:function(){for(var i=0,node=void 0,nodes=this.childNodes,children=[];node=nodes[i++];)1===node.nodeType&&children.push(node);return children}})}(window.Node||window.Element)},{2:2,4:4}],25:[function(_dereq_,module,exports){"use strict";function isDropFrame(){return!((arguments.length>0&&void 0!==arguments[0]?arguments[0]:25)%1==0)}function secondsToTimeCode(time){var forceHours=arguments.length>1&&void 0!==arguments[1]&&arguments[1],showFrameCount=arguments.length>2&&void 0!==arguments[2]&&arguments[2],fps=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25,secondsDecimalLength=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;time=!time||"number"!=typeof time||time<0?0:time;var dropFrames=Math.round(.066666*fps),timeBase=Math.round(fps),framesPer24Hours=24*Math.round(3600*fps),framesPer10Minutes=Math.round(600*fps),frameSep=isDropFrame(fps)?";":":",hours=void 0,minutes=void 0,seconds=void 0,frames=void 0,f=Math.round(time*fps);if(isDropFrame(fps)){f<0&&(f=framesPer24Hours+f),f%=framesPer24Hours;var d=Math.floor(f/framesPer10Minutes),m=f%framesPer10Minutes;f+=9*dropFrames*d,m>dropFrames&&(f+=dropFrames*Math.floor((m-dropFrames)/Math.round(60*timeBase-dropFrames)));var timeBaseDivision=Math.floor(f/timeBase);hours=Math.floor(Math.floor(timeBaseDivision/60)/60),minutes=Math.floor(timeBaseDivision/60)%60,seconds=showFrameCount?timeBaseDivision%60:(f/timeBase%60).toFixed(secondsDecimalLength)}else hours=Math.floor(time/3600)%24,minutes=Math.floor(time/60)%60,seconds=showFrameCount?Math.floor(time%60):(time%60).toFixed(secondsDecimalLength);hours=hours<=0?0:hours,minutes=minutes<=0?0:minutes,seconds=seconds<=0?0:seconds;var result=forceHours||hours>0?(hours<10?"0"+hours:hours)+":":"";return result+=(minutes<10?"0"+minutes:minutes)+":",result+=""+(seconds<10?"0"+seconds:seconds),showFrameCount&&(frames=(f%timeBase).toFixed(0),frames=frames<=0?0:frames,result+=frames<10?frameSep+"0"+frames:""+frameSep+frames),result}function timeCodeToSeconds(time){var fps=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;if("string"!=typeof time)throw new TypeError("Time must be a string");if(time.indexOf(";")>0&&(time=time.replace(";",":")),!/\d{2}(\:\d{2}){0,3}/i.test(time))throw new TypeError("Time code must have the format `00:00:00`");var parts=time.split(":"),output=void 0,hours=0,minutes=0,seconds=0,frames=0,totalMinutes=0,dropFrames=Math.round(.066666*fps),timeBase=Math.round(fps),hFrames=3600*timeBase,mFrames=60*timeBase;switch(parts.length){default:case 1:seconds=parseInt(parts[0],10);break;case 2:minutes=parseInt(parts[0],10),seconds=parseInt(parts[1],10);break;case 3:hours=parseInt(parts[0],10),minutes=parseInt(parts[1],10),seconds=parseInt(parts[2],10);break;case 4:hours=parseInt(parts[0],10),minutes=parseInt(parts[1],10),seconds=parseInt(parts[2],10),frames=parseInt(parts[3],10)}return isDropFrame(fps)?(totalMinutes=60*hours+minutes,output=hFrames*hours+mFrames*minutes+timeBase*seconds+frames-dropFrames*(totalMinutes-Math.floor(totalMinutes/10))):output=(hFrames*hours+mFrames*minutes+fps*seconds+frames)/fps,parseFloat(output.toFixed(3))}function calculateTimeFormat(time,options){var fps=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;time=!time||"number"!=typeof time||time<0?0:time;for(var hours=Math.floor(time/3600)%24,minutes=Math.floor(time/60)%60,seconds=Math.floor(time%60),frames=Math.floor((time%1*fps).toFixed(3)),lis=[[frames,"f"],[seconds,"s"],[minutes,"m"],[hours,"h"]],format=options.timeFormat,firstTwoPlaces=format[1]===format[0],separatorIndex=firstTwoPlaces?2:1,separator=format.length<separatorIndex?format[separatorIndex]:":",firstChar=format[0],required=!1,i=0,len=lis.length;i<len;i++)if(~format.indexOf(lis[i][1]))required=!0;else if(required){for(var hasNextValue=!1,j=i;j<len;j++)if(lis[j][0]>0){hasNextValue=!0;break}if(!hasNextValue)break;firstTwoPlaces||(format=firstChar+format),format=lis[i][1]+separator+format,firstTwoPlaces&&(format=lis[i][1]+format),firstChar=lis[i][1]}options.currentTimeFormat=format}function convertSMPTEtoSeconds(SMPTE){if("string"!=typeof SMPTE)throw new TypeError("Argument must be a string value");SMPTE=SMPTE.replace(",",".");var decimalLen=~SMPTE.indexOf(".")?SMPTE.split(".")[1].length:0,secs=0,multiplier=1;SMPTE=SMPTE.split(":").reverse();for(var i=0,total=SMPTE.length;i<total;i++)multiplier=1,i>0&&(multiplier=Math.pow(60,i)),secs+=Number(SMPTE[i])*multiplier;return Number(secs.toFixed(decimalLen))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDropFrame=isDropFrame,exports.secondsToTimeCode=secondsToTimeCode,exports.timeCodeToSeconds=timeCodeToSeconds,exports.calculateTimeFormat=calculateTimeFormat,exports.convertSMPTEtoSeconds=convertSMPTEtoSeconds;var _mejs=_dereq_(7),_mejs2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_mejs);_mejs2.default.Utils=_mejs2.default.Utils||{},_mejs2.default.Utils.secondsToTimeCode=secondsToTimeCode,_mejs2.default.Utils.timeCodeToSeconds=timeCodeToSeconds,_mejs2.default.Utils.calculateTimeFormat=calculateTimeFormat,_mejs2.default.Utils.convertSMPTEtoSeconds=convertSMPTEtoSeconds},{7:7}]},{},[24,6,5,15,19,18,16,17,9,10,11,12,13,14])}).call(exports,__webpack_require__(16),__webpack_require__(80).setImmediate,__webpack_require__(1),__webpack_require__(1))}},[682]);